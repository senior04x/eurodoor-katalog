import{c as h,u,j as e}from"./index-D_r632up.js";import{r as c}from"./vendor-bd6wVIFv.js";import{m as o,w as g,x as p,X as b,U as j,e as f,s as N,y,S as w,n as v}from"./ui-DElh6nK7.js";import"./supabase-ByzS6PGn.js";function z({onNavigate:i}){const{user:s,updateProfile:x}=h();u();const[n,r]=c.useState(!1),[t,l]=c.useState({name:"",phone:""});c.useEffect(()=>{s&&l({name:s.name||"",phone:s.phone||""})},[s]);const d=async()=>{try{const a=await x(t);a.success?(r(!1),alert("Profil muvaffaqiyatli yangilandi!")):alert("Xatolik: "+a.error)}catch{alert("Profil yangilashda xatolik yuz berdi")}},m=()=>{l({name:s?.name||"",phone:s?.phone||""}),r(!1)};return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Mening Profilim"}),e.jsx("p",{className:"text-gray-300",children:"Shaxsiy ma'lumotlaringizni boshqaring"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Shaxsiy ma'lumotlar"}),n?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:"Saqlash"})]}),e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:"Bekor qilish"})]})]}):e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"Tahrirlash"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),n?e.jsx("input",{type:"text",value:t.name,onChange:a=>l({...t,name:a.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-white/40 transition-colors",placeholder:"Ismingizni kiriting"}):e.jsx("p",{className:"text-white font-medium",children:s.name||"Kiritilmagan"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx(f,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon raqami"}),n?e.jsx("input",{type:"tel",value:t.phone,onChange:a=>l({...t,phone:a.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-white/40 transition-colors",placeholder:"+998 90 123 45 67"}):e.jsx("p",{className:"text-white font-medium",children:s.phone||"Kiritilmagan"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("p",{className:"text-white font-medium",children:s.email}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Email o'zgartirib bo'lmaydi"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ro'yxatdan o'tgan sana"}),e.jsx("p",{className:"text-white font-medium",children:new Date(s.created_at).toLocaleDateString("uz-UZ",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})}),e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tezkor amallar"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>i("orders"),className:"w-full flex items-center space-x-3 px-4 py-3 bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 rounded-lg transition-colors",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{children:"Buyurtmalarim"})]}),e.jsxs("button",{onClick:()=>i("catalog"),className:"w-full flex items-center space-x-3 px-4 py-3 bg-green-600/20 hover:bg-green-600/30 text-green-300 rounded-lg transition-colors",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"Mahsulotlar"})]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Statistika"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Buyurtmalar soni"}),e.jsx("span",{className:"text-white font-semibold",children:"0"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Jami xarid"}),e.jsx("span",{className:"text-white font-semibold",children:"0 UZS"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"A'zo bo'lgan"}),e.jsxs("span",{className:"text-white font-semibold",children:[Math.floor((Date.now()-new Date(s.created_at).getTime())/(1e3*60*60*24))," kun"]})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Profil ko'rish uchun tizimga kiring"}),e.jsx("button",{onClick:()=>i("home"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Bosh sahifaga qaytish"})]})})}export{z as default};
