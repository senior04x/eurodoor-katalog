(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ky(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Nf={exports:{}},Co={},Pf={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),Gy=Symbol.for("react.portal"),Qy=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),Xy=Symbol.for("react.provider"),Zy=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),r0=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),Bu=Symbol.iterator;function s0(t){return t===null||typeof t!="object"?null:(t=Bu&&t[Bu]||t["@@iterator"],typeof t=="function"?t:null)}var Cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tf=Object.assign,Ef={};function Ln(t,e,r){this.props=t,this.context=e,this.refs=Ef,this.updater=r||Cf}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Af(){}Af.prototype=Ln.prototype;function gc(t,e,r){this.props=t,this.context=e,this.refs=Ef,this.updater=r||Cf}var yc=gc.prototype=new Af;yc.constructor=gc;Tf(yc,Ln.prototype);yc.isPureReactComponent=!0;var Fu=Array.isArray,Of=Object.prototype.hasOwnProperty,vc={current:null},zf={key:!0,ref:!0,__self:!0,__source:!0};function Rf(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Of.call(e,n)&&!zf.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Bs,type:t,key:i,ref:o,props:s,_owner:vc.current}}function i0(t,e){return{$$typeof:Bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bs}function o0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qu=/\/+/g;function ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o0(""+t.key):e.toString(36)}function Ti(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bs:case Gy:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+ia(o,0):n,Fu(s)?(r="",t!=null&&(r=t.replace(qu,"$&/")+"/"),Ti(s,e,r,"",function(u){return u})):s!=null&&(xc(s)&&(s=i0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Fu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+ia(i,a);o+=Ti(i,e,r,l,s)}else if(l=s0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+ia(i,a++),o+=Ti(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function si(t,e,r){if(t==null)return t;var n=[],s=0;return Ti(t,n,"","",function(i){return e.call(r,i,s++)}),n}function a0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},Ei={transition:null},l0={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:vc};function If(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:si,forEach:function(t,e,r){si(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return si(t,function(){e++}),e},toArray:function(t){return si(t,function(e){return e})||[]},only:function(t){if(!xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Ln;V.Fragment=Qy;V.Profiler=Yy;V.PureComponent=gc;V.StrictMode=Jy;V.Suspense=t0;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0;V.act=If;V.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Tf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Of.call(e,l)&&!zf.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Bs,type:t.type,key:s,ref:i,props:n,_owner:o}};V.createContext=function(t){return t={$$typeof:Zy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xy,_context:t},t.Consumer=t};V.createElement=Rf;V.createFactory=function(t){var e=Rf.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:e0,render:t}};V.isValidElement=xc;V.lazy=function(t){return{$$typeof:n0,_payload:{_status:-1,_result:t},_init:a0}};V.memo=function(t,e){return{$$typeof:r0,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Ei.transition;Ei.transition={};try{t()}finally{Ei.transition=e}};V.unstable_act=If;V.useCallback=function(t,e){return Te.current.useCallback(t,e)};V.useContext=function(t){return Te.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};V.useEffect=function(t,e){return Te.current.useEffect(t,e)};V.useId=function(){return Te.current.useId()};V.useImperativeHandle=function(t,e,r){return Te.current.useImperativeHandle(t,e,r)};V.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Te.current.useMemo(t,e)};V.useReducer=function(t,e,r){return Te.current.useReducer(t,e,r)};V.useRef=function(t){return Te.current.useRef(t)};V.useState=function(t){return Te.current.useState(t)};V.useSyncExternalStore=function(t,e,r){return Te.current.useSyncExternalStore(t,e,r)};V.useTransition=function(){return Te.current.useTransition()};V.version="18.3.1";Pf.exports=V;var S=Pf.exports;const wc=Hy(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=S,u0=Symbol.for("react.element"),d0=Symbol.for("react.fragment"),h0=Object.prototype.hasOwnProperty,f0=c0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m0={key:!0,ref:!0,__self:!0,__source:!0};function Lf(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)h0.call(e,n)&&!m0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:u0,type:t,key:i,ref:o,props:s,_owner:f0.current}}Co.Fragment=d0;Co.jsx=Lf;Co.jsxs=Lf;Nf.exports=Co;var c=Nf.exports,Mf={exports:{}},We={},Df={exports:{}},$f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var $=T.length;T.push(R);e:for(;0<$;){var L=$-1>>>1,Y=T[L];if(0<s(Y,R))T[L]=R,T[$]=Y,$=L;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],$=T.pop();if($!==R){T[0]=$;e:for(var L=0,Y=T.length,pr=Y>>>1;L<pr;){var ft=2*(L+1)-1,Kr=T[ft],$e=ft+1,gr=T[$e];if(0>s(Kr,$))$e<Y&&0>s(gr,Kr)?(T[L]=gr,T[$e]=$,L=$e):(T[L]=Kr,T[ft]=$,L=ft);else if($e<Y&&0>s(gr,$))T[L]=gr,T[$e]=$,L=$e;else break e}}return R}function s(T,R){var $=T.sortIndex-R.sortIndex;return $!==0?$:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(u)}}function k(T){if(x=!1,m(T),!v)if(r(l)!==null)v=!0,se(w);else{var R=r(u);R!==null&&Ke(k,R.startTime-T)}}function w(T,R){v=!1,x&&(x=!1,y(N),N=-1),p=!0;var $=f;try{for(m(R),h=r(l);h!==null&&(!(h.expirationTime>R)||T&&!ae());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var Y=L(h.expirationTime<=R);R=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(l)&&n(l),m(R)}else n(l);h=r(l)}if(h!==null)var pr=!0;else{var ft=r(u);ft!==null&&Ke(k,ft.startTime-R),pr=!1}return pr}finally{h=null,f=$,p=!1}}var _=!1,j=null,N=-1,C=5,O=-1;function ae(){return!(t.unstable_now()-O<C)}function ue(){if(j!==null){var T=t.unstable_now();O=T;var R=!0;try{R=j(!0,T)}finally{R?I():(_=!1,j=null)}}else _=!1}var I;if(typeof g=="function")I=function(){g(ue)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Dt=q.port2;q.port1.onmessage=ue,I=function(){Dt.postMessage(null)}}else I=function(){b(ue,0)};function se(T){j=T,_||(_=!0,I())}function Ke(T,R){N=b(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,se(w))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var $=f;f=R;try{return T()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=f;f=T;try{return R()}finally{f=$}},t.unstable_scheduleCallback=function(T,R,$){var L=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?L+$:L):$=L,T){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,T={id:d++,callback:R,priorityLevel:T,startTime:$,expirationTime:Y,sortIndex:-1},$>L?(T.sortIndex=$,e(u,T),r(l)===null&&T===r(u)&&(x?(y(N),N=-1):x=!0,Ke(k,$-L))):(T.sortIndex=Y,e(l,T),v||p||(v=!0,se(w))),T},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(T){var R=f;return function(){var $=f;f=R;try{return T.apply(this,arguments)}finally{f=$}}}})($f);Df.exports=$f;var p0=Df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=S,Fe=p0;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uf=new Set,bs={};function Vr(t,e){jn(t,e),jn(t+"Capture",e)}function jn(t,e){for(bs[t]=e,t=0;t<e.length;t++)Uf.add(e[t])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=Object.prototype.hasOwnProperty,y0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wu={},Hu={};function v0(t){return el.call(Hu,t)?!0:el.call(Wu,t)?!1:y0.test(t)?Hu[t]=!0:(Wu[t]=!0,!1)}function x0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w0(t,e,r,n){if(e===null||typeof e>"u"||x0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function kc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bc,kc);xe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bc,kc);xe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bc,kc);xe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function _c(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w0(e,r,s,n)&&(r=null),n||s===null?v0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Mt=g0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ii=Symbol.for("react.element"),rn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),Sc=Symbol.for("react.strict_mode"),tl=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Bf=Symbol.for("react.context"),jc=Symbol.for("react.forward_ref"),rl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),Nc=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),Ku=Symbol.iterator;function Vn(t){return t===null||typeof t!="object"?null:(t=Ku&&t[Ku]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,oa;function Xn(t){if(oa===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);oa=e&&e[1]||""}return`
`+oa+t}var aa=!1;function la(t,e){if(!t||aa)return"";aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{aa=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xn(t):""}function b0(t){switch(t.tag){case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return t=la(t.type,!1),t;case 11:return t=la(t.type.render,!1),t;case 1:return t=la(t.type,!0),t;default:return""}}function sl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nn:return"Fragment";case rn:return"Portal";case tl:return"Profiler";case Sc:return"StrictMode";case rl:return"Suspense";case nl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bf:return(t.displayName||"Context")+".Consumer";case Vf:return(t._context.displayName||"Context")+".Provider";case jc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nc:return e=t.displayName||null,e!==null?e:sl(t.type)||"Memo";case Ft:e=t._payload,t=t._init;try{return sl(t(e))}catch{}}return null}function k0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sl(e);case 8:return e===Sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _0(t){var e=qf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oi(t){t._valueTracker||(t._valueTracker=_0(t))}function Wf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function il(t,e){var r=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Gu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=or(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hf(t,e){e=e.checked,e!=null&&_c(t,"checked",e,!1)}function ol(t,e){Hf(t,e);var r=or(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?al(t,e.type,r):e.hasOwnProperty("defaultValue")&&al(t,e.type,or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function al(t,e,r){(e!=="number"||qi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zn=Array.isArray;function xn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+or(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ll(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ju(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(P(92));if(Zn(r)){if(1<r.length)throw Error(P(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:or(r)}}function Kf(t,e){var r=or(e.value),n=or(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Yu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ai,Qf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ai.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ks(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S0=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(t){S0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ss[e]=ss[t]})});function Jf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ss.hasOwnProperty(t)&&ss[t]?(""+e).trim():e+"px"}function Yf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Jf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var j0=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(t,e){if(e){if(j0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function dl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hl=null;function Pc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fl=null,wn=null,bn=null;function Xu(t){if(t=Ws(t)){if(typeof fl!="function")throw Error(P(280));var e=t.stateNode;e&&(e=zo(e),fl(t.stateNode,t.type,e))}}function Xf(t){wn?bn?bn.push(t):bn=[t]:wn=t}function Zf(){if(wn){var t=wn,e=bn;if(bn=wn=null,Xu(t),e)for(t=0;t<e.length;t++)Xu(e[t])}}function em(t,e){return t(e)}function tm(){}var ca=!1;function rm(t,e,r){if(ca)return t(e,r);ca=!0;try{return em(t,e,r)}finally{ca=!1,(wn!==null||bn!==null)&&(tm(),Zf())}}function _s(t,e){var r=t.stateNode;if(r===null)return null;var n=zo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(P(231,e,typeof r));return r}var ml=!1;if(Ot)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{ml=!1}function N0(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var is=!1,Wi=null,Hi=!1,pl=null,P0={onError:function(t){is=!0,Wi=t}};function C0(t,e,r,n,s,i,o,a,l){is=!1,Wi=null,N0.apply(P0,arguments)}function T0(t,e,r,n,s,i,o,a,l){if(C0.apply(this,arguments),is){if(is){var u=Wi;is=!1,Wi=null}else throw Error(P(198));Hi||(Hi=!0,pl=u)}}function Br(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function nm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zu(t){if(Br(t)!==t)throw Error(P(188))}function E0(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(P(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zu(s),t;if(i===n)return Zu(s),e;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?t:e}function sm(t){return t=E0(t),t!==null?im(t):null}function im(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=im(t);if(e!==null)return e;t=t.sibling}return null}var om=Fe.unstable_scheduleCallback,ed=Fe.unstable_cancelCallback,A0=Fe.unstable_shouldYield,O0=Fe.unstable_requestPaint,ie=Fe.unstable_now,z0=Fe.unstable_getCurrentPriorityLevel,Cc=Fe.unstable_ImmediatePriority,am=Fe.unstable_UserBlockingPriority,Ki=Fe.unstable_NormalPriority,R0=Fe.unstable_LowPriority,lm=Fe.unstable_IdlePriority,To=null,xt=null;function I0(t){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(To,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:D0,L0=Math.log,M0=Math.LN2;function D0(t){return t>>>=0,t===0?32:31-(L0(t)/M0|0)|0}var li=64,ci=4194304;function es(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=es(a):(i&=o,i!==0&&(n=es(i)))}else o=r&~s,o!==0?n=es(o):i!==0&&(n=es(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ut(e),s=1<<r,n|=t[r],e&=~s;return n}function $0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ut(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=$0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cm(){var t=li;return li<<=1,!(li&4194240)&&(li=64),t}function ua(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=r}function V0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ut(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Tc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ut(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function um(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dm,Ec,hm,fm,mm,yl=!1,ui=[],Yt=null,Xt=null,Zt=null,Ss=new Map,js=new Map,Ht=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(t,e){switch(t){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(e.pointerId)}}function Fn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ws(e),e!==null&&Ec(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function F0(t,e,r,n,s){switch(e){case"focusin":return Yt=Fn(Yt,t,e,r,n,s),!0;case"dragenter":return Xt=Fn(Xt,t,e,r,n,s),!0;case"mouseover":return Zt=Fn(Zt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ss.set(i,Fn(Ss.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,js.set(i,Fn(js.get(i)||null,t,e,r,n,s)),!0}return!1}function pm(t){var e=Cr(t.target);if(e!==null){var r=Br(e);if(r!==null){if(e=r.tag,e===13){if(e=nm(r),e!==null){t.blockedOn=e,mm(t.priority,function(){hm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ai(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);hl=n,r.target.dispatchEvent(n),hl=null}else return e=Ws(r),e!==null&&Ec(e),t.blockedOn=r,!1;e.shift()}return!0}function rd(t,e,r){Ai(t)&&r.delete(e)}function q0(){yl=!1,Yt!==null&&Ai(Yt)&&(Yt=null),Xt!==null&&Ai(Xt)&&(Xt=null),Zt!==null&&Ai(Zt)&&(Zt=null),Ss.forEach(rd),js.forEach(rd)}function qn(t,e){t.blockedOn===e&&(t.blockedOn=null,yl||(yl=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,q0)))}function Ns(t){function e(s){return qn(s,t)}if(0<ui.length){qn(ui[0],t);for(var r=1;r<ui.length;r++){var n=ui[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yt!==null&&qn(Yt,t),Xt!==null&&qn(Xt,t),Zt!==null&&qn(Zt,t),Ss.forEach(e),js.forEach(e),r=0;r<Ht.length;r++)n=Ht[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)pm(r),r.blockedOn===null&&Ht.shift()}var kn=Mt.ReactCurrentBatchConfig,Qi=!0;function W0(t,e,r,n){var s=W,i=kn.transition;kn.transition=null;try{W=1,Ac(t,e,r,n)}finally{W=s,kn.transition=i}}function H0(t,e,r,n){var s=W,i=kn.transition;kn.transition=null;try{W=4,Ac(t,e,r,n)}finally{W=s,kn.transition=i}}function Ac(t,e,r,n){if(Qi){var s=vl(t,e,r,n);if(s===null)wa(t,e,n,Ji,r),td(t,n);else if(F0(s,t,e,r,n))n.stopPropagation();else if(td(t,n),e&4&&-1<B0.indexOf(t)){for(;s!==null;){var i=Ws(s);if(i!==null&&dm(i),i=vl(t,e,r,n),i===null&&wa(t,e,n,Ji,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wa(t,e,n,null,r)}}var Ji=null;function vl(t,e,r,n){if(Ji=null,t=Pc(n),t=Cr(t),t!==null)if(e=Br(t),e===null)t=null;else if(r=e.tag,r===13){if(t=nm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ji=t,null}function gm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z0()){case Cc:return 1;case am:return 4;case Ki:case R0:return 16;case lm:return 536870912;default:return 16}default:return 16}}var Qt=null,Oc=null,Oi=null;function ym(){if(Oi)return Oi;var t,e=Oc,r=e.length,n,s="value"in Qt?Qt.value:Qt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Oi=s.slice(t,1<n?1-n:void 0)}function zi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function di(){return!0}function nd(){return!1}function He(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?di:nd,this.isPropagationStopped=nd,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),e}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=He(Mn),qs=re({},Mn,{view:0,detail:0}),K0=He(qs),da,ha,Wn,Eo=re({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(da=t.screenX-Wn.screenX,ha=t.screenY-Wn.screenY):ha=da=0,Wn=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),sd=He(Eo),G0=re({},Eo,{dataTransfer:0}),Q0=He(G0),J0=re({},qs,{relatedTarget:0}),fa=He(J0),Y0=re({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=He(Y0),Z0=re({},Mn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ev=He(Z0),tv=re({},Mn,{data:0}),id=He(tv),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sv[t])?!!e[t]:!1}function Rc(){return iv}var ov=re({},qs,{key:function(t){if(t.key){var e=rv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(t){return t.type==="keypress"?zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),av=He(ov),lv=re({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=He(lv),cv=re({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),uv=He(cv),dv=re({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=He(dv),fv=re({},Eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=He(fv),pv=[9,13,27,32],Ic=Ot&&"CompositionEvent"in window,os=null;Ot&&"documentMode"in document&&(os=document.documentMode);var gv=Ot&&"TextEvent"in window&&!os,vm=Ot&&(!Ic||os&&8<os&&11>=os),ad=" ",ld=!1;function xm(t,e){switch(t){case"keyup":return pv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sn=!1;function yv(t,e){switch(t){case"compositionend":return wm(e);case"keypress":return e.which!==32?null:(ld=!0,ad);case"textInput":return t=e.data,t===ad&&ld?null:t;default:return null}}function vv(t,e){if(sn)return t==="compositionend"||!Ic&&xm(t,e)?(t=ym(),Oi=Oc=Qt=null,sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vm&&e.locale!=="ko"?null:e.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xv[t.type]:e==="textarea"}function bm(t,e,r,n){Xf(n),e=Yi(e,"onChange"),0<e.length&&(r=new zc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var as=null,Ps=null;function wv(t){Om(t,0)}function Ao(t){var e=ln(t);if(Wf(e))return t}function bv(t,e){if(t==="change")return e}var km=!1;if(Ot){var ma;if(Ot){var pa="oninput"in document;if(!pa){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),pa=typeof ud.oninput=="function"}ma=pa}else ma=!1;km=ma&&(!document.documentMode||9<document.documentMode)}function dd(){as&&(as.detachEvent("onpropertychange",_m),Ps=as=null)}function _m(t){if(t.propertyName==="value"&&Ao(Ps)){var e=[];bm(e,Ps,t,Pc(t)),rm(wv,e)}}function kv(t,e,r){t==="focusin"?(dd(),as=e,Ps=r,as.attachEvent("onpropertychange",_m)):t==="focusout"&&dd()}function _v(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Ps)}function Sv(t,e){if(t==="click")return Ao(e)}function jv(t,e){if(t==="input"||t==="change")return Ao(e)}function Nv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ht=typeof Object.is=="function"?Object.is:Nv;function Cs(t,e){if(ht(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!el.call(e,s)||!ht(t[s],e[s]))return!1}return!0}function hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fd(t,e){var r=hd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hd(r)}}function Sm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jm(){for(var t=window,e=qi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=qi(t.document)}return e}function Lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pv(t){var e=jm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Sm(r.ownerDocument.documentElement,r)){if(n!==null&&Lc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=fd(r,i);var o=fd(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cv=Ot&&"documentMode"in document&&11>=document.documentMode,on=null,xl=null,ls=null,wl=!1;function md(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wl||on==null||on!==qi(n)||(n=on,"selectionStart"in n&&Lc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ls&&Cs(ls,n)||(ls=n,n=Yi(xl,"onSelect"),0<n.length&&(e=new zc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=on)))}function hi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var an={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},ga={},Nm={};Ot&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function Oo(t){if(ga[t])return ga[t];if(!an[t])return t;var e=an[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Nm)return ga[t]=e[r];return t}var Pm=Oo("animationend"),Cm=Oo("animationiteration"),Tm=Oo("animationstart"),Em=Oo("transitionend"),Am=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){Am.set(t,e),Vr(e,[t])}for(var ya=0;ya<pd.length;ya++){var va=pd[ya],Tv=va.toLowerCase(),Ev=va[0].toUpperCase()+va.slice(1);ur(Tv,"on"+Ev)}ur(Pm,"onAnimationEnd");ur(Cm,"onAnimationIteration");ur(Tm,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Em,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function gd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,T0(n,e,void 0,t),t.currentTarget=null}function Om(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gd(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gd(s,a,u),i=l}}}if(Hi)throw t=pl,Hi=!1,pl=null,t}function Q(t,e){var r=e[jl];r===void 0&&(r=e[jl]=new Set);var n=t+"__bubble";r.has(n)||(zm(e,t,2,!1),r.add(n))}function xa(t,e,r){var n=0;e&&(n|=4),zm(r,t,n,e)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Ts(t){if(!t[fi]){t[fi]=!0,Uf.forEach(function(r){r!=="selectionchange"&&(Av.has(r)||xa(r,!1,t),xa(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fi]||(e[fi]=!0,xa("selectionchange",!1,e))}}function zm(t,e,r,n){switch(gm(e)){case 1:var s=W0;break;case 4:s=H0;break;default:s=Ac}r=s.bind(null,e,r,t),s=void 0,!ml||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wa(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}rm(function(){var u=i,d=Pc(r),h=[];e:{var f=Am.get(t);if(f!==void 0){var p=zc,v=t;switch(t){case"keypress":if(zi(r)===0)break e;case"keydown":case"keyup":p=av;break;case"focusin":v="focus",p=fa;break;case"focusout":v="blur",p=fa;break;case"beforeblur":case"afterblur":p=fa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uv;break;case Pm:case Cm:case Tm:p=X0;break;case Em:p=hv;break;case"scroll":p=K0;break;case"wheel":p=mv;break;case"copy":case"cut":case"paste":p=ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=od}var x=(e&4)!==0,b=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var g=u,m;g!==null;){m=g;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,y!==null&&(k=_s(g,y),k!=null&&x.push(Es(g,k,m)))),b)break;g=g.return}0<x.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==hl&&(v=r.relatedTarget||r.fromElement)&&(Cr(v)||v[zt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Cr(v):null,v!==null&&(b=Br(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(x=sd,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=od,k="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?f:ln(p),m=v==null?f:ln(v),f=new x(k,g+"leave",p,r,d),f.target=b,f.relatedTarget=m,k=null,Cr(d)===u&&(x=new x(y,g+"enter",v,r,d),x.target=m,x.relatedTarget=b,k=x),b=k,p&&v)t:{for(x=p,y=v,g=0,m=x;m;m=Gr(m))g++;for(m=0,k=y;k;k=Gr(k))m++;for(;0<g-m;)x=Gr(x),g--;for(;0<m-g;)y=Gr(y),m--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=Gr(x),y=Gr(y)}x=null}else x=null;p!==null&&yd(h,f,p,x,!1),v!==null&&b!==null&&yd(h,b,v,x,!0)}}e:{if(f=u?ln(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=bv;else if(cd(f))if(km)w=jv;else{w=_v;var _=kv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Sv);if(w&&(w=w(t,u))){bm(h,w,r,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&al(f,"number",f.value)}switch(_=u?ln(u):window,t){case"focusin":(cd(_)||_.contentEditable==="true")&&(on=_,xl=u,ls=null);break;case"focusout":ls=xl=on=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,md(h,r,d);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":md(h,r,d)}var j;if(Ic)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else sn?xm(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(vm&&r.locale!=="ko"&&(sn||N!=="onCompositionStart"?N==="onCompositionEnd"&&sn&&(j=ym()):(Qt=d,Oc="value"in Qt?Qt.value:Qt.textContent,sn=!0)),_=Yi(u,N),0<_.length&&(N=new id(N,t,null,r,d),h.push({event:N,listeners:_}),j?N.data=j:(j=wm(r),j!==null&&(N.data=j)))),(j=gv?yv(t,r):vv(t,r))&&(u=Yi(u,"onBeforeInput"),0<u.length&&(d=new id("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}Om(h,e)})}function Es(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Yi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_s(t,r),i!=null&&n.unshift(Es(t,i,s)),i=_s(t,e),i!=null&&n.push(Es(t,i,s))),t=t.return}return n}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yd(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=_s(r,i),l!=null&&o.unshift(Es(r,l,a))):s||(l=_s(r,i),l!=null&&o.push(Es(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Ov=/\r\n?/g,zv=/\u0000|\uFFFD/g;function vd(t){return(typeof t=="string"?t:""+t).replace(Ov,`
`).replace(zv,"")}function mi(t,e,r){if(e=vd(e),vd(t)!==e&&r)throw Error(P(425))}function Xi(){}var bl=null,kl=null;function _l(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sl=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(t){return xd.resolve(null).then(t).catch(Lv)}:Sl;function Lv(t){setTimeout(function(){throw t})}function ba(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ns(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ns(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Dn,As="__reactProps$"+Dn,zt="__reactContainer$"+Dn,jl="__reactEvents$"+Dn,Mv="__reactListeners$"+Dn,Dv="__reactHandles$"+Dn;function Cr(t){var e=t[yt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[zt]||r[yt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wd(t);t!==null;){if(r=t[yt])return r;t=wd(t)}return e}t=r,r=t.parentNode}return null}function Ws(t){return t=t[yt]||t[zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function zo(t){return t[As]||null}var Nl=[],cn=-1;function dr(t){return{current:t}}function J(t){0>cn||(t.current=Nl[cn],Nl[cn]=null,cn--)}function K(t,e){cn++,Nl[cn]=t.current,t.current=e}var ar={},Se=dr(ar),Ie=dr(!1),Ir=ar;function Nn(t,e){var r=t.type.contextTypes;if(!r)return ar;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Le(t){return t=t.childContextTypes,t!=null}function Zi(){J(Ie),J(Se)}function bd(t,e,r){if(Se.current!==ar)throw Error(P(168));K(Se,e),K(Ie,r)}function Rm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(P(108,k0(t)||"Unknown",s));return re({},r,n)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ar,Ir=Se.current,K(Se,t),K(Ie,Ie.current),!0}function kd(t,e,r){var n=t.stateNode;if(!n)throw Error(P(169));r?(t=Rm(t,e,Ir),n.__reactInternalMemoizedMergedChildContext=t,J(Ie),J(Se),K(Se,t)):J(Ie),K(Ie,r)}var jt=null,Ro=!1,ka=!1;function Im(t){jt===null?jt=[t]:jt.push(t)}function $v(t){Ro=!0,Im(t)}function hr(){if(!ka&&jt!==null){ka=!0;var t=0,e=W;try{var r=jt;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}jt=null,Ro=!1}catch(s){throw jt!==null&&(jt=jt.slice(t+1)),om(Cc,hr),s}finally{W=e,ka=!1}}return null}var un=[],dn=0,to=null,ro=0,Je=[],Ye=0,Lr=null,Nt=1,Pt="";function br(t,e){un[dn++]=ro,un[dn++]=to,to=t,ro=e}function Lm(t,e,r){Je[Ye++]=Nt,Je[Ye++]=Pt,Je[Ye++]=Lr,Lr=t;var n=Nt;t=Pt;var s=32-ut(n)-1;n&=~(1<<s),r+=1;var i=32-ut(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Nt=1<<32-ut(e)+s|r<<s|n,Pt=i+t}else Nt=1<<i|r<<s|n,Pt=t}function Mc(t){t.return!==null&&(br(t,1),Lm(t,1,0))}function Dc(t){for(;t===to;)to=un[--dn],un[dn]=null,ro=un[--dn],un[dn]=null;for(;t===Lr;)Lr=Je[--Ye],Je[Ye]=null,Pt=Je[--Ye],Je[Ye]=null,Nt=Je[--Ye],Je[Ye]=null}var Be=null,Ve=null,X=!1,ct=null;function Mm(t,e){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _d(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,Ve=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,Ve=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Lr!==null?{id:Nt,overflow:Pt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Be=t,Ve=null,!0):!1;default:return!1}}function Pl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cl(t){if(X){var e=Ve;if(e){var r=e;if(!_d(t,e)){if(Pl(t))throw Error(P(418));e=er(r.nextSibling);var n=Be;e&&_d(t,e)?Mm(n,r):(t.flags=t.flags&-4097|2,X=!1,Be=t)}}else{if(Pl(t))throw Error(P(418));t.flags=t.flags&-4097|2,X=!1,Be=t}}}function Sd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function pi(t){if(t!==Be)return!1;if(!X)return Sd(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_l(t.type,t.memoizedProps)),e&&(e=Ve)){if(Pl(t))throw Dm(),Error(P(418));for(;e;)Mm(t,e),e=er(e.nextSibling)}if(Sd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ve=er(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ve=null}}else Ve=Be?er(t.stateNode.nextSibling):null;return!0}function Dm(){for(var t=Ve;t;)t=er(t.nextSibling)}function Pn(){Ve=Be=null,X=!1}function $c(t){ct===null?ct=[t]:ct.push(t)}var Uv=Mt.ReactCurrentBatchConfig;function Hn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,t))}return t}function gi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jd(t){var e=t._init;return e(t._payload)}function $m(t){function e(y,g){if(t){var m=y.deletions;m===null?(y.deletions=[g],y.flags|=16):m.push(g)}}function r(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=sr(y,g),y.index=0,y.sibling=null,y}function i(y,g,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<g?(y.flags|=2,g):m):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,m,k){return g===null||g.tag!==6?(g=Ta(m,y.mode,k),g.return=y,g):(g=s(g,m),g.return=y,g)}function l(y,g,m,k){var w=m.type;return w===nn?d(y,g,m.props.children,k,m.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ft&&jd(w)===g.type)?(k=s(g,m.props),k.ref=Hn(y,g,m),k.return=y,k):(k=Ui(m.type,m.key,m.props,null,y.mode,k),k.ref=Hn(y,g,m),k.return=y,k)}function u(y,g,m,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Ea(m,y.mode,k),g.return=y,g):(g=s(g,m.children||[]),g.return=y,g)}function d(y,g,m,k,w){return g===null||g.tag!==7?(g=zr(m,y.mode,k,w),g.return=y,g):(g=s(g,m),g.return=y,g)}function h(y,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ta(""+g,y.mode,m),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ii:return m=Ui(g.type,g.key,g.props,null,y.mode,m),m.ref=Hn(y,null,g),m.return=y,m;case rn:return g=Ea(g,y.mode,m),g.return=y,g;case Ft:var k=g._init;return h(y,k(g._payload),m)}if(Zn(g)||Vn(g))return g=zr(g,y.mode,m,null),g.return=y,g;gi(y,g)}return null}function f(y,g,m,k){var w=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:a(y,g,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ii:return m.key===w?l(y,g,m,k):null;case rn:return m.key===w?u(y,g,m,k):null;case Ft:return w=m._init,f(y,g,w(m._payload),k)}if(Zn(m)||Vn(m))return w!==null?null:d(y,g,m,k,null);gi(y,m)}return null}function p(y,g,m,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(m)||null,a(g,y,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ii:return y=y.get(k.key===null?m:k.key)||null,l(g,y,k,w);case rn:return y=y.get(k.key===null?m:k.key)||null,u(g,y,k,w);case Ft:var _=k._init;return p(y,g,m,_(k._payload),w)}if(Zn(k)||Vn(k))return y=y.get(m)||null,d(g,y,k,w,null);gi(g,k)}return null}function v(y,g,m,k){for(var w=null,_=null,j=g,N=g=0,C=null;j!==null&&N<m.length;N++){j.index>N?(C=j,j=null):C=j.sibling;var O=f(y,j,m[N],k);if(O===null){j===null&&(j=C);break}t&&j&&O.alternate===null&&e(y,j),g=i(O,g,N),_===null?w=O:_.sibling=O,_=O,j=C}if(N===m.length)return r(y,j),X&&br(y,N),w;if(j===null){for(;N<m.length;N++)j=h(y,m[N],k),j!==null&&(g=i(j,g,N),_===null?w=j:_.sibling=j,_=j);return X&&br(y,N),w}for(j=n(y,j);N<m.length;N++)C=p(j,y,N,m[N],k),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?N:C.key),g=i(C,g,N),_===null?w=C:_.sibling=C,_=C);return t&&j.forEach(function(ae){return e(y,ae)}),X&&br(y,N),w}function x(y,g,m,k){var w=Vn(m);if(typeof w!="function")throw Error(P(150));if(m=w.call(m),m==null)throw Error(P(151));for(var _=w=null,j=g,N=g=0,C=null,O=m.next();j!==null&&!O.done;N++,O=m.next()){j.index>N?(C=j,j=null):C=j.sibling;var ae=f(y,j,O.value,k);if(ae===null){j===null&&(j=C);break}t&&j&&ae.alternate===null&&e(y,j),g=i(ae,g,N),_===null?w=ae:_.sibling=ae,_=ae,j=C}if(O.done)return r(y,j),X&&br(y,N),w;if(j===null){for(;!O.done;N++,O=m.next())O=h(y,O.value,k),O!==null&&(g=i(O,g,N),_===null?w=O:_.sibling=O,_=O);return X&&br(y,N),w}for(j=n(y,j);!O.done;N++,O=m.next())O=p(j,y,N,O.value,k),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?N:O.key),g=i(O,g,N),_===null?w=O:_.sibling=O,_=O);return t&&j.forEach(function(ue){return e(y,ue)}),X&&br(y,N),w}function b(y,g,m,k){if(typeof m=="object"&&m!==null&&m.type===nn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ii:e:{for(var w=m.key,_=g;_!==null;){if(_.key===w){if(w=m.type,w===nn){if(_.tag===7){r(y,_.sibling),g=s(_,m.props.children),g.return=y,y=g;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ft&&jd(w)===_.type){r(y,_.sibling),g=s(_,m.props),g.ref=Hn(y,_,m),g.return=y,y=g;break e}r(y,_);break}else e(y,_);_=_.sibling}m.type===nn?(g=zr(m.props.children,y.mode,k,m.key),g.return=y,y=g):(k=Ui(m.type,m.key,m.props,null,y.mode,k),k.ref=Hn(y,g,m),k.return=y,y=k)}return o(y);case rn:e:{for(_=m.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(y,g.sibling),g=s(g,m.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else e(y,g);g=g.sibling}g=Ea(m,y.mode,k),g.return=y,y=g}return o(y);case Ft:return _=m._init,b(y,g,_(m._payload),k)}if(Zn(m))return v(y,g,m,k);if(Vn(m))return x(y,g,m,k);gi(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,m),g.return=y,y=g):(r(y,g),g=Ta(m,y.mode,k),g.return=y,y=g),o(y)):r(y,g)}return b}var Cn=$m(!0),Um=$m(!1),no=dr(null),so=null,hn=null,Uc=null;function Vc(){Uc=hn=so=null}function Bc(t){var e=no.current;J(no),t._currentValue=e}function Tl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function _n(t,e){so=t,Uc=hn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function tt(t){var e=t._currentValue;if(Uc!==t)if(t={context:t,memoizedValue:e,next:null},hn===null){if(so===null)throw Error(P(308));hn=t,so.dependencies={lanes:0,firstContext:t}}else hn=hn.next=t;return e}var Tr=null;function Fc(t){Tr===null?Tr=[t]:Tr.push(t)}function Vm(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Fc(e)):(r.next=s.next,s.next=r),e.interleaved=r,Rt(t,n)}function Rt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qt=!1;function qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Rt(t,r)}return s=n.interleaved,s===null?(e.next=e,Fc(n)):(e.next=s.next,s.next=e),n.interleaved=e,Rt(t,r)}function Ri(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tc(t,r)}}function Nd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function io(t,e,r,n){var s=t.updateQueue;qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,p=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=re({},h,f);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dr|=o,t.lanes=o,t.memoizedState=h}}function Pd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var Hs={},wt=dr(Hs),Os=dr(Hs),zs=dr(Hs);function Er(t){if(t===Hs)throw Error(P(174));return t}function Wc(t,e){switch(K(zs,e),K(Os,t),K(wt,Hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cl(e,t)}J(wt),K(wt,e)}function Tn(){J(wt),J(Os),J(zs)}function Fm(t){Er(zs.current);var e=Er(wt.current),r=cl(e,t.type);e!==r&&(K(Os,t),K(wt,r))}function Hc(t){Os.current===t&&(J(wt),J(Os))}var Z=dr(0);function oo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _a=[];function Kc(){for(var t=0;t<_a.length;t++)_a[t]._workInProgressVersionPrimary=null;_a.length=0}var Ii=Mt.ReactCurrentDispatcher,Sa=Mt.ReactCurrentBatchConfig,Mr=0,te=null,fe=null,pe=null,ao=!1,cs=!1,Rs=0,Vv=0;function we(){throw Error(P(321))}function Gc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ht(t[r],e[r]))return!1;return!0}function Qc(t,e,r,n,s,i){if(Mr=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ii.current=t===null||t.memoizedState===null?Wv:Hv,t=r(n,s),cs){i=0;do{if(cs=!1,Rs=0,25<=i)throw Error(P(301));i+=1,pe=fe=null,e.updateQueue=null,Ii.current=Kv,t=r(n,s)}while(cs)}if(Ii.current=lo,e=fe!==null&&fe.next!==null,Mr=0,pe=fe=te=null,ao=!1,e)throw Error(P(300));return t}function Jc(){var t=Rs!==0;return Rs=0,t}function pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?te.memoizedState=pe=t:pe=pe.next=t,pe}function rt(){if(fe===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=pe===null?te.memoizedState:pe.next;if(e!==null)pe=e,fe=t;else{if(t===null)throw Error(P(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},pe===null?te.memoizedState=pe=t:pe=pe.next=t}return pe}function Is(t,e){return typeof e=="function"?e(t):e}function ja(t){var e=rt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Mr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,te.lanes|=d,Dr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,ht(n,e.memoizedState)||(Re=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,Dr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Na(t){var e=rt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ht(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function qm(){}function Wm(t,e){var r=te,n=rt(),s=e(),i=!ht(n.memoizedState,s);if(i&&(n.memoizedState=s,Re=!0),n=n.queue,Yc(Gm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,Ls(9,Km.bind(null,r,n,s,e),void 0,null),ge===null)throw Error(P(349));Mr&30||Hm(r,e,s)}return s}function Hm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Km(t,e,r,n){e.value=r,e.getSnapshot=n,Qm(e)&&Jm(t)}function Gm(t,e,r){return r(function(){Qm(e)&&Jm(t)})}function Qm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ht(t,r)}catch{return!0}}function Jm(t){var e=Rt(t,1);e!==null&&dt(e,t,1,-1)}function Cd(t){var e=pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},e.queue=t,t=t.dispatch=qv.bind(null,te,t),[e.memoizedState,t]}function Ls(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ym(){return rt().memoizedState}function Li(t,e,r,n){var s=pt();te.flags|=t,s.memoizedState=Ls(1|e,r,void 0,n===void 0?null:n)}function Io(t,e,r,n){var s=rt();n=n===void 0?null:n;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,n!==null&&Gc(n,o.deps)){s.memoizedState=Ls(e,r,i,n);return}}te.flags|=t,s.memoizedState=Ls(1|e,r,i,n)}function Td(t,e){return Li(8390656,8,t,e)}function Yc(t,e){return Io(2048,8,t,e)}function Xm(t,e){return Io(4,2,t,e)}function Zm(t,e){return Io(4,4,t,e)}function ep(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tp(t,e,r){return r=r!=null?r.concat([t]):null,Io(4,4,ep.bind(null,e,t),r)}function Xc(){}function rp(t,e){var r=rt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function np(t,e){var r=rt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function sp(t,e,r){return Mr&21?(ht(r,e)||(r=cm(),te.lanes|=r,Dr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=r)}function Bv(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=Sa.transition;Sa.transition={};try{t(!1),e()}finally{W=r,Sa.transition=n}}function ip(){return rt().memoizedState}function Fv(t,e,r){var n=nr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},op(t))ap(e,r);else if(r=Vm(t,e,r,n),r!==null){var s=Ce();dt(r,t,n,s),lp(r,e,n)}}function qv(t,e,r){var n=nr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(op(t))ap(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ht(a,o)){var l=e.interleaved;l===null?(s.next=s,Fc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Vm(t,e,s,n),r!==null&&(s=Ce(),dt(r,t,n,s),lp(r,e,n))}}function op(t){var e=t.alternate;return t===te||e!==null&&e===te}function ap(t,e){cs=ao=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tc(t,r)}}var lo={readContext:tt,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Wv={readContext:tt,useCallback:function(t,e){return pt().memoizedState=[t,e===void 0?null:e],t},useContext:tt,useEffect:Td,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Li(4194308,4,ep.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Li(4194308,4,t,e)},useInsertionEffect:function(t,e){return Li(4,2,t,e)},useMemo:function(t,e){var r=pt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Fv.bind(null,te,t),[n.memoizedState,t]},useRef:function(t){var e=pt();return t={current:t},e.memoizedState=t},useState:Cd,useDebugValue:Xc,useDeferredValue:function(t){return pt().memoizedState=t},useTransition:function(){var t=Cd(!1),e=t[0];return t=Bv.bind(null,t[1]),pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=te,s=pt();if(X){if(r===void 0)throw Error(P(407));r=r()}else{if(r=e(),ge===null)throw Error(P(349));Mr&30||Hm(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Td(Gm.bind(null,n,i,t),[t]),n.flags|=2048,Ls(9,Km.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=pt(),e=ge.identifierPrefix;if(X){var r=Pt,n=Nt;r=(n&~(1<<32-ut(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Rs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Vv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hv={readContext:tt,useCallback:rp,useContext:tt,useEffect:Yc,useImperativeHandle:tp,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:np,useReducer:ja,useRef:Ym,useState:function(){return ja(Is)},useDebugValue:Xc,useDeferredValue:function(t){var e=rt();return sp(e,fe.memoizedState,t)},useTransition:function(){var t=ja(Is)[0],e=rt().memoizedState;return[t,e]},useMutableSource:qm,useSyncExternalStore:Wm,useId:ip,unstable_isNewReconciler:!1},Kv={readContext:tt,useCallback:rp,useContext:tt,useEffect:Yc,useImperativeHandle:tp,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:np,useReducer:Na,useRef:Ym,useState:function(){return Na(Is)},useDebugValue:Xc,useDeferredValue:function(t){var e=rt();return fe===null?e.memoizedState=t:sp(e,fe.memoizedState,t)},useTransition:function(){var t=Na(Is)[0],e=rt().memoizedState;return[t,e]},useMutableSource:qm,useSyncExternalStore:Wm,useId:ip,unstable_isNewReconciler:!1};function ot(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function El(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:re({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lo={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ce(),s=nr(t),i=Tt(n,s);i.payload=e,r!=null&&(i.callback=r),e=tr(t,i,s),e!==null&&(dt(e,t,s,n),Ri(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ce(),s=nr(t),i=Tt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=tr(t,i,s),e!==null&&(dt(e,t,s,n),Ri(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ce(),n=nr(t),s=Tt(r,n);s.tag=2,e!=null&&(s.callback=e),e=tr(t,s,n),e!==null&&(dt(e,t,n,r),Ri(e,t,n))}};function Ed(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Cs(r,n)||!Cs(s,i):!0}function cp(t,e,r){var n=!1,s=ar,i=e.contextType;return typeof i=="object"&&i!==null?i=tt(i):(s=Le(e)?Ir:Se.current,n=e.contextTypes,i=(n=n!=null)?Nn(t,s):ar),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ad(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Lo.enqueueReplaceState(e,e.state,null)}function Al(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},qc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=tt(i):(i=Le(e)?Ir:Se.current,s.context=Nn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(El(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Lo.enqueueReplaceState(s,s.state,null),io(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function En(t,e){try{var r="",n=e;do r+=b0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Pa(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ol(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Gv=typeof WeakMap=="function"?WeakMap:Map;function up(t,e,r){r=Tt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){uo||(uo=!0,Bl=n),Ol(t,e)},r}function dp(t,e,r){r=Tt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ol(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ol(t,e),typeof n!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Od(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Gv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=lx.bind(null,t,e,r),e.then(t,t))}function zd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rd(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Tt(-1,1),e.tag=2,tr(r,e,1))),r.lanes|=1),t)}var Qv=Mt.ReactCurrentOwner,Re=!1;function Pe(t,e,r,n){e.child=t===null?Um(e,null,r,n):Cn(e,t.child,r,n)}function Id(t,e,r,n,s){r=r.render;var i=e.ref;return _n(e,s),n=Qc(t,e,r,n,i,s),r=Jc(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,It(t,e,s)):(X&&r&&Mc(e),e.flags|=1,Pe(t,e,n,s),e.child)}function Ld(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ou(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,hp(t,e,i,n,s)):(t=Ui(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Cs,r(o,n)&&t.ref===e.ref)return It(t,e,s)}return e.flags|=1,t=sr(i,n),t.ref=e.ref,t.return=e,e.child=t}function hp(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Cs(i,n)&&t.ref===e.ref)if(Re=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,It(t,e,s)}return zl(t,e,r,n,s)}function fp(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(mn,Ue),Ue|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(mn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,K(mn,Ue),Ue|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,K(mn,Ue),Ue|=n;return Pe(t,e,s,r),e.child}function mp(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zl(t,e,r,n,s){var i=Le(r)?Ir:Se.current;return i=Nn(e,i),_n(e,s),r=Qc(t,e,r,n,i,s),n=Jc(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,It(t,e,s)):(X&&n&&Mc(e),e.flags|=1,Pe(t,e,r,s),e.child)}function Md(t,e,r,n,s){if(Le(r)){var i=!0;eo(e)}else i=!1;if(_n(e,s),e.stateNode===null)Mi(t,e),cp(e,r,n),Al(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=Le(r)?Ir:Se.current,u=Nn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Ad(e,o,n,u),qt=!1;var f=e.memoizedState;o.state=f,io(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Ie.current||qt?(typeof d=="function"&&(El(e,r,d,n),l=e.memoizedState),(a=qt||Ed(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Bm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ot(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=tt(l):(l=Le(r)?Ir:Se.current,l=Nn(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ad(e,o,n,l),qt=!1,f=e.memoizedState,o.state=f,io(e,n,o,s);var v=e.memoizedState;a!==h||f!==v||Ie.current||qt?(typeof p=="function"&&(El(e,r,p,n),v=e.memoizedState),(u=qt||Ed(e,r,u,n,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Rl(t,e,r,n,i,s)}function Rl(t,e,r,n,s,i){mp(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&kd(e,r,!1),It(t,e,i);n=e.stateNode,Qv.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Cn(e,t.child,null,i),e.child=Cn(e,null,a,i)):Pe(t,e,a,i),e.memoizedState=n.state,s&&kd(e,r,!0),e.child}function pp(t){var e=t.stateNode;e.pendingContext?bd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bd(t,e.context,!1),Wc(t,e.containerInfo)}function Dd(t,e,r,n,s){return Pn(),$c(s),e.flags|=256,Pe(t,e,r,n),e.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Ll(t){return{baseLanes:t,cachePool:null,transitions:null}}function gp(t,e,r){var n=e.pendingProps,s=Z.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Z,s&1),t===null)return Cl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$o(o,n,0,null),t=zr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ll(r),e.memoizedState=Il,t):Zc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Jv(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=sr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=sr(a,i):(i=zr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ll(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Il,n}return i=t.child,t=i.sibling,n=sr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Zc(t,e){return e=$o({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yi(t,e,r,n){return n!==null&&$c(n),Cn(e,t.child,null,r),t=Zc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jv(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Pa(Error(P(422))),yi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=$o({mode:"visible",children:n.children},s,0,null),i=zr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Cn(e,t.child,null,o),e.child.memoizedState=Ll(o),e.memoizedState=Il,i);if(!(e.mode&1))return yi(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=Pa(i,n,void 0),yi(t,e,o,n)}if(a=(o&t.childLanes)!==0,Re||a){if(n=ge,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(t,s),dt(n,t,s,-1))}return iu(),n=Pa(Error(P(421))),yi(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ve=er(s.nextSibling),Be=e,X=!0,ct=null,t!==null&&(Je[Ye++]=Nt,Je[Ye++]=Pt,Je[Ye++]=Lr,Nt=t.id,Pt=t.overflow,Lr=e),e=Zc(e,n.children),e.flags|=4096,e)}function $d(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Tl(t.return,e,r)}function Ca(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function yp(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Pe(t,e,n.children,r),n=Z.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$d(t,r,e);else if(t.tag===19)$d(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(K(Z,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&oo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ca(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ca(e,!0,r,null,i);break;case"together":Ca(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function It(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,r=sr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Yv(t,e,r){switch(e.tag){case 3:pp(e),Pn();break;case 5:Fm(e);break;case 1:Le(e.type)&&eo(e);break;case 4:Wc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;K(no,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(K(Z,Z.current&1),e.flags|=128,null):r&e.child.childLanes?gp(t,e,r):(K(Z,Z.current&1),t=It(t,e,r),t!==null?t.sibling:null);K(Z,Z.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return yp(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Z,Z.current),n)break;return null;case 22:case 23:return e.lanes=0,fp(t,e,r)}return It(t,e,r)}var vp,Ml,xp,wp;vp=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ml=function(){};xp=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Er(wt.current);var i=null;switch(r){case"input":s=il(t,s),n=il(t,n),i=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),i=[];break;case"textarea":s=ll(t,s),n=ll(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xi)}ul(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s?.[u],n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};wp=function(t,e,r,n){r!==n&&(e.flags|=4)};function Kn(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Xv(t,e,r){var n=e.pendingProps;switch(Dc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return Le(e.type)&&Zi(),be(e),null;case 3:return n=e.stateNode,Tn(),J(Ie),J(Se),Kc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ct!==null&&(Wl(ct),ct=null))),Ml(t,e),be(e),null;case 5:Hc(e);var s=Er(zs.current);if(r=e.type,t!==null&&e.stateNode!=null)xp(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return be(e),null}if(t=Er(wt.current),pi(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[yt]=e,n[As]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<ts.length;s++)Q(ts[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":Gu(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":Ju(n,i),Q("invalid",n)}ul(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&mi(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mi(n.textContent,a,t),s=["children",""+a]):bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":oi(n),Qu(n,i,!0);break;case"textarea":oi(n),Yu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[yt]=e,t[As]=n,vp(t,e,!1,!1),e.stateNode=t;e:{switch(o=dl(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<ts.length;s++)Q(ts[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":Gu(t,n),s=il(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),Q("invalid",t);break;case"textarea":Ju(t,n),s=ll(t,n),Q("invalid",t);break;default:s=n}ul(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Yf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qf(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ks(t,l):typeof l=="number"&&ks(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&_c(t,i,l,o))}switch(r){case"input":oi(t),Qu(t,n,!1);break;case"textarea":oi(t),Yu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+or(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?xn(t,!!n.multiple,i,!1):n.defaultValue!=null&&xn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)wp(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(r=Er(zs.current),Er(wt.current),pi(e)){if(n=e.stateNode,r=e.memoizedProps,n[yt]=e,(i=n.nodeValue!==r)&&(t=Be,t!==null))switch(t.tag){case 3:mi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mi(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yt]=e,e.stateNode=n}return be(e),null;case 13:if(J(Z),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Ve!==null&&e.mode&1&&!(e.flags&128))Dm(),Pn(),e.flags|=98560,i=!1;else if(i=pi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[yt]=e}else Pn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else ct!==null&&(Wl(ct),ct=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?me===0&&(me=3):iu())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return Tn(),Ml(t,e),t===null&&Ts(e.stateNode.containerInfo),be(e),null;case 10:return Bc(e.type._context),be(e),null;case 17:return Le(e.type)&&Zi(),be(e),null;case 19:if(J(Z),i=e.memoizedState,i===null)return be(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Kn(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oo(t),o!==null){for(e.flags|=128,Kn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return K(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&ie()>An&&(e.flags|=128,n=!0,Kn(i,!1),e.lanes=4194304)}else{if(!n)if(t=oo(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return be(e),null}else 2*ie()-i.renderingStartTime>An&&r!==1073741824&&(e.flags|=128,n=!0,Kn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ie(),e.sibling=null,r=Z.current,K(Z,n?r&1|2:r&1),e):(be(e),null);case 22:case 23:return su(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ue&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Zv(t,e){switch(Dc(e),e.tag){case 1:return Le(e.type)&&Zi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tn(),J(Ie),J(Se),Kc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hc(e),null;case 13:if(J(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Pn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Z),null;case 4:return Tn(),null;case 10:return Bc(e.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var vi=!1,_e=!1,ex=typeof WeakSet=="function"?WeakSet:Set,E=null;function fn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ne(t,e,n)}else r.current=null}function Dl(t,e,r){try{r()}catch(n){ne(t,e,n)}}var Ud=!1;function tx(t,e){if(bl=Qi,t=jm(),Lc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kl={focusedElem:t,selectionRange:r},Qi=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:ot(e.type,x),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){ne(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return v=Ud,Ud=!1,v}function us(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dl(e,r,i)}s=s.next}while(s!==n)}}function Mo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function $l(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bp(t){var e=t.alternate;e!==null&&(t.alternate=null,bp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yt],delete e[As],delete e[jl],delete e[Mv],delete e[Dv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kp(t){return t.tag===5||t.tag===3||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ul(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xi));else if(n!==4&&(t=t.child,t!==null))for(Ul(t,e,r),t=t.sibling;t!==null;)Ul(t,e,r),t=t.sibling}function Vl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Vl(t,e,r),t=t.sibling;t!==null;)Vl(t,e,r),t=t.sibling}var ye=null,at=!1;function $t(t,e,r){for(r=r.child;r!==null;)_p(t,e,r),r=r.sibling}function _p(t,e,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(To,r)}catch{}switch(r.tag){case 5:_e||fn(r,e);case 6:var n=ye,s=at;ye=null,$t(t,e,r),ye=n,at=s,ye!==null&&(at?(t=ye,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(at?(t=ye,r=r.stateNode,t.nodeType===8?ba(t.parentNode,r):t.nodeType===1&&ba(t,r),Ns(t)):ba(ye,r.stateNode));break;case 4:n=ye,s=at,ye=r.stateNode.containerInfo,at=!0,$t(t,e,r),ye=n,at=s;break;case 0:case 11:case 14:case 15:if(!_e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dl(r,e,o),s=s.next}while(s!==n)}$t(t,e,r);break;case 1:if(!_e&&(fn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ne(r,e,a)}$t(t,e,r);break;case 21:$t(t,e,r);break;case 22:r.mode&1?(_e=(n=_e)||r.memoizedState!==null,$t(t,e,r),_e=n):$t(t,e,r);break;default:$t(t,e,r)}}function Bd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ex),e.forEach(function(n){var s=ux.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function st(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ye=a.stateNode,at=!1;break e;case 3:ye=a.stateNode.containerInfo,at=!0;break e;case 4:ye=a.stateNode.containerInfo,at=!0;break e}a=a.return}if(ye===null)throw Error(P(160));_p(i,o,s),ye=null,at=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ne(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sp(e,t),e=e.sibling}function Sp(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(st(e,t),mt(t),n&4){try{us(3,t,t.return),Mo(3,t)}catch(x){ne(t,t.return,x)}try{us(5,t,t.return)}catch(x){ne(t,t.return,x)}}break;case 1:st(e,t),mt(t),n&512&&r!==null&&fn(r,r.return);break;case 5:if(st(e,t),mt(t),n&512&&r!==null&&fn(r,r.return),t.flags&32){var s=t.stateNode;try{ks(s,"")}catch(x){ne(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Hf(s,i),dl(a,o);var u=dl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Yf(s,h):d==="dangerouslySetInnerHTML"?Qf(s,h):d==="children"?ks(s,h):_c(s,d,h,u)}switch(a){case"input":ol(s,i);break;case"textarea":Kf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xn(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?xn(s,!!i.multiple,i.defaultValue,!0):xn(s,!!i.multiple,i.multiple?[]:"",!1))}s[As]=i}catch(x){ne(t,t.return,x)}}break;case 6:if(st(e,t),mt(t),n&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ne(t,t.return,x)}}break;case 3:if(st(e,t),mt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ns(e.containerInfo)}catch(x){ne(t,t.return,x)}break;case 4:st(e,t),mt(t);break;case 13:st(e,t),mt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ru=ie())),n&4&&Bd(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(_e=(u=_e)||d,st(e,t),_e=u):st(e,t),mt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(E=t,d=t.child;d!==null;){for(h=E=d;E!==null;){switch(f=E,p=f.child,f.tag){case 0:case 11:case 14:case 15:us(4,f,f.return);break;case 1:fn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ne(n,r,x)}}break;case 5:fn(f,f.return);break;case 22:if(f.memoizedState!==null){qd(h);continue}}p!==null?(p.return=f,E=p):qd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jf("display",o))}catch(x){ne(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ne(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:st(e,t),mt(t),n&4&&Bd(t);break;case 21:break;default:st(e,t),mt(t)}}function mt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(kp(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ks(s,""),n.flags&=-33);var i=Vd(t);Vl(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Vd(t);Ul(t,a,o);break;default:throw Error(P(161))}}catch(l){ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rx(t,e,r){E=t,jp(t)}function jp(t,e,r){for(var n=(t.mode&1)!==0;E!==null;){var s=E,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_e;a=vi;var u=_e;if(vi=o,(_e=l)&&!u)for(E=s;E!==null;)o=E,l=o.child,o.tag===22&&o.memoizedState!==null?Wd(s):l!==null?(l.return=o,E=l):Wd(s);for(;i!==null;)E=i,jp(i),i=i.sibling;E=s,vi=a,_e=u}Fd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,E=i):Fd(t)}}function Fd(t){for(;E!==null;){var e=E;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||Mo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_e)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ot(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pd(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Pd(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ns(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}_e||e.flags&512&&$l(e)}catch(f){ne(e,e.return,f)}}if(e===t){E=null;break}if(r=e.sibling,r!==null){r.return=e.return,E=r;break}E=e.return}}function qd(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var r=e.sibling;if(r!==null){r.return=e.return,E=r;break}E=e.return}}function Wd(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mo(4,e)}catch(l){ne(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ne(e,s,l)}}var i=e.return;try{$l(e)}catch(l){ne(e,i,l)}break;case 5:var o=e.return;try{$l(e)}catch(l){ne(e,o,l)}}}catch(l){ne(e,e.return,l)}if(e===t){E=null;break}var a=e.sibling;if(a!==null){a.return=e.return,E=a;break}E=e.return}}var nx=Math.ceil,co=Mt.ReactCurrentDispatcher,eu=Mt.ReactCurrentOwner,Ze=Mt.ReactCurrentBatchConfig,F=0,ge=null,ce=null,ve=0,Ue=0,mn=dr(0),me=0,Ms=null,Dr=0,Do=0,tu=0,ds=null,Ae=null,ru=0,An=1/0,_t=null,uo=!1,Bl=null,rr=null,xi=!1,Jt=null,ho=0,hs=0,Fl=null,Di=-1,$i=0;function Ce(){return F&6?ie():Di!==-1?Di:Di=ie()}function nr(t){return t.mode&1?F&2&&ve!==0?ve&-ve:Uv.transition!==null?($i===0&&($i=cm()),$i):(t=W,t!==0||(t=window.event,t=t===void 0?16:gm(t.type)),t):1}function dt(t,e,r,n){if(50<hs)throw hs=0,Fl=null,Error(P(185));Fs(t,r,n),(!(F&2)||t!==ge)&&(t===ge&&(!(F&2)&&(Do|=r),me===4&&Kt(t,ve)),Me(t,n),r===1&&F===0&&!(e.mode&1)&&(An=ie()+500,Ro&&hr()))}function Me(t,e){var r=t.callbackNode;U0(t,e);var n=Gi(t,t===ge?ve:0);if(n===0)r!==null&&ed(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ed(r),e===1)t.tag===0?$v(Hd.bind(null,t)):Im(Hd.bind(null,t)),Iv(function(){!(F&6)&&hr()}),r=null;else{switch(um(n)){case 1:r=Cc;break;case 4:r=am;break;case 16:r=Ki;break;case 536870912:r=lm;break;default:r=Ki}r=zp(r,Np.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Np(t,e){if(Di=-1,$i=0,F&6)throw Error(P(327));var r=t.callbackNode;if(Sn()&&t.callbackNode!==r)return null;var n=Gi(t,t===ge?ve:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fo(t,n);else{e=n;var s=F;F|=2;var i=Cp();(ge!==t||ve!==e)&&(_t=null,An=ie()+500,Or(t,e));do try{ox();break}catch(a){Pp(t,a)}while(!0);Vc(),co.current=i,F=s,ce!==null?e=0:(ge=null,ve=0,e=me)}if(e!==0){if(e===2&&(s=gl(t),s!==0&&(n=s,e=ql(t,s))),e===1)throw r=Ms,Or(t,0),Kt(t,n),Me(t,ie()),r;if(e===6)Kt(t,n);else{if(s=t.current.alternate,!(n&30)&&!sx(s)&&(e=fo(t,n),e===2&&(i=gl(t),i!==0&&(n=i,e=ql(t,i))),e===1))throw r=Ms,Or(t,0),Kt(t,n),Me(t,ie()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:kr(t,Ae,_t);break;case 3:if(Kt(t,n),(n&130023424)===n&&(e=ru+500-ie(),10<e)){if(Gi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ce(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sl(kr.bind(null,t,Ae,_t),e);break}kr(t,Ae,_t);break;case 4:if(Kt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-ut(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nx(n/1960))-n,10<n){t.timeoutHandle=Sl(kr.bind(null,t,Ae,_t),n);break}kr(t,Ae,_t);break;case 5:kr(t,Ae,_t);break;default:throw Error(P(329))}}}return Me(t,ie()),t.callbackNode===r?Np.bind(null,t):null}function ql(t,e){var r=ds;return t.current.memoizedState.isDehydrated&&(Or(t,e).flags|=256),t=fo(t,e),t!==2&&(e=Ae,Ae=r,e!==null&&Wl(e)),t}function Wl(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function sx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ht(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kt(t,e){for(e&=~tu,e&=~Do,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ut(e),n=1<<r;t[r]=-1,e&=~n}}function Hd(t){if(F&6)throw Error(P(327));Sn();var e=Gi(t,0);if(!(e&1))return Me(t,ie()),null;var r=fo(t,e);if(t.tag!==0&&r===2){var n=gl(t);n!==0&&(e=n,r=ql(t,n))}if(r===1)throw r=Ms,Or(t,0),Kt(t,e),Me(t,ie()),r;if(r===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,Ae,_t),Me(t,ie()),null}function nu(t,e){var r=F;F|=1;try{return t(e)}finally{F=r,F===0&&(An=ie()+500,Ro&&hr())}}function $r(t){Jt!==null&&Jt.tag===0&&!(F&6)&&Sn();var e=F;F|=1;var r=Ze.transition,n=W;try{if(Ze.transition=null,W=1,t)return t()}finally{W=n,Ze.transition=r,F=e,!(F&6)&&hr()}}function su(){Ue=mn.current,J(mn)}function Or(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Rv(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(Dc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zi();break;case 3:Tn(),J(Ie),J(Se),Kc();break;case 5:Hc(n);break;case 4:Tn();break;case 13:J(Z);break;case 19:J(Z);break;case 10:Bc(n.type._context);break;case 22:case 23:su()}r=r.return}if(ge=t,ce=t=sr(t.current,null),ve=Ue=e,me=0,Ms=null,tu=Do=Dr=0,Ae=ds=null,Tr!==null){for(e=0;e<Tr.length;e++)if(r=Tr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Tr=null}return t}function Pp(t,e){do{var r=ce;try{if(Vc(),Ii.current=lo,ao){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ao=!1}if(Mr=0,pe=fe=te=null,cs=!1,Rs=0,eu.current=null,r===null||r.return===null){me=1,Ms=e,ce=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=zd(o);if(p!==null){p.flags&=-257,Rd(p,o,a,i,e),p.mode&1&&Od(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){Od(i,u,e),iu();break e}l=Error(P(426))}}else if(X&&a.mode&1){var b=zd(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rd(b,o,a,i,e),$c(En(l,a));break e}}i=l=En(l,a),me!==4&&(me=2),ds===null?ds=[i]:ds.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=up(i,l,e);Nd(i,y);break e;case 1:a=l;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rr===null||!rr.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=dp(i,a,e);Nd(i,k);break e}}i=i.return}while(i!==null)}Ep(r)}catch(w){e=w,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function Cp(){var t=co.current;return co.current=lo,t===null?lo:t}function iu(){(me===0||me===3||me===2)&&(me=4),ge===null||!(Dr&268435455)&&!(Do&268435455)||Kt(ge,ve)}function fo(t,e){var r=F;F|=2;var n=Cp();(ge!==t||ve!==e)&&(_t=null,Or(t,e));do try{ix();break}catch(s){Pp(t,s)}while(!0);if(Vc(),F=r,co.current=n,ce!==null)throw Error(P(261));return ge=null,ve=0,me}function ix(){for(;ce!==null;)Tp(ce)}function ox(){for(;ce!==null&&!A0();)Tp(ce)}function Tp(t){var e=Op(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Ep(t):ce=e,eu.current=null}function Ep(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Zv(r,e),r!==null){r.flags&=32767,ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,ce=null;return}}else if(r=Xv(r,e,Ue),r!==null){ce=r;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);me===0&&(me=5)}function kr(t,e,r){var n=W,s=Ze.transition;try{Ze.transition=null,W=1,ax(t,e,r,n)}finally{Ze.transition=s,W=n}return null}function ax(t,e,r,n){do Sn();while(Jt!==null);if(F&6)throw Error(P(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(V0(t,i),t===ge&&(ce=ge=null,ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xi||(xi=!0,zp(Ki,function(){return Sn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var o=W;W=1;var a=F;F|=4,eu.current=null,tx(t,r),Sp(r,t),Pv(kl),Qi=!!bl,kl=bl=null,t.current=r,rx(r),O0(),F=a,W=o,Ze.transition=i}else t.current=r;if(xi&&(xi=!1,Jt=t,ho=s),i=t.pendingLanes,i===0&&(rr=null),I0(r.stateNode),Me(t,ie()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(uo)throw uo=!1,t=Bl,Bl=null,t;return ho&1&&t.tag!==0&&Sn(),i=t.pendingLanes,i&1?t===Fl?hs++:(hs=0,Fl=t):hs=0,hr(),null}function Sn(){if(Jt!==null){var t=um(ho),e=Ze.transition,r=W;try{if(Ze.transition=null,W=16>t?16:t,Jt===null)var n=!1;else{if(t=Jt,Jt=null,ho=0,F&6)throw Error(P(331));var s=F;for(F|=4,E=t.current;E!==null;){var i=E,o=i.child;if(E.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(E=u;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:us(8,d,i)}var h=d.child;if(h!==null)h.return=d,E=h;else for(;E!==null;){d=E;var f=d.sibling,p=d.return;if(bp(d),d===u){E=null;break}if(f!==null){f.return=p,E=f;break}E=p}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}E=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,E=o;else e:for(;E!==null;){if(i=E,i.flags&2048)switch(i.tag){case 0:case 11:case 15:us(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,E=y;break e}E=i.return}}var g=t.current;for(E=g;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=g;E!==null;){if(a=E,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mo(9,a)}}catch(w){ne(a,a.return,w)}if(a===o){E=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,E=k;break e}E=a.return}}if(F=s,hr(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(To,t)}catch{}n=!0}return n}finally{W=r,Ze.transition=e}}return!1}function Kd(t,e,r){e=En(r,e),e=up(t,e,1),t=tr(t,e,1),e=Ce(),t!==null&&(Fs(t,1,e),Me(t,e))}function ne(t,e,r){if(t.tag===3)Kd(t,t,r);else for(;e!==null;){if(e.tag===3){Kd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rr===null||!rr.has(n))){t=En(r,t),t=dp(e,t,1),e=tr(e,t,1),t=Ce(),e!==null&&(Fs(e,1,t),Me(e,t));break}}e=e.return}}function lx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&r,ge===t&&(ve&r)===r&&(me===4||me===3&&(ve&130023424)===ve&&500>ie()-ru?Or(t,0):tu|=r),Me(t,e)}function Ap(t,e){e===0&&(t.mode&1?(e=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):e=1);var r=Ce();t=Rt(t,e),t!==null&&(Fs(t,e,r),Me(t,r))}function cx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ap(t,r)}function ux(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),Ap(t,r)}var Op;Op=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ie.current)Re=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Re=!1,Yv(t,e,r);Re=!!(t.flags&131072)}else Re=!1,X&&e.flags&1048576&&Lm(e,ro,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mi(t,e),t=e.pendingProps;var s=Nn(e,Se.current);_n(e,r),s=Qc(null,e,n,t,s,r);var i=Jc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(n)?(i=!0,eo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qc(e),s.updater=Lo,e.stateNode=s,s._reactInternals=e,Al(e,n,t,r),e=Rl(null,e,n,!0,i,r)):(e.tag=0,X&&i&&Mc(e),Pe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=hx(n),t=ot(n,t),s){case 0:e=zl(null,e,n,t,r);break e;case 1:e=Md(null,e,n,t,r);break e;case 11:e=Id(null,e,n,t,r);break e;case 14:e=Ld(null,e,n,ot(n.type,t),r);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ot(n,s),zl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ot(n,s),Md(t,e,n,s,r);case 3:e:{if(pp(e),t===null)throw Error(P(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Bm(t,e),io(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=En(Error(P(423)),e),e=Dd(t,e,n,r,s);break e}else if(n!==s){s=En(Error(P(424)),e),e=Dd(t,e,n,r,s);break e}else for(Ve=er(e.stateNode.containerInfo.firstChild),Be=e,X=!0,ct=null,r=Um(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pn(),n===s){e=It(t,e,r);break e}Pe(t,e,n,r)}e=e.child}return e;case 5:return Fm(e),t===null&&Cl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_l(n,s)?o=null:i!==null&&_l(n,i)&&(e.flags|=32),mp(t,e),Pe(t,e,o,r),e.child;case 6:return t===null&&Cl(e),null;case 13:return gp(t,e,r);case 4:return Wc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cn(e,null,n,r):Pe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ot(n,s),Id(t,e,n,s,r);case 7:return Pe(t,e,e.pendingProps,r),e.child;case 8:return Pe(t,e,e.pendingProps.children,r),e.child;case 12:return Pe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(no,n._currentValue),n._currentValue=o,i!==null)if(ht(i.value,o)){if(i.children===s.children&&!Ie.current){e=It(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Tt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Tl(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Tl(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,_n(e,r),s=tt(s),n=n(s),e.flags|=1,Pe(t,e,n,r),e.child;case 14:return n=e.type,s=ot(n,e.pendingProps),s=ot(n.type,s),Ld(t,e,n,s,r);case 15:return hp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ot(n,s),Mi(t,e),e.tag=1,Le(n)?(t=!0,eo(e)):t=!1,_n(e,r),cp(e,n,s),Al(e,n,s,r),Rl(null,e,n,!0,t,r);case 19:return yp(t,e,r);case 22:return fp(t,e,r)}throw Error(P(156,e.tag))};function zp(t,e){return om(t,e)}function dx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,r,n){return new dx(t,e,r,n)}function ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hx(t){if(typeof t=="function")return ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jc)return 11;if(t===Nc)return 14}return 2}function sr(t,e){var r=t.alternate;return r===null?(r=Xe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ui(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ou(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nn:return zr(r.children,s,i,e);case Sc:o=8,s|=8;break;case tl:return t=Xe(12,r,e,s|2),t.elementType=tl,t.lanes=i,t;case rl:return t=Xe(13,r,e,s),t.elementType=rl,t.lanes=i,t;case nl:return t=Xe(19,r,e,s),t.elementType=nl,t.lanes=i,t;case Ff:return $o(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vf:o=10;break e;case Bf:o=9;break e;case jc:o=11;break e;case Nc:o=14;break e;case Ft:o=16,n=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Xe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function zr(t,e,r,n){return t=Xe(7,t,n,e),t.lanes=r,t}function $o(t,e,r,n){return t=Xe(22,t,n,e),t.elementType=Ff,t.lanes=r,t.stateNode={isHidden:!1},t}function Ta(t,e,r){return t=Xe(6,t,null,e),t.lanes=r,t}function Ea(t,e,r){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fx(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ua(0),this.expirationTimes=ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function au(t,e,r,n,s,i,o,a,l){return t=new fx(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(i),t}function mx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Rp(t){if(!t)return ar;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var r=t.type;if(Le(r))return Rm(t,r,e)}return e}function Ip(t,e,r,n,s,i,o,a,l){return t=au(r,n,!0,t,s,i,o,a,l),t.context=Rp(null),r=t.current,n=Ce(),s=nr(r),i=Tt(n,s),i.callback=e??null,tr(r,i,s),t.current.lanes=s,Fs(t,s,n),Me(t,n),t}function Uo(t,e,r,n){var s=e.current,i=Ce(),o=nr(s);return r=Rp(r),e.context===null?e.context=r:e.pendingContext=r,e=Tt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=tr(s,e,o),t!==null&&(dt(t,s,o,i),Ri(t,s,o)),o}function mo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lu(t,e){Gd(t,e),(t=t.alternate)&&Gd(t,e)}function px(){return null}var Lp=typeof reportError=="function"?reportError:function(t){console.error(t)};function cu(t){this._internalRoot=t}Vo.prototype.render=cu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Uo(t,e,null,null)};Vo.prototype.unmount=cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$r(function(){Uo(null,t,null,null)}),e[zt]=null}};function Vo(t){this._internalRoot=t}Vo.prototype.unstable_scheduleHydration=function(t){if(t){var e=fm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ht.length&&e!==0&&e<Ht[r].priority;r++);Ht.splice(r,0,t),r===0&&pm(t)}};function uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function gx(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=mo(o);i.call(u)}}var o=Ip(e,n,t,0,null,!1,!1,"",Qd);return t._reactRootContainer=o,t[zt]=o.current,Ts(t.nodeType===8?t.parentNode:t),$r(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=mo(l);a.call(u)}}var l=au(t,0,!1,null,null,!1,!1,"",Qd);return t._reactRootContainer=l,t[zt]=l.current,Ts(t.nodeType===8?t.parentNode:t),$r(function(){Uo(e,l,r,n)}),l}function Fo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mo(o);a.call(l)}}Uo(e,o,t,s)}else o=gx(r,e,t,s,n);return mo(o)}dm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=es(e.pendingLanes);r!==0&&(Tc(e,r|1),Me(e,ie()),!(F&6)&&(An=ie()+500,hr()))}break;case 13:$r(function(){var n=Rt(t,1);if(n!==null){var s=Ce();dt(n,t,1,s)}}),lu(t,1)}};Ec=function(t){if(t.tag===13){var e=Rt(t,134217728);if(e!==null){var r=Ce();dt(e,t,134217728,r)}lu(t,134217728)}};hm=function(t){if(t.tag===13){var e=nr(t),r=Rt(t,e);if(r!==null){var n=Ce();dt(r,t,e,n)}lu(t,e)}};fm=function(){return W};mm=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};fl=function(t,e,r){switch(e){case"input":if(ol(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zo(n);if(!s)throw Error(P(90));Wf(n),ol(n,s)}}}break;case"textarea":Kf(t,r);break;case"select":e=r.value,e!=null&&xn(t,!!r.multiple,e,!1)}};em=nu;tm=$r;var yx={usingClientEntryPoint:!1,Events:[Ws,ln,zo,Xf,Zf,nu]},Gn={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vx={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sm(t),t===null?null:t.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{To=wi.inject(vx),xt=wi}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;We.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(e))throw Error(P(200));return mx(t,e,null,r)};We.createRoot=function(t,e){if(!uu(t))throw Error(P(299));var r=!1,n="",s=Lp;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=au(t,1,!1,null,null,r,!1,n,s),t[zt]=e.current,Ts(t.nodeType===8?t.parentNode:t),new cu(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=sm(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return $r(t)};We.hydrate=function(t,e,r){if(!Bo(e))throw Error(P(200));return Fo(null,t,e,!0,r)};We.hydrateRoot=function(t,e,r){if(!uu(t))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Lp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ip(e,null,t,1,r??null,s,!1,i,o),t[zt]=e.current,Ts(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Vo(e)};We.render=function(t,e,r){if(!Bo(e))throw Error(P(200));return Fo(null,t,e,!1,r)};We.unmountComponentAtNode=function(t){if(!Bo(t))throw Error(P(40));return t._reactRootContainer?($r(function(){Fo(null,null,t,!1,function(){t._reactRootContainer=null,t[zt]=null})}),!0):!1};We.unstable_batchedUpdates=nu;We.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Bo(r))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Fo(t,e,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function Mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mp)}catch(t){console.error(t)}}Mp(),Mf.exports=We;var xx=Mf.exports,Dp,Jd=xx;Dp=Jd.createRoot,Jd.hydrateRoot;const $p=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),qo=S.createContext({}),Wo=S.createContext(null),Ho=typeof document<"u",du=Ho?S.useLayoutEffect:S.useEffect,Up=S.createContext({strict:!1}),hu=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wx="framerAppearId",Vp="data-"+hu(wx);function bx(t,e,r,n){const{visualElement:s}=S.useContext(qo),i=S.useContext(Up),o=S.useContext(Wo),a=S.useContext($p).reducedMotion,l=S.useRef();n=n||i.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(r,o)});const d=S.useRef(!!(r[Vp]&&!window.HandoffComplete));return du(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function pn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kx(t,e,r){return S.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):pn(r)&&(r.current=n))},[e])}function Ds(t){return typeof t=="string"||Array.isArray(t)}function Ko(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mu=["initial",...fu];function Go(t){return Ko(t.animate)||mu.some(e=>Ds(t[e]))}function Bp(t){return!!(Go(t)||t.variants)}function _x(t,e){if(Go(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Ds(r)?r:void 0,animate:Ds(n)?n:void 0}}return t.inherit!==!1?e:{}}function Sx(t){const{initial:e,animate:r}=_x(t,S.useContext(qo));return S.useMemo(()=>({initial:e,animate:r}),[Yd(e),Yd(r)])}function Yd(t){return Array.isArray(t)?t.join(" "):t}const Xd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$s={};for(const t in Xd)$s[t]={isEnabled:e=>Xd[t].some(r=>!!e[r])};function jx(t){for(const e in t)$s[e]={...$s[e],...t[e]}}const pu=S.createContext({}),Fp=S.createContext({}),Nx=Symbol.for("motionComponentSymbol");function Px({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&jx(t);function i(a,l){let u;const d={...S.useContext($p),...a,layoutId:Cx(a)},{isStatic:h}=d,f=Sx(a),p=n(a,h);if(!h&&Ho){f.visualElement=bx(s,p,d,e);const v=S.useContext(Fp),x=S.useContext(Up).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,x,t,v))}return S.createElement(qo.Provider,{value:f},u&&f.visualElement?S.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,a,kx(p,f.visualElement,l),p,h,f.visualElement))}const o=S.forwardRef(i);return o[Nx]=s,o}function Cx({layoutId:t}){const e=S.useContext(pu).id;return e&&t!==void 0?e+"-"+t:t}function Tx(t){function e(n,s={}){return Px(t(n,s))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,s)=>(r.has(s)||r.set(s,e(s)),r.get(s))})}const Ex=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gu(t){return typeof t!="string"||t.includes("-")?!1:!!(Ex.indexOf(t)>-1||/[A-Z]/.test(t))}const po={};function Ax(t){Object.assign(po,t)}const Ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fr=new Set(Ks);function qp(t,{layout:e,layoutId:r}){return Fr.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!po[t]||t==="opacity")}const De=t=>!!(t&&t.getVelocity),Ox={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zx=Ks.length;function Rx(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<zx;o++){const a=Ks[o];if(t[a]!==void 0){const l=Ox[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,n?"":i):r&&n&&(i="none"),i}const Wp=t=>e=>typeof e=="string"&&e.startsWith(t),Hp=Wp("--"),Hl=Wp("var(--"),Ix=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Lx=(t,e)=>e&&typeof t=="number"?e.transform(t):t,lr=(t,e,r)=>Math.min(Math.max(r,t),e),qr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fs={...qr,transform:t=>lr(0,1,t)},bi={...qr,default:1},ms=t=>Math.round(t*1e5)/1e5,Qo=/(-)?([\d]*\.?[\d])+/g,Kp=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Mx=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gs(t){return typeof t=="string"}const Qs=t=>({test:e=>Gs(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vt=Qs("deg"),bt=Qs("%"),z=Qs("px"),Dx=Qs("vh"),$x=Qs("vw"),Zd={...bt,parse:t=>bt.parse(t)/100,transform:t=>bt.transform(t*100)},eh={...qr,transform:Math.round},Gp={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:Vt,rotateX:Vt,rotateY:Vt,rotateZ:Vt,scale:bi,scaleX:bi,scaleY:bi,scaleZ:bi,skew:Vt,skewX:Vt,skewY:Vt,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:fs,originX:Zd,originY:Zd,originZ:z,zIndex:eh,fillOpacity:fs,strokeOpacity:fs,numOctaves:eh};function yu(t,e,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(Hp(h)){i[h]=f;continue}const p=Gp[h],v=Lx(f,p);if(Fr.has(h)){if(l=!0,o[h]=v,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=v):s[h]=v}if(e.transform||(l||n?s.transform=Rx(t.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${f} ${p}`}}const vu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qp(t,e,r){for(const n in e)!De(e[n])&&!qp(n,r)&&(t[n]=e[n])}function Ux({transformTemplate:t},e,r){return S.useMemo(()=>{const n=vu();return yu(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function Vx(t,e,r){const n=t.style||{},s={};return Qp(s,n,t),Object.assign(s,Ux(t,e,r)),t.transformValues?t.transformValues(s):s}function Bx(t,e,r){const n={},s=Vx(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Fx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function go(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Fx.has(t)}let Jp=t=>!go(t);function qx(t){t&&(Jp=e=>e.startsWith("on")?!go(e):t(e))}try{qx(require("@emotion/is-prop-valid").default)}catch{}function Wx(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Jp(s)||r===!0&&go(s)||!e&&!go(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function th(t,e,r){return typeof t=="string"?t:z.transform(e+r*t)}function Hx(t,e,r){const n=th(e,t.x,t.width),s=th(r,t.y,t.height);return`${n} ${s}`}const Kx={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gx={offset:"strokeDashoffset",array:"strokeDasharray"};function Qx(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?Kx:Gx;t[i.offset]=z.transform(-n);const o=z.transform(e),a=z.transform(r);t[i.array]=`${o} ${a}`}function xu(t,{attrX:e,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(yu(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:x}=t;p.transform&&(x&&(v.transform=p.transform),delete p.transform),x&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=Hx(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&Qx(p,o,a,l,!1)}const Yp=()=>({...vu(),attrs:{}}),wu=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Jx(t,e,r,n){const s=S.useMemo(()=>{const i=Yp();return xu(i,e,{enableHardwareAcceleration:!1},wu(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Qp(i,t.style,t),s.style={...i,...s.style}}return s}function Yx(t=!1){return(r,n,s,{latestValues:i},o)=>{const l=(gu(r)?Jx:Bx)(n,i,o,r),d={...Wx(n,typeof r=="string",t),...l,ref:s},{children:h}=n,f=S.useMemo(()=>De(h)?h.get():h,[h]);return S.createElement(r,{...d,children:f})}}function Xp(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const Zp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eg(t,e,r,n){Xp(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(Zp.has(s)?s:hu(s),e.attrs[s])}function bu(t,e){const{style:r}=t,n={};for(const s in r)(De(r[s])||e.style&&De(e.style[s])||qp(s,t))&&(n[s]=r[s]);return n}function tg(t,e){const r=bu(t,e);for(const n in t)if(De(t[n])||De(e[n])){const s=Ks.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=t[n]}return r}function ku(t,e,r,n={},s={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,s)),e}function rg(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const yo=t=>Array.isArray(t),Xx=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Zx=t=>yo(t)?t[t.length-1]||0:t;function Vi(t){const e=De(t)?t.get():t;return Xx(e)?e.toValue():e}function ew({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,s,i){const o={latestValues:tw(n,s,i,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const ng=t=>(e,r)=>{const n=S.useContext(qo),s=S.useContext(Wo),i=()=>ew(t,e,n,s);return r?i():rg(i)};function tw(t,e,r,n){const s={},i=n(t,{});for(const f in i)s[f]=Vi(i[f]);let{initial:o,animate:a}=t;const l=Go(t),u=Bp(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Ko(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const v=ku(t,p);if(!v)return;const{transitionEnd:x,transition:b,...y}=v;for(const g in y){let m=y[g];if(Array.isArray(m)){const k=d?m.length-1:0;m=m[k]}m!==null&&(s[g]=m)}for(const g in x)s[g]=x[g]}),s}const oe=t=>t;class rh{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function rw(t){let e=new rh,r=new rh,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&s,f=h?e:r;return u&&o.add(l),f.add(l)&&h&&s&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const ki=["prepare","read","update","preRender","render","postRender"],nw=40;function sw(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ki.reduce((h,f)=>(h[f]=rw(()=>r=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,nw),1),s.timestamp=h,s.isProcessing=!0,ki.forEach(o),s.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,s.isProcessing||t(a)};return{schedule:ki.reduce((h,f)=>{const p=i[f];return h[f]=(v,x=!1,b=!1)=>(r||l(),p.schedule(v,x,b)),h},{}),cancel:h=>ki.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:G,cancel:Lt,state:ke,steps:Aa}=sw(typeof requestAnimationFrame<"u"?requestAnimationFrame:oe,!0),iw={useVisualState:ng({scrapeMotionValuesFromProps:tg,createRenderState:Yp,onMount:(t,e,{renderState:r,latestValues:n})=>{G.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),G.render(()=>{xu(r,n,{enableHardwareAcceleration:!1},wu(e.tagName),t.transformTemplate),eg(e,r)})}})},ow={useVisualState:ng({scrapeMotionValuesFromProps:bu,createRenderState:vu})};function aw(t,{forwardMotionProps:e=!1},r,n){return{...gu(t)?iw:ow,preloadedFeatures:r,useRender:Yx(e),createVisualElement:n,Component:t}}function Ct(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const sg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Jo(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const lw=t=>e=>sg(e)&&t(e,Jo(e));function Et(t,e,r,n){return Ct(t,e,lw(r),n)}const cw=(t,e)=>r=>e(t(r)),ir=(...t)=>t.reduce(cw);function ig(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const nh=ig("dragHorizontal"),sh=ig("dragVertical");function og(t){let e=!1;if(t==="y")e=sh();else if(t==="x")e=nh();else{const r=nh(),n=sh();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function ag(){const t=og(!0);return t?(t(),!1):!0}class fr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ih(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||ag())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&G.update(()=>a[n](i,o))};return Et(t.current,r,s,{passive:!t.getProps()[n]})}class uw extends fr{mount(){this.unmount=ir(ih(this.node,!0),ih(this.node,!1))}unmount(){}}class dw extends fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ir(Ct(this.node.current,"focus",()=>this.onFocus()),Ct(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const lg=(t,e)=>e?t===e?!0:lg(t,e.parentElement):!1;function Oa(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,Jo(r))}class hw extends fr{constructor(){super(...arguments),this.removeStartListeners=oe,this.removeEndListeners=oe,this.removeAccessibleListeners=oe,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Et(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();G.update(()=>{!h&&!lg(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=Et(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ir(i,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Oa("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&G.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ct(this.node.current,"keyup",o),Oa("down",(a,l)=>{this.startPress(a,l)})},r=Ct(this.node.current,"keydown",e),n=()=>{this.isPressing&&Oa("cancel",(i,o)=>this.cancelPress(i,o))},s=Ct(this.node.current,"blur",n);this.removeAccessibleListeners=ir(r,s)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&G.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ag()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&G.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Et(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ct(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ir(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kl=new WeakMap,za=new WeakMap,fw=t=>{const e=Kl.get(t.target);e&&e(t)},mw=t=>{t.forEach(fw)};function pw({root:t,...e}){const r=t||document;za.has(r)||za.set(r,{});const n=za.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(mw,{root:t,...e})),n[s]}function gw(t,e,r){const n=pw(e);return Kl.set(t,r),n.observe(t),()=>{Kl.delete(t),n.unobserve(t)}}const yw={some:0,all:1};class vw extends fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:yw[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return gw(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(xw(e,r))&&this.startObserver()}unmount(){}}function xw({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const ww={inView:{Feature:vw},tap:{Feature:hw},focus:{Feature:dw},hover:{Feature:uw}};function cg(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function bw(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function kw(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function Yo(t,e,r){const n=t.getProps();return ku(n,e,r!==void 0?r:n.custom,bw(t),kw(t))}let _u=oe;const Rr=t=>t*1e3,At=t=>t/1e3,_w={current:!1},ug=t=>Array.isArray(t)&&typeof t[0]=="number";function dg(t){return!!(!t||typeof t=="string"&&hg[t]||ug(t)||Array.isArray(t)&&t.every(dg))}const rs=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rs([0,.65,.55,1]),circOut:rs([.55,0,1,.45]),backIn:rs([.31,.01,.66,-.59]),backOut:rs([.33,1.53,.69,.99])};function fg(t){if(t)return ug(t)?rs(t):Array.isArray(t)?t.map(fg):hg[t]}function Sw(t,e,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:r};l&&(u.offset=l);const d=fg(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function jw(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const mg=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Nw=1e-7,Pw=12;function Cw(t,e,r,n,s){let i,o,a=0;do o=e+(r-e)/2,i=mg(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>Nw&&++a<Pw);return o}function Js(t,e,r,n){if(t===e&&r===n)return oe;const s=i=>Cw(i,0,1,t,r);return i=>i===0||i===1?i:mg(s(i),e,n)}const Tw=Js(.42,0,1,1),Ew=Js(0,0,.58,1),pg=Js(.42,0,.58,1),Aw=t=>Array.isArray(t)&&typeof t[0]!="number",gg=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yg=t=>e=>1-t(1-e),Su=t=>1-Math.sin(Math.acos(t)),vg=yg(Su),Ow=gg(Su),xg=Js(.33,1.53,.69,.99),ju=yg(xg),zw=gg(ju),Rw=t=>(t*=2)<1?.5*ju(t):.5*(2-Math.pow(2,-10*(t-1))),Iw={linear:oe,easeIn:Tw,easeInOut:pg,easeOut:Ew,circIn:Su,circInOut:Ow,circOut:vg,backIn:ju,backInOut:zw,backOut:xg,anticipate:Rw},oh=t=>{if(Array.isArray(t)){_u(t.length===4);const[e,r,n,s]=t;return Js(e,r,n,s)}else if(typeof t=="string")return Iw[t];return t},Nu=(t,e)=>r=>!!(Gs(r)&&Mx.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),wg=(t,e,r)=>n=>{if(!Gs(n))return n;const[s,i,o,a]=n.match(Qo);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Lw=t=>lr(0,255,t),Ra={...qr,transform:t=>Math.round(Lw(t))},Ar={test:Nu("rgb","red"),parse:wg("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ra.transform(t)+", "+Ra.transform(e)+", "+Ra.transform(r)+", "+ms(fs.transform(n))+")"};function Mw(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Gl={test:Nu("#"),parse:Mw,transform:Ar.transform},gn={test:Nu("hsl","hue"),parse:wg("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+bt.transform(ms(e))+", "+bt.transform(ms(r))+", "+ms(fs.transform(n))+")"},Ne={test:t=>Ar.test(t)||Gl.test(t)||gn.test(t),parse:t=>Ar.test(t)?Ar.parse(t):gn.test(t)?gn.parse(t):Gl.parse(t),transform:t=>Gs(t)?t:t.hasOwnProperty("red")?Ar.transform(t):gn.transform(t)},ee=(t,e,r)=>-r*t+r*e+t;function Ia(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Dw({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;s=Ia(l,a,t+1/3),i=Ia(l,a,t),o=Ia(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const La=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},$w=[Gl,Ar,gn],Uw=t=>$w.find(e=>e.test(t));function ah(t){const e=Uw(t);let r=e.parse(t);return e===gn&&(r=Dw(r)),r}const bg=(t,e)=>{const r=ah(t),n=ah(e),s={...r};return i=>(s.red=La(r.red,n.red,i),s.green=La(r.green,n.green,i),s.blue=La(r.blue,n.blue,i),s.alpha=ee(r.alpha,n.alpha,i),Ar.transform(s))};function Vw(t){var e,r;return isNaN(t)&&Gs(t)&&(((e=t.match(Qo))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Kp))===null||r===void 0?void 0:r.length)||0)>0}const kg={regex:Ix,countKey:"Vars",token:"${v}",parse:oe},_g={regex:Kp,countKey:"Colors",token:"${c}",parse:Ne.parse},Sg={regex:Qo,countKey:"Numbers",token:"${n}",parse:qr.parse};function Ma(t,{regex:e,countKey:r,token:n,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(s)))}function vo(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Ma(r,kg),Ma(r,_g),Ma(r,Sg),r}function jg(t){return vo(t).values}function Ng(t){const{values:e,numColors:r,numVars:n,tokenised:s}=vo(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<n?a=a.replace(kg.token,o[l]):l<n+r?a=a.replace(_g.token,Ne.transform(o[l])):a=a.replace(Sg.token,ms(o[l]));return a}}const Bw=t=>typeof t=="number"?0:t;function Fw(t){const e=jg(t);return Ng(t)(e.map(Bw))}const cr={test:Vw,parse:jg,createTransformer:Ng,getAnimatableNone:Fw},Pg=(t,e)=>r=>`${r>0?e:t}`;function Cg(t,e){return typeof t=="number"?r=>ee(t,e,r):Ne.test(t)?bg(t,e):t.startsWith("var(")?Pg(t,e):Eg(t,e)}const Tg=(t,e)=>{const r=[...t],n=r.length,s=t.map((i,o)=>Cg(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},qw=(t,e)=>{const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Cg(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},Eg=(t,e)=>{const r=cr.createTransformer(e),n=vo(t),s=vo(e);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?ir(Tg(n.values,s.values),r):Pg(t,e)},Us=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},lh=(t,e)=>r=>ee(t,e,r);function Ww(t){return typeof t=="number"?lh:typeof t=="string"?Ne.test(t)?bg:Eg:Array.isArray(t)?Tg:typeof t=="object"?qw:lh}function Hw(t,e,r){const n=[],s=r||Ww(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||oe:e;a=ir(l,a)}n.push(a)}return n}function Ag(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(_u(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Hw(e,n,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Us(t[d],t[d+1],u);return o[d](h)};return r?u=>l(lr(t[0],t[i-1],u)):l}function Kw(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Us(0,e,n);t.push(ee(r,1,s))}}function Gw(t){const e=[0];return Kw(e,t.length-1),e}function Qw(t,e){return t.map(r=>r*e)}function Jw(t,e){return t.map(()=>e||pg).splice(0,t.length-1)}function xo({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Aw(n)?n.map(oh):oh(n),i={done:!1,value:e[0]},o=Qw(r&&r.length===e.length?r:Gw(e),t),a=Ag(o,e,{ease:Array.isArray(s)?s:Jw(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function Og(t,e){return e?t*(1e3/e):0}const Yw=5;function zg(t,e,r){const n=Math.max(e-Yw,0);return Og(r-t(n),e-n)}const Da=.001,Xw=.01,Zw=10,eb=.05,tb=1;function rb({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let s,i,o=1-e;o=lr(eb,tb,o),t=lr(Xw,Zw,At(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-r,p=Ql(u,o),v=Math.exp(-h);return Da-f/p*v},i=u=>{const h=u*o*t,f=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),x=Ql(Math.pow(u,2),o);return(-s(u)+Da>0?-1:1)*((f-p)*v)/x}):(s=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-Da+d*h},i=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const a=5/t,l=sb(s,i,a);if(t=Rr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const nb=12;function sb(t,e,r){let n=r;for(let s=1;s<nb;s++)n=n-t(n)/e(n);return n}function Ql(t,e){return t*Math.sqrt(1-e*e)}const ib=["duration","bounce"],ob=["stiffness","damping","mass"];function ch(t,e){return e.some(r=>t[r]!==void 0)}function ab(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ch(t,ob)&&ch(t,ib)){const r=rb(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Rg({keyframes:t,restDelta:e,restSpeed:r,...n}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=ab({...n,velocity:-At(n.velocity||0)}),p=h||0,v=l/(2*Math.sqrt(a*u)),x=i-s,b=At(Math.sqrt(a/u)),y=Math.abs(x)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let g;if(v<1){const m=Ql(b,v);g=k=>{const w=Math.exp(-v*b*k);return i-w*((p+v*b*x)/m*Math.sin(m*k)+x*Math.cos(m*k))}}else if(v===1)g=m=>i-Math.exp(-b*m)*(x+(p+b*x)*m);else{const m=b*Math.sqrt(v*v-1);g=k=>{const w=Math.exp(-v*b*k),_=Math.min(m*k,300);return i-w*((p+v*b*x)*Math.sinh(_)+m*x*Math.cosh(_))/m}}return{calculatedDuration:f&&d||null,next:m=>{const k=g(m);if(f)o.done=m>=d;else{let w=p;m!==0&&(v<1?w=zg(g,m,k):w=0);const _=Math.abs(w)<=r,j=Math.abs(i-k)<=e;o.done=_&&j}return o.value=o.done?i:k,o}}}function uh({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=N=>a!==void 0&&N<a||l!==void 0&&N>l,v=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let x=r*e;const b=h+x,y=o===void 0?b:o(b);y!==b&&(x=y-h);const g=N=>-x*Math.exp(-N/n),m=N=>y+g(N),k=N=>{const C=g(N),O=m(N);f.done=Math.abs(C)<=u,f.value=f.done?y:O};let w,_;const j=N=>{p(f.value)&&(w=N,_=Rg({keyframes:[f.value,v(f.value)],velocity:zg(m,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:N=>{let C=!1;return!_&&w===void 0&&(C=!0,k(N),j(N)),w!==void 0&&N>w?_.next(N-w):(!C&&k(N),f)}}}const lb=t=>{const e=({timestamp:r})=>t(r);return{start:()=>G.update(e,!0),stop:()=>Lt(e),now:()=>ke.isProcessing?ke.timestamp:performance.now()}},dh=2e4;function hh(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<dh;)e+=r,n=t.next(e);return e>=dh?1/0:e}const cb={decay:uh,inertia:uh,tween:xo,keyframes:xo,spring:Rg};function wo({autoplay:t=!0,delay:e=0,driver:r=lb,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let p=1,v=!1,x,b;const y=()=>{b=new Promise(L=>{x=L})};y();let g;const m=cb[s]||xo;let k;m!==xo&&typeof n[0]!="number"&&(k=Ag([0,100],n,{clamp:!1}),n=[0,100]);const w=m({...f,keyframes:n});let _;a==="mirror"&&(_=m({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let j="idle",N=null,C=null,O=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=hh(w));const{calculatedDuration:ae}=w;let ue=1/0,I=1/0;ae!==null&&(ue=ae+o,I=ue*(i+1)-o);let q=0;const Dt=L=>{if(C===null)return;p>0&&(C=Math.min(C,L)),p<0&&(C=Math.min(L-I/p,C)),N!==null?q=N:q=Math.round(L-C)*p;const Y=q-e*(p>=0?1:-1),pr=p>=0?Y<0:Y>I;q=Math.max(Y,0),j==="finished"&&N===null&&(q=I);let ft=q,Kr=w;if(i){const sa=Math.min(q,I)/ue;let ni=Math.floor(sa),yr=sa%1;!yr&&sa>=1&&(yr=1),yr===1&&ni--,ni=Math.min(ni,i+1),!!(ni%2)&&(a==="reverse"?(yr=1-yr,o&&(yr-=o/ue)):a==="mirror"&&(Kr=_)),ft=lr(0,1,yr)*ue}const $e=pr?{done:!1,value:n[0]}:Kr.next(ft);k&&($e.value=k($e.value));let{done:gr}=$e;!pr&&ae!==null&&(gr=p>=0?q>=I:q<=0);const Wy=N===null&&(j==="finished"||j==="running"&&gr);return h&&h($e.value),Wy&&T(),$e},se=()=>{g&&g.stop(),g=void 0},Ke=()=>{j="idle",se(),x(),y(),C=O=null},T=()=>{j="finished",d&&d(),se(),x()},R=()=>{if(v)return;g||(g=r(Dt));const L=g.now();l&&l(),N!==null?C=L-N:(!C||j==="finished")&&(C=L),j==="finished"&&y(),O=C,N=null,j="running",g.start()};t&&R();const $={then(L,Y){return b.then(L,Y)},get time(){return At(q)},set time(L){L=Rr(L),q=L,N!==null||!g||p===0?N=L:C=g.now()-L/p},get duration(){const L=w.calculatedDuration===null?hh(w):w.calculatedDuration;return At(L)},get speed(){return p},set speed(L){L===p||!g||(p=L,$.time=At(q))},get state(){return j},play:R,pause:()=>{j="paused",N=q},stop:()=>{v=!0,j!=="idle"&&(j="idle",u&&u(),Ke())},cancel:()=>{O!==null&&Dt(O),Ke()},complete:()=>{j="finished"},sample:L=>(C=0,Dt(L))};return $}function ub(t){let e;return()=>(e===void 0&&(e=t()),e)}const db=ub(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hb=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_i=10,fb=2e4,mb=(t,e)=>e.type==="spring"||t==="backgroundColor"||!dg(e.ease);function pb(t,e,{onUpdate:r,onComplete:n,...s}){if(!(db()&&hb.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(m=>{a=m})};d();let{keyframes:h,duration:f=300,ease:p,times:v}=s;if(mb(e,s)){const m=wo({...s,repeat:0,delay:0});let k={done:!1,value:h[0]};const w=[];let _=0;for(;!k.done&&_<fb;)k=m.sample(_),w.push(k.value),_+=_i;v=void 0,h=w,f=_-_i,p="linear"}const x=Sw(t.owner.current,e,h,{...s,duration:f,ease:p,times:v}),b=()=>{u=!1,x.cancel()},y=()=>{u=!0,G.update(b),a(),d()};return x.onfinish=()=>{u||(t.set(jw(h,s)),n&&n(),y())},{then(m,k){return l.then(m,k)},attachTimeline(m){return x.timeline=m,x.onfinish=null,oe},get time(){return At(x.currentTime||0)},set time(m){x.currentTime=Rr(m)},get speed(){return x.playbackRate},set speed(m){x.playbackRate=m},get duration(){return At(f)},play:()=>{o||(x.play(),Lt(b))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:m}=x;if(m){const k=wo({...s,autoplay:!1});t.setWithVelocity(k.sample(m-_i).value,k.sample(m).value,_i)}y()},complete:()=>{u||x.finish()},cancel:y}}function gb({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const s=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:oe,pause:oe,stop:oe,then:i=>(i(),Promise.resolve()),cancel:oe,complete:oe});return e?wo({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const yb={type:"spring",stiffness:500,damping:25,restSpeed:10},vb=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xb={type:"keyframes",duration:.8},wb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bb=(t,{keyframes:e})=>e.length>2?xb:Fr.has(t)?t.startsWith("scale")?vb(e[1]):yb:wb,Jl=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cr.test(e)||e==="0")&&!e.startsWith("url(")),kb=new Set(["brightness","contrast","saturate","opacity"]);function _b(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Qo)||[];if(!n)return t;const s=r.replace(n,"");let i=kb.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const Sb=/([a-z-]*)\(.*?\)/g,Yl={...cr,getAnimatableNone:t=>{const e=t.match(Sb);return e?e.map(_b).join(" "):t}},jb={...Gp,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Yl,WebkitFilter:Yl},Pu=t=>jb[t];function Ig(t,e){let r=Pu(t);return r!==Yl&&(r=cr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Lg=t=>/^0[^.\s]+$/.test(t);function Nb(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Lg(t)}function Pb(t,e,r,n){const s=Jl(e,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),Nb(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=Ig(e,a)}return i}function Cb({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function Cu(t,e){return t[e]||t.default||t}const Tb={skipAnimations:!1},Tu=(t,e,r,n={})=>s=>{const i=Cu(n,t)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-Rr(o);const l=Pb(e,t,r,i),u=l[0],d=l[l.length-1],h=Jl(t,u),f=Jl(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Cb(i)||(p={...p,...bb(t,p)}),p.duration&&(p.duration=Rr(p.duration)),p.repeatDelay&&(p.repeatDelay=Rr(p.repeatDelay)),!h||!f||_w.current||i.type===!1||Tb.skipAnimations)return gb(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=pb(e,t,p);if(v)return v}return wo(p)};function bo(t){return!!(De(t)&&t.add)}const Mg=t=>/^\-?\d*\.?\d+$/.test(t);function Eu(t,e){t.indexOf(e)===-1&&t.push(e)}function Au(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Ou{constructor(){this.subscriptions=[]}add(e){return Eu(this.subscriptions,e),()=>Au(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Eb=t=>!isNaN(parseFloat(t));class Ab{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=ke;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,G.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>G.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Eb(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Ou);const n=this.events[e].add(r);return e==="change"?()=>{n(),G.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Og(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function On(t,e){return new Ab(t,e)}const Dg=t=>e=>e.test(t),Ob={test:t=>t==="auto",parse:t=>t},$g=[qr,z,bt,Vt,$x,Dx,Ob],Qn=t=>$g.find(Dg(t)),zb=[...$g,Ne,cr],Rb=t=>zb.find(Dg(t));function Ib(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,On(r))}function Lb(t,e){const r=Yo(t,e);let{transitionEnd:n={},transition:s={},...i}=r?t.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=Zx(i[o]);Ib(t,o,a)}}function Mb(t,e,r){var n,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&s!==void 0?s:e[l]),d!=null&&(typeof d=="string"&&(Mg(d)||Lg(d))?d=parseFloat(d):!Rb(d)&&cr.test(u)&&(d=Ig(l,u)),t.addValue(l,On(d,{owner:t})),r[l]===void 0&&(r[l]=d),d!==null&&t.setBaseTarget(l,d))}}function Db(t,e){return e?(e[t]||e.default||e).from:void 0}function $b(t,e,r){const n={};for(const s in t){const i=Db(s,e);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function Ub({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Vb(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function Ug(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(i=n);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||d&&Ub(d,h))continue;const v={delay:r,elapsed:0,...Cu(i||{},h)};if(window.HandoffAppearAnimations){const y=t.getProps()[Vp];if(y){const g=window.HandoffAppearAnimations(y,h,f,G);g!==null&&(v.elapsed=g,v.isHandoff=!0)}}let x=!v.isHandoff&&!Vb(f,p);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(x=!1),f.animation&&(x=!1),x)continue;f.start(Tu(h,f,p,t.shouldReduceMotion&&Fr.has(h)?{type:!1}:v));const b=f.animation;bo(l)&&(l.add(h),b.then(()=>l.remove(h))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&Lb(t,o)}),u}function Xl(t,e,r={}){const n=Yo(t,e,r.custom);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Ug(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return Bb(t,e,u+l,d,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Bb(t,e,r=0,n=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(t.variantChildren).sort(Fb).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Xl(u,e,{...i,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Fb(t,e){return t.sortNodePosition(e)}function qb(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>Xl(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=Xl(t,e,r);else{const s=typeof e=="function"?Yo(t,e,r.custom):e;n=Promise.all(Ug(t,s,r))}return n.then(()=>t.notify("AnimationComplete",e))}const Wb=[...fu].reverse(),Hb=fu.length;function Kb(t){return e=>Promise.all(e.map(({animation:r,options:n})=>qb(t,r,n)))}function Gb(t){let e=Kb(t);const r=Jb();let n=!0;const s=(l,u)=>{const d=Yo(t,u);if(d){const{transition:h,transitionEnd:f,...p}=d;l={...l,...p,...f}}return l};function i(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let v={},x=1/0;for(let y=0;y<Hb;y++){const g=Wb[y],m=r[g],k=d[g]!==void 0?d[g]:h[g],w=Ds(k),_=g===u?m.isActive:null;_===!1&&(x=y);let j=k===h[g]&&k!==d[g]&&w;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...v},!m.isActive&&_===null||!k&&!m.prevProp||Ko(k)||typeof k=="boolean")continue;let C=Qb(m.prevProp,k)||g===u&&m.isActive&&!j&&w||y>x&&w,O=!1;const ae=Array.isArray(k)?k:[k];let ue=ae.reduce(s,{});_===!1&&(ue={});const{prevResolvedValues:I={}}=m,q={...I,...ue},Dt=se=>{C=!0,p.has(se)&&(O=!0,p.delete(se)),m.needsAnimating[se]=!0};for(const se in q){const Ke=ue[se],T=I[se];if(v.hasOwnProperty(se))continue;let R=!1;yo(Ke)&&yo(T)?R=!cg(Ke,T):R=Ke!==T,R?Ke!==void 0?Dt(se):p.add(se):Ke!==void 0&&p.has(se)?Dt(se):m.protectedKeys[se]=!0}m.prevProp=k,m.prevResolvedValues=ue,m.isActive&&(v={...v,...ue}),n&&t.blockInitialAnimation&&(C=!1),C&&(!j||O)&&f.push(...ae.map(se=>({animation:se,options:{type:g,...l}})))}if(p.size){const y={};p.forEach(g=>{const m=t.getBaseTarget(g);m!==void 0&&(y[g]=m)}),f.push({animation:y})}let b=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(f):Promise.resolve()}function a(l,u,d){var h;if(r[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),r[l].isActive=u;const f=o(d,l);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function Qb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cg(e,t):!1}function vr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jb(){return{animate:vr(!0),whileInView:vr(),whileHover:vr(),whileTap:vr(),whileDrag:vr(),whileFocus:vr(),exit:vr()}}class Yb extends fr{constructor(e){super(e),e.animationState||(e.animationState=Gb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ko(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Xb=0;class Zb extends fr{constructor(){super(...arguments),this.id=Xb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const e1={animation:{Feature:Yb},exit:{Feature:Zb}},fh=(t,e)=>Math.abs(t-e);function t1(t,e){const r=fh(t.x,e.x),n=fh(t.y,e.y);return Math.sqrt(r**2+n**2)}class Vg{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ua(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=t1(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:x}=ke;this.history.push({...v,timestamp:x});const{onStart:b,onMove:y}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$a(f,this.transformPagePoint),G.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ua(h.type==="pointercancel"?this.lastMoveEventInfo:$a(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),v&&v(h,b)},!sg(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Jo(e),a=$a(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ke;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,Ua(a,this.history)),this.removeListeners=ir(Et(this.contextWindow,"pointermove",this.handlePointerMove),Et(this.contextWindow,"pointerup",this.handlePointerUp),Et(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lt(this.updatePoint)}}function $a(t,e){return e?{point:e(t.point)}:t}function mh(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ua({point:t},e){return{point:t,delta:mh(t,Bg(e)),offset:mh(t,r1(e)),velocity:n1(e,.1)}}function r1(t){return t[0]}function Bg(t){return t[t.length-1]}function n1(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Bg(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Rr(e)));)r--;if(!n)return{x:0,y:0};const i=At(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qe(t){return t.max-t.min}function Zl(t,e=0,r=.01){return Math.abs(t-e)<=r}function ph(t,e,r,n=.5){t.origin=n,t.originPoint=ee(e.min,e.max,t.origin),t.scale=qe(r)/qe(e),(Zl(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ee(r.min,r.max,t.origin)-t.originPoint,(Zl(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ps(t,e,r,n){ph(t.x,e.x,r.x,n?n.originX:void 0),ph(t.y,e.y,r.y,n?n.originY:void 0)}function gh(t,e,r){t.min=r.min+e.min,t.max=t.min+qe(e)}function s1(t,e,r){gh(t.x,e.x,r.x),gh(t.y,e.y,r.y)}function yh(t,e,r){t.min=e.min-r.min,t.max=t.min+qe(e)}function gs(t,e,r){yh(t.x,e.x,r.x),yh(t.y,e.y,r.y)}function i1(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ee(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ee(r,t,n.max):Math.min(t,r)),t}function vh(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function o1(t,{top:e,left:r,bottom:n,right:s}){return{x:vh(t.x,r,s),y:vh(t.y,e,n)}}function xh(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function a1(t,e){return{x:xh(t.x,e.x),y:xh(t.y,e.y)}}function l1(t,e){let r=.5;const n=qe(t),s=qe(e);return s>n?r=Us(e.min,e.max-n,t.min):n>s&&(r=Us(t.min,t.max-s,e.min)),lr(0,1,r)}function c1(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const ec=.35;function u1(t=ec){return t===!1?t=0:t===!0&&(t=ec),{x:wh(t,"left","right"),y:wh(t,"top","bottom")}}function wh(t,e,r){return{min:bh(t,e),max:bh(t,r)}}function bh(t,e){return typeof t=="number"?t:t[e]||0}const kh=()=>({translate:0,scale:1,origin:0,originPoint:0}),yn=()=>({x:kh(),y:kh()}),_h=()=>({min:0,max:0}),le=()=>({x:_h(),y:_h()});function Qe(t){return[t("x"),t("y")]}function Fg({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function d1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h1(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Va(t){return t===void 0||t===1}function tc({scale:t,scaleX:e,scaleY:r}){return!Va(t)||!Va(e)||!Va(r)}function _r(t){return tc(t)||qg(t)||t.z||t.rotate||t.rotateX||t.rotateY}function qg(t){return Sh(t.x)||Sh(t.y)}function Sh(t){return t&&t!=="0%"}function ko(t,e,r){const n=t-r,s=e*n;return r+s}function jh(t,e,r,n,s){return s!==void 0&&(t=ko(t,s,n)),ko(t,r,n)+e}function rc(t,e=0,r=1,n,s){t.min=jh(t.min,e,r,n,s),t.max=jh(t.max,e,r,n,s)}function Wg(t,{x:e,y:r}){rc(t.x,e.translate,e.scale,e.originPoint),rc(t.y,r.translate,r.scale,r.originPoint)}function f1(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vn(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Wg(t,o)),n&&_r(i.latestValues)&&vn(t,i.latestValues))}e.x=Nh(e.x),e.y=Nh(e.y)}function Nh(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Wt(t,e){t.min=t.min+e,t.max=t.max+e}function Ph(t,e,[r,n,s]){const i=e[s]!==void 0?e[s]:.5,o=ee(t.min,t.max,i);rc(t,e[r],e[n],o,e.scale)}const m1=["x","scaleX","originX"],p1=["y","scaleY","originY"];function vn(t,e){Ph(t.x,e,m1),Ph(t.y,e,p1)}function Hg(t,e){return Fg(h1(t.getBoundingClientRect(),e))}function g1(t,e,r){const n=Hg(t,r),{scroll:s}=e;return s&&(Wt(n.x,s.offset.x),Wt(n.y,s.offset.y)),n}const Kg=({current:t})=>t?t.ownerDocument.defaultView:null,y1=new WeakMap;class v1{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jo(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=og(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(b=>{let y=this.getAxisMotionValue(b).get()||0;if(bt.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const m=g.layout.layoutBox[b];m&&(y=qe(m)*(parseFloat(y)/100))}}this.originPoint[b]=y}),v&&G.update(()=>v(d,h),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=x1(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Qe(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Vg(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Kg(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&G.update(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Si(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=i1(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&pn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=o1(s.layoutBox,r):this.constraints=!1,this.elastic=u1(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=c1(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!pn(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=g1(n,s.root,this.visualElement.getTransformPagePoint());let o=a1(s.layout.layoutBox,i);if(r){const a=r(d1(o));this.hasMutatedConstraints=!!a,a&&(o=Fg(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Qe(d=>{if(!Si(d,r,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Tu(e,n,0,r))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Qe(r=>{const{drag:n}=this.getProps();if(!Si(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(e[r]-ee(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!pn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qe(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=l1({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Qe(o=>{if(!Si(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ee(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;y1.set(this.visualElement,this);const e=this.visualElement.current,r=Et(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();pn(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Ct(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qe(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ec,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Si(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function x1(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class w1 extends fr{constructor(e){super(e),this.removeGroupControls=oe,this.removeListeners=oe,this.controls=new v1(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ch=t=>(e,r)=>{t&&G.update(()=>t(e,r))};class b1 extends fr{constructor(){super(...arguments),this.removePointerDownListener=oe}onPointerDown(e){this.session=new Vg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ch(e),onStart:Ch(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&G.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Et(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function k1(){const t=S.useContext(Wo);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,s=S.useId();return S.useEffect(()=>n(s),[]),!e&&r?[!1,()=>r&&r(s)]:[!0]}const Bi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Th(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const r=Th(t,e.target.x),n=Th(t,e.target.y);return`${r}% ${n}%`}},_1={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=cr.parse(t);if(s.length>5)return n;const i=cr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=ee(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class S1 extends wc.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;Ax(j1),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||G.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Gg(t){const[e,r]=k1(),n=S.useContext(pu);return wc.createElement(S1,{...t,layoutGroup:n,switchLayoutGroup:S.useContext(Fp),isPresent:e,safeToRemove:r})}const j1={borderRadius:{...Jn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jn,borderTopRightRadius:Jn,borderBottomLeftRadius:Jn,borderBottomRightRadius:Jn,boxShadow:_1},Qg=["TopLeft","TopRight","BottomLeft","BottomRight"],N1=Qg.length,Eh=t=>typeof t=="string"?parseFloat(t):t,Ah=t=>typeof t=="number"||z.test(t);function P1(t,e,r,n,s,i){s?(t.opacity=ee(0,r.opacity!==void 0?r.opacity:1,C1(n)),t.opacityExit=ee(e.opacity!==void 0?e.opacity:1,0,T1(n))):i&&(t.opacity=ee(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<N1;o++){const a=`border${Qg[o]}Radius`;let l=Oh(e,a),u=Oh(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ah(l)===Ah(u)?(t[a]=Math.max(ee(Eh(l),Eh(u),n),0),(bt.test(u)||bt.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=ee(e.rotate||0,r.rotate||0,n))}function Oh(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const C1=Jg(0,.5,vg),T1=Jg(.5,.95,oe);function Jg(t,e,r){return n=>n<t?0:n>e?1:r(Us(t,e,n))}function zh(t,e){t.min=e.min,t.max=e.max}function Ge(t,e){zh(t.x,e.x),zh(t.y,e.y)}function Rh(t,e,r,n,s){return t-=e,t=ko(t,1/r,n),s!==void 0&&(t=ko(t,1/s,n)),t}function E1(t,e=0,r=1,n=.5,s,i=t,o=t){if(bt.test(e)&&(e=parseFloat(e),e=ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ee(i.min,i.max,n);t===i&&(a-=e),t.min=Rh(t.min,e,r,a,s),t.max=Rh(t.max,e,r,a,s)}function Ih(t,e,[r,n,s],i,o){E1(t,e[r],e[n],e[s],e.scale,i,o)}const A1=["x","scaleX","originX"],O1=["y","scaleY","originY"];function Lh(t,e,r,n){Ih(t.x,e,A1,r?r.x:void 0,n?n.x:void 0),Ih(t.y,e,O1,r?r.y:void 0,n?n.y:void 0)}function Mh(t){return t.translate===0&&t.scale===1}function Yg(t){return Mh(t.x)&&Mh(t.y)}function z1(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Xg(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Dh(t){return qe(t.x)/qe(t.y)}class R1{constructor(){this.members=[]}add(e){Eu(this.members,e),e.scheduleRender()}remove(e){if(Au(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $h(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:d}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const I1=(t,e)=>t.depth-e.depth;class L1{constructor(){this.children=[],this.isDirty=!1}add(e){Eu(this.children,e),this.isDirty=!0}remove(e){Au(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I1),this.isDirty=!1,this.children.forEach(e)}}function M1(t,e){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Lt(n),t(i-e))};return G.read(n,!0),()=>Lt(n)}function D1(t){window.MotionDebug&&window.MotionDebug.record(t)}function $1(t){return t instanceof SVGElement&&t.tagName!=="svg"}function U1(t,e,r){const n=De(t)?t:On(t);return n.start(Tu("",n,e,r)),n.animation}const Uh=["","X","Y","Z"],V1={visibility:"hidden"},Vh=1e3;let B1=0;const Sr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Zg({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=e?.()){this.id=B1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sr.totalNodes=Sr.resolvedTargetDeltas=Sr.recalculatedProjection=0,this.nodes.forEach(W1),this.nodes.forEach(J1),this.nodes.forEach(Y1),this.nodes.forEach(H1),D1(Sr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new L1)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ou),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$1(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=M1(f,250),Bi.hasAnimatedSinceResize&&(Bi.hasAnimatedSinceResize=!1,this.nodes.forEach(Fh))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||rk,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),g=!this.targetLayout||!Xg(this.targetLayout,v)||p,m=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const k={...Cu(x,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||Fh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X1),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bh);return}this.isUpdating||this.nodes.forEach(G1),this.isUpdating=!1,this.nodes.forEach(Q1),this.nodes.forEach(F1),this.nodes.forEach(q1),this.clearAllSnapshots();const a=performance.now();ke.delta=lr(0,1e3/60,a-ke.timestamp),ke.timestamp=a,ke.isProcessing=!0,Aa.update.process(ke),Aa.preRender.process(ke),Aa.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(K1),this.sharedNodes.forEach(Z1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,G.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){G.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Yg(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||_r(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),nk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return le();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Wt(a.x,l.offset.x),Wt(a.y,l.offset.y)),a}removeElementScroll(o){const a=le();Ge(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Ge(a,o);const{scroll:f}=this.root;f&&(Wt(a.x,-f.offset.x),Wt(a.y,-f.offset.y))}Wt(a.x,d.offset.x),Wt(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=le();Ge(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vn(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_r(d.latestValues)&&vn(l,d.latestValues)}return _r(this.latestValues)&&vn(l,this.latestValues),l}removeTransform(o){const a=le();Ge(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!_r(u.latestValues))continue;tc(u.latestValues)&&u.updateSnapshot();const d=le(),h=u.measurePageBox();Ge(d,h),Lh(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _r(this.latestValues)&&Lh(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ke.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),gs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ge(this.target,this.layout.layoutBox),Wg(this.target,this.targetDelta)):Ge(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),gs(this.relativeTargetOrigin,this.target,p.target),Ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tc(this.parent.latestValues)||qg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ge(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;f1(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=yn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yn(),this.projectionDeltaWithTransform=yn());const x=this.projectionTransform;ps(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=$h(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Sr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=yn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=le(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,b=this.getStack(),y=!b||b.members.length<=1,g=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(tk));this.animationProgress=0;let m;this.mixTargetDelta=k=>{const w=k/1e3;qh(h.x,o.x,w),qh(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ek(this.relativeTarget,this.relativeTargetOrigin,f,w),m&&z1(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=le()),Ge(m,this.relativeTarget)),x&&(this.animationValues=d,P1(d,u,this.latestValues,w,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=G.update(()=>{Bi.hasAnimatedSinceResize=!0,this.currentAnimation=U1(0,Vh,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ey(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||le();const h=qe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=qe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Ge(a,l),vn(a,d),ps(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new R1),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Uh.length;d++){const h="rotate"+Uh[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V1;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vi(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Vi(o?.pointerEvents)||""),this.hasProjected&&!_r(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=$h(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in po){if(f[x]===void 0)continue;const{correct:b,applyTo:y}=po[x],g=u.transform==="none"?f[x]:b(f[x],h);if(y){const m=y.length;for(let k=0;k<m;k++)u[y[k]]=g}else u[x]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Vi(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Bh),this.root.sharedNodes.clear()}}}function F1(t){t.updateLayout()}function q1(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Qe(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=qe(f);f.min=n[h].min,f.max=f.min+p}):ey(i,r.layoutBox,n)&&Qe(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=qe(n[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=yn();ps(a,n,r.layoutBox);const l=yn();o?ps(l,t.applyTransform(s,!0),r.measuredBox):ps(l,n,r.layoutBox);const u=!Yg(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=le();gs(v,r.layoutBox,f.layoutBox);const x=le();gs(x,n,p.layoutBox),Xg(v,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function W1(t){Sr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function H1(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K1(t){t.clearSnapshot()}function Bh(t){t.clearMeasurements()}function G1(t){t.isLayoutDirty=!1}function Q1(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fh(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function J1(t){t.resolveTargetDelta()}function Y1(t){t.calcProjection()}function X1(t){t.resetRotation()}function Z1(t){t.removeLeadSnapshot()}function qh(t,e,r){t.translate=ee(e.translate,0,r),t.scale=ee(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Wh(t,e,r,n){t.min=ee(e.min,r.min,n),t.max=ee(e.max,r.max,n)}function ek(t,e,r,n){Wh(t.x,e.x,r.x,n),Wh(t.y,e.y,r.y,n)}function tk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rk={duration:.45,ease:[.4,0,.1,1]},Hh=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Kh=Hh("applewebkit/")&&!Hh("chrome/")?Math.round:oe;function Gh(t){t.min=Kh(t.min),t.max=Kh(t.max)}function nk(t){Gh(t.x),Gh(t.y)}function ey(t,e,r){return t==="position"||t==="preserve-aspect"&&!Zl(Dh(e),Dh(r),.2)}const sk=Zg({attachResizeListener:(t,e)=>Ct(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ba={current:void 0},ty=Zg({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ba.current){const t=new sk({});t.mount(window),t.setOptions({layoutScroll:!0}),Ba.current=t}return Ba.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ik={pan:{Feature:b1},drag:{Feature:w1,ProjectionNode:ty,MeasureLayout:Gg}},ok=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ak(t){const e=ok.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function nc(t,e,r=1){const[n,s]=ak(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Mg(o)?parseFloat(o):o}else return Hl(s)?nc(s,e,r+1):s}function lk(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(s=>{const i=s.get();if(!Hl(i))return;const o=nc(i,n);o&&s.set(o)});for(const s in e){const i=e[s];if(!Hl(i))continue;const o=nc(i,n);o&&(e[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:e,transitionEnd:r}}const ck=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ry=t=>ck.has(t),uk=t=>Object.keys(t).some(ry),Qh=t=>t===qr||t===z,Jh=(t,e)=>parseFloat(t.split(", ")[e]),Yh=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return Jh(s[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?Jh(i[1],t):0}},dk=new Set(["x","y","z"]),hk=Ks.filter(t=>!dk.has(t));function fk(t){const e=[];return hk.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const zn={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yh(4,13),y:Yh(5,14)};zn.translateX=zn.x;zn.translateY=zn.y;const mk=(t,e,r)=>{const n=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{a[u]=zn[u](n,i)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=zn[u](l,i)}),t},pk=(t,e,r={},n={})=>{e={...e},n={...n};const s=Object.keys(e).filter(ry);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=r[l],h=Qn(d);const f=e[l];let p;if(yo(f)){const v=f.length,x=f[0]===null?1:0;d=f[x],h=Qn(d);for(let b=x;b<v&&f[b]!==null;b++)p?_u(Qn(f[b])===p):p=Qn(f[b])}else p=Qn(f);if(h!==p)if(Qh(h)&&Qh(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===z&&(e[l]=f.map(parseFloat))}else h?.transform&&p?.transform&&(d===0||f===0)?d===0?u.set(p.transform(d)):e[l]=h.transform(f):(o||(i=fk(t),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=mk(e,t,a);return i.length&&i.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Ho&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function gk(t,e,r,n){return uk(e)?pk(t,e,r,n):{target:e,transitionEnd:n}}const yk=(t,e,r,n)=>{const s=lk(t,e,n);return e=s.target,n=s.transitionEnd,gk(t,e,r,n)},_o={current:null},zu={current:!1};function ny(){if(zu.current=!0,!!Ho)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_o.current=t.matches;t.addListener(e),e()}else _o.current=!1}function vk(t,e,r){const{willChange:n}=e;for(const s in e){const i=e[s],o=r[s];if(De(i))t.addValue(s,i),bo(n)&&n.add(s);else if(De(o))t.addValue(s,On(i,{owner:t})),bo(n)&&n.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,On(a!==void 0?a:i,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Xh=new WeakMap,sy=Object.keys($s),xk=sy.length,Zh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wk=mu.length;class bk{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>G.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Go(r),this.isVariantNode=Bp(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];a[h]!==void 0&&De(f)&&(f.set(a[h],!1),bo(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Xh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),zu.current||ny(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_o.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xh.delete(this.current),this.projection&&this.projection.unmount(),Lt(this.notifyUpdate),Lt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=Fr.has(e),s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&G.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,s,i){let o,a;for(let l=0;l<xk;l++){const u=sy[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=$s[u];f&&(o=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&pn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Zh.length;n++){const s=Zh[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=vk(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<wk;n++){const s=mu[n],i=this.props[s];(Ds(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=On(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=ku(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!De(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Ou),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class iy extends bk{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:s},i){let o=$b(n,e||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){Mb(this,n,o);const a=yk(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function kk(t){return window.getComputedStyle(t)}class _k extends iy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Fr.has(r)){const n=Pu(r);return n&&n.default||0}else{const n=kk(e),s=(Hp(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Hg(e,r)}build(e,r,n,s){yu(e,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,r){return bu(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;De(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,s){Xp(e,r,n,s)}}class Sk extends iy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Fr.has(r)){const n=Pu(r);return n&&n.default||0}return r=Zp.has(r)?r:hu(r),e.getAttribute(r)}measureInstanceViewportBox(){return le()}scrapeMotionValuesFromProps(e,r){return tg(e,r)}build(e,r,n,s){xu(e,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,n,s){eg(e,r,n,s)}mount(e){this.isSVGTag=wu(e.tagName),super.mount(e)}}const jk=(t,e)=>gu(t)?new Sk(e,{enableHardwareAcceleration:!1}):new _k(e,{enableHardwareAcceleration:!0}),Nk={layout:{ProjectionNode:ty,MeasureLayout:Gg}},Pk={...e1,...ww,...ik,...Nk},M=Tx((t,e)=>aw(t,e,Pk,jk));function oy(){const t=S.useRef(!1);return du(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Ck(){const t=oy(),[e,r]=S.useState(0),n=S.useCallback(()=>{t.current&&r(e+1)},[e]);return[S.useCallback(()=>G.postRender(n),[n]),e]}class Tk extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ek({children:t,isPresent:e}){const r=S.useId(),n=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(Tk,{isPresent:e,childRef:n,sizeRef:s},S.cloneElement(t,{ref:n}))}const Fa=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=rg(Ak),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:r,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;n&&n()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[r]);return S.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[r]),S.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(t=S.createElement(Ek,{isPresent:r},t)),S.createElement(Wo.Provider,{value:u},t)};function Ak(){return new Map}function Ok(t){return S.useEffect(()=>()=>t(),[])}const jr=t=>t.key||"";function zk(t,e){t.forEach(r=>{const n=jr(r);e.set(n,r)})}function Rk(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const Wr=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useContext(pu).forceRender||Ck()[0],l=oy(),u=Rk(t);let d=u;const h=S.useRef(new Map).current,f=S.useRef(d),p=S.useRef(new Map).current,v=S.useRef(!0);if(du(()=>{v.current=!1,zk(u,p),f.current=d}),Ok(()=>{v.current=!0,p.clear(),h.clear()}),v.current)return S.createElement(S.Fragment,null,d.map(g=>S.createElement(Fa,{key:jr(g),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const x=f.current.map(jr),b=u.map(jr),y=x.length;for(let g=0;g<y;g++){const m=x[g];b.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((g,m)=>{if(b.indexOf(m)!==-1)return;const k=p.get(m);if(!k)return;const w=x.indexOf(m);let _=g;if(!_){const j=()=>{h.delete(m);const N=Array.from(p.keys()).filter(C=>!b.includes(C));if(N.forEach(C=>p.delete(C)),f.current=u.filter(C=>{const O=jr(C);return O===m||N.includes(O)}),!h.size){if(l.current===!1)return;a(),n&&n()}};_=S.createElement(Fa,{key:jr(k),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:i,mode:o},k),h.set(m,_)}d.splice(w,0,_)}),d=d.map(g=>{const m=g.key;return h.has(m)?g:S.createElement(Fa,{key:jr(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),S.createElement(S.Fragment,null,h.size?d:d.map(g=>S.cloneElement(g)))};function ay(){!zu.current&&ny();const[t]=S.useState(_o.current);return t}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ik={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>S.createElement("svg",{ref:d,...Ik,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Lk(t)}`,a].join(" "),...u},[...e.map(([h,f])=>S.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=B("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=B("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=B("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=B("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=B("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kk="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Lu(t){const[e,r]=S.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:o,className:a,...l}=t;return e?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${a??""}`,style:o,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:Kk,alt:"Error loading image",...l,"data-original-url":s})})}):c.jsx("img",{src:s,alt:i,className:a,style:o,...l,onError:n})}const Gk={"nav.catalog":{uz:"Katalog",ru:"Каталог",en:"Catalog"},"nav.about":{uz:"Biz haqimizda",ru:"О нас",en:"About Us"},"nav.contact":{uz:"Aloqa",ru:"Контакты",en:"Contact"},"nav.blog":{uz:"Aksiyalar",ru:"Акции",en:"Promotions"},"home.title":{uz:"Eurodoor — Euro Doors Toshkentda",ru:"Eurodoor — Euro Doors в Ташкенте",en:"Eurodoor — Euro Doors in Tashkent"},"home.subtitle":{uz:"Temir eshiklar & MDF eshiklar",ru:"Железные двери & MDF двери",en:"Iron doors & MDF doors"},"home.description":{uz:"Ko'cha/tashqi uchun temir va MDF eshiklar. Toshkentda o'rnatish, kafolat va bepul maslahat.",ru:"Железные и MDF двери для улицы/внешнего использования. Установка в Ташкенте, гарантия и бесплатная консультация.",en:"Iron and MDF doors for street/external use. Installation in Tashkent, warranty and free consultation."},"home.hero_title":{uz:"Sizning uyingiz xavfsizligi bizning ustuvorligimiz",ru:"Безопасность вашего дома - наш приоритет",en:"Your home security is our priority"},"home.hero_subtitle":{uz:"Zamonaviy dizayn va yuqori xavfsizlik standartlarini birlashtirgan premium temir va MDF eshiklar",ru:"Премиум железные и MDF двери, сочетающие современный дизайн и высокие стандарты безопасности",en:"Premium iron and MDF doors combining modern design and high security standards"},"home.security":{uz:"Yuqori xavfsizlik",ru:"Высокая безопасность",en:"High Security"},"home.security_desc":{uz:"Metall va MDF materiallardan yasalgan mustahkam eshiklar",ru:"Прочные двери из металла и MDF материалов",en:"Strong doors made from metal and MDF materials"},"home.quality":{uz:"Sifat sertifikati",ru:"Сертификат качества",en:"Quality Certificate"},"home.quality_desc":{uz:"Barcha mahsulotlar xalqaro standartlarga javob beradi",ru:"Все продукты соответствуют международным стандартам",en:"All products meet international standards"},"home.delivery":{uz:"Tez yetkazib berish",ru:"Быстрая доставка",en:"Fast Delivery"},"home.delivery_desc":{uz:"Professional o'rnatish xizmati bilan birga",ru:"Вместе с профессиональной установкой",en:"Along with professional installation service"},"home.view_catalog":{uz:"Katalogni ko'rish",ru:"Посмотреть каталог",en:"View Catalog"},"header.profile":{uz:"Profil",ru:"Профиль",en:"Profile"},"header.orders":{uz:"Buyurtmalarim",ru:"Мои заказы",en:"My Orders"},"header.logout":{uz:"Chiqish",ru:"Выйти",en:"Logout"},"header.login":{uz:"Kirish",ru:"Войти",en:"Login"},"header.register":{uz:"Ro'yxatdan o'tish",ru:"Регистрация",en:"Register"},"header.cart":{uz:"Korzinka",ru:"Корзина",en:"Cart"},"cart.title":{uz:"Korzinka",ru:"Корзина",en:"Cart"},"cart.empty":{uz:"Korzinka bo'sh",ru:"Корзина пуста",en:"Cart is empty"},"cart.empty_desc":{uz:"Mahsulotlar qo'shish uchun katalogga o'ting",ru:"Перейдите в каталог, чтобы добавить товары",en:"Go to catalog to add products"},"cart.go_to_catalog":{uz:"Katalogga o'tish",ru:"Перейти в каталог",en:"Go to Catalog"},"cart.dimensions":{uz:"O'lcham",ru:"Размер",en:"Size"},"cart.color":{uz:"Rang",ru:"Цвет",en:"Color"},"cart.total":{uz:"Jami",ru:"Итого",en:"Total"},"cart.clear":{uz:"Tozalash",ru:"Очистить",en:"Clear"},"cart.checkout":{uz:"Buyurtma berish",ru:"Оформить заказ",en:"Checkout"},"orderSuccess.title":{uz:"Buyurtma muvaffaqiyatli qabul qilindi!",ru:"Заказ успешно принят!",en:"Order Successfully Accepted!"},"orderSuccess.subtitle":{uz:"Sizning buyurtmangiz qabul qilindi va tez orada siz bilan bog'lanamiz.",ru:"Ваш заказ принят, и мы свяжемся с вами в ближайшее время.",en:"Your order has been accepted and we will contact you soon."},"orderSuccess.orderDetails":{uz:"Buyurtma ma'lumotlari",ru:"Детали заказа",en:"Order Details"},"orderSuccess.orderNumber":{uz:"Buyurtma raqami:",ru:"Номер заказа:",en:"Order Number:"},"orderSuccess.customerName":{uz:"Mijoz:",ru:"Клиент:",en:"Customer:"},"orderSuccess.phone":{uz:"Telefon:",ru:"Телефон:",en:"Phone:"},"orderSuccess.totalAmount":{uz:"Jami summa:",ru:"Общая сумма:",en:"Total Amount:"},"orderSuccess.contactInfo":{uz:"Bog'lanish ma'lumotlari",ru:"Контактная информация",en:"Contact Information"},"orderSuccess.contactText":{uz:"Bizning mutaxassislarimiz 24 soat ichida siz bilan bog'lanadi va buyurtmangizni batafsil muhokama qiladi.",ru:"Наши специалисты свяжутся с вами в течение 24 часов и подробно обсудят ваш заказ.",en:"Our specialists will contact you within 24 hours and discuss your order in detail."},"orderSuccess.goHome":{uz:"Bosh sahifaga qaytish",ru:"Вернуться на главную",en:"Return to Home"},"orderSuccess.newOrder":{uz:"Yangi buyurtma",ru:"Новый заказ",en:"New Order"},"orderSuccess.thankYou":{uz:"Eurodoor jamoasi nomidan rahmat! Sizning ishonchingiz biz uchun juda muhim.",ru:"Спасибо от команды Eurodoor! Ваше доверие очень важно для нас.",en:"Thank you from the Eurodoor team! Your trust is very important to us."},"orderSuccess.notificationTitle":{uz:"Bildirishnomalarni yoqish",ru:"Включить уведомления",en:"Enable Notifications"},"orderSuccess.notificationText":{uz:"Buyurtmangizning holati o'zgarganida sizga bildirishnoma yuboramiz. Sahifani yopib chiqib ketgan taqdirda ham xabarlarni olasiz.",ru:"Мы отправим вам уведомление при изменении статуса вашего заказа. Вы будете получать сообщения даже после закрытия страницы.",en:"We will send you a notification when your order status changes. You will receive messages even after closing the page."},"orderSuccess.enableNotifications":{uz:"Bildirishnomalarni yoqish",ru:"Включить уведомления",en:"Enable Notifications"},"orderSuccess.notificationsEnabled":{uz:"Bildirishnomalar yoqilgan",ru:"Уведомления включены",en:"Notifications Enabled"},"orderSuccess.notificationsEnabledText":{uz:"Buyurtmangizning barcha o'zgarishlari haqida sizga bildirishnoma yuboriladi.",ru:"Вам будут отправляться уведомления обо всех изменениях вашего заказа.",en:"You will receive notifications about all changes to your order."},"auth.login":{uz:"Kirish",ru:"Войти",en:"Login"},"auth.register":{uz:"Ro'yxatdan o'tish",ru:"Регистрация",en:"Register"},"auth.name":{uz:"Ism",ru:"Имя",en:"Name"},"auth.phone":{uz:"Telefon raqami",ru:"Номер телефона",en:"Phone Number"},"auth.password":{uz:"Parol",ru:"Пароль",en:"Password"},"auth.confirm_password":{uz:"Parolni tasdiqlang",ru:"Подтвердите пароль",en:"Confirm Password"},"auth.name_placeholder":{uz:"Ismingizni kiriting",ru:"Введите ваше имя",en:"Enter your name"},"auth.phone_placeholder":{uz:"+998 90 123 45 67",ru:"+998 90 123 45 67",en:"+998 90 123 45 67"},"auth.password_placeholder":{uz:"Parolingizni kiriting",ru:"Введите ваш пароль",en:"Enter your password"},"auth.confirm_password_placeholder":{uz:"Parolni qayta kiriting",ru:"Повторите пароль",en:"Repeat password"},"auth.loading":{uz:"Kutilmoqda...",ru:"Ожидание...",en:"Loading..."},"auth.no_account":{uz:"Hali ro'yxatdan o'tmaganmisiz?",ru:"Еще не зарегистрированы?",en:"Don't have an account?"},"auth.have_account":{uz:"Allaqachon ro'yxatdan o'tganmisiz?",ru:"Уже зарегистрированы?",en:"Already have an account?"},"auth.register_link":{uz:"Ro'yxatdan o'ting",ru:"Зарегистрироваться",en:"Register"},"auth.login_link":{uz:"Kirish",ru:"Войти",en:"Login"},"auth.name_required":{uz:"Ism kiritish majburiy",ru:"Имя обязательно",en:"Name is required"},"auth.phone_required":{uz:"Telefon raqami kiritish majburiy",ru:"Номер телефона обязателен",en:"Phone number is required"},"auth.password_min_length":{uz:"Parol kamida 6 ta belgi bo'lishi kerak",ru:"Пароль должен содержать минимум 6 символов",en:"Password must be at least 6 characters"},"auth.passwords_not_match":{uz:"Parollar mos kelmaydi",ru:"Пароли не совпадают",en:"Passwords do not match"},"auth.login_success":{uz:"Kirish muvaffaqiyatli!",ru:"Вход успешен!",en:"Login successful!"},"auth.register_success":{uz:"Muvaffaqiyatli ro'yxatdan o'tdingiz! Endi kirishingiz mumkin.",ru:"Регистрация прошла успешно! Теперь можете войти.",en:"Registration successful! You can now login."},"auth.login_error":{uz:"Kirishda xatolik yuz berdi",ru:"Ошибка при входе",en:"Login error occurred"},"auth.register_error":{uz:"Ro'yxatdan o'tishda xatolik yuz berdi",ru:"Ошибка при регистрации",en:"Registration error occurred"},"auth.general_error":{uz:"Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.",ru:"Произошла ошибка. Пожалуйста, попробуйте снова.",en:"An error occurred. Please try again."},"contact.title":{uz:"Biz bilan bog'laning",ru:"Свяжитесь с нами",en:"Contact Us"},"contact.description":{uz:"Sizga kerakli eshikni tanlashda yordam berish uchun biz bilan bog'laning. Mutaxassislarimiz bepul maslahat va o'lchash xizmati taklif qiladi.",ru:"Свяжитесь с нами для помощи в выборе нужной двери. Наши специалисты предлагают бесплатную консультацию и услуги по замерам.",en:"Contact us for help in choosing the right door. Our specialists offer free consultation and measurement services."},"contact.contact_form":{uz:"Aloqa formasi",ru:"Форма связи",en:"Contact Form"},"contact.contact_info":{uz:"Bog'lanish ma'lumotlari",ru:"Контактная информация",en:"Contact Information"},"contact.phone":{uz:"Telefon",ru:"Телефон",en:"Phone"},"contact.telegram":{uz:"Telegram",ru:"Telegram",en:"Telegram"},"contact.instagram":{uz:"Instagram",ru:"Instagram",en:"Instagram"},"contact.email":{uz:"Email",ru:"Email",en:"Email"},"contact.our_location":{uz:"Bizning joylashuvimiz",ru:"Наше местоположение",en:"Our Location"},"home.free_consultation":{uz:"Bepul maslahat",ru:"Бесплатная консультация",en:"Free Consultation"},"home.specialists_help":{uz:"Mutaxassislarimiz sizga kerakli eshikni tanlashda yordam beradi",ru:"Наши специалисты помогут вам выбрать нужную дверь",en:"Our specialists will help you choose the right door"},"home.contact_button":{uz:"Bog'lanish",ru:"Связаться",en:"Contact"},"catalog.title":{uz:"Katalog",ru:"Каталог",en:"Catalog"},"catalog.description":{uz:"Bizning eshik modellari katalogi",ru:"Каталог наших моделей дверей",en:"Our door models catalog"},"catalog.group_by_material":{uz:"Material bo'yicha",ru:"По материалу",en:"By Material"},"catalog.group_by_size":{uz:"O'lcham bo'yicha",ru:"По размеру",en:"By Size"},"catalog.material_metall_mdf":{uz:"Metall + MDF",ru:"Металл + МДФ",en:"Metal + MDF"},"catalog.material_mdf_mdf":{uz:"MDF + MDF",ru:"МДФ + МДФ",en:"MDF + MDF"},"catalog.material_metall_mdf_oyna":{uz:"Metall + MDF + Oyna",ru:"Металл + МДФ + Стекло",en:"Metal + MDF + Glass"},"catalog.material_metall_metall":{uz:"Metall + Metall",ru:"Металл + Металл",en:"Metal + Metal"},"catalog.material_metall_kompozit":{uz:"Metall + Kompozit",ru:"Металл + Композит",en:"Metal + Composite"},"catalog.material_other":{uz:"Boshqa materiallar",ru:"Другие материалы",en:"Other Materials"},"catalog.size_2050_series":{uz:"2050 seriyasi",ru:"Серия 2050",en:"2050 Series"},"catalog.size_2100_series":{uz:"2100 seriyasi",ru:"Серия 2100",en:"2100 Series"},"catalog.size_2300_series":{uz:"2300 seriyasi",ru:"Серия 2300",en:"2300 Series"},"catalog.size_other":{uz:"Boshqa o'lchamlar",ru:"Другие размеры",en:"Other Sizes"},"catalog.view_details":{uz:"Batafsil",ru:"Подробнее",en:"View Details"},"catalog.opening":{uz:"Ochilmoqda...",ru:"Открывается...",en:"Opening..."},"about.title":{uz:"Biz haqimizda",ru:"О нас",en:"About Us"},"about.description":{uz:"Eurodoor - eshiklar sohasida 10 yildan ortiq tajribaga ega kompaniya",ru:"Eurodoor - компания с более чем 10-летним опытом в области дверей",en:"Eurodoor - a company with more than 10 years of experience in doors"},"about.experience":{uz:"Yillik tajriba",ru:"Лет опыта",en:"Years of Experience"},"about.customers":{uz:"Mamnun mijozlar",ru:"Довольных клиентов",en:"Satisfied Customers"},"about.models":{uz:"Eshik modellari",ru:"Моделей дверей",en:"Door Models"},"about.mission":{uz:"Bizning missiyamiz",ru:"Наша миссия",en:"Our Mission"},"about.mission_text":{uz:"Har bir mijozga eng yaxshi eshik yechimini taqdim etish",ru:"Предоставить каждому клиенту лучшее дверное решение",en:"Provide every customer with the best door solution"},"about.doors_description":{uz:"Bizning eshiklar yuqori sifatli materiallardan tayyorlanadi",ru:"Наши двери изготавливаются из высококачественных материалов",en:"Our doors are made from high-quality materials"},"about.customer_needs":{uz:"Har bir mijozning ehtiyojlarini hisobga olgan holda",ru:"Учитывая потребности каждого клиента",en:"Taking into account the needs of each customer"},"about.security":{uz:"Xavfsizlik",ru:"Безопасность",en:"Security"},"about.highest_security":{uz:"Eng yuqori darajadagi xavfsizlik",ru:"Высший уровень безопасности",en:"Highest level of security"},"about.certificates_standards":{uz:"Sertifikatlar va standartlar",ru:"Сертификаты и стандарты",en:"Certificates and Standards"},"about.international_standards":{uz:"Xalqaro standartlar bo'yicha sertifikatlangan",ru:"Сертифицировано по международным стандартам",en:"Certified to international standards"},"about.gost_cert":{uz:"GOST sertifikati",ru:"Сертификат ГОСТ",en:"GOST Certificate"},"about.ce_mark":{uz:"CE belgisi",ru:"Маркировка CE",en:"CE Mark"},"about.fire_cert":{uz:"Yong'in xavfsizligi sertifikati",ru:"Сертификат пожарной безопасности",en:"Fire Safety Certificate"},"about.partnership":{uz:"Hamkorlik",ru:"Партнерство",en:"Partnership"},"about.partnership_desc":{uz:"Biz bilan hamkorlik qiling va biznesingizni rivojlantiring",ru:"Сотрудничайте с нами и развивайте свой бизнес",en:"Partner with us and grow your business"},"about.contact_info":{uz:"Bog'lanish ma'lumotlari",ru:"Контактная информация",en:"Contact Information"},"contact.our_services":{uz:"Bizning xizmatlarimiz",ru:"Наши услуги",en:"Our Services"},"contact.services_desc":{uz:"Biz sizga to'liq xizmat ko'rsatamiz",ru:"Мы предоставляем вам полный спектр услуг",en:"We provide you with a full range of services"},"contact.free_consultation":{uz:"Bepul maslahat",ru:"Бесплатная консультация",en:"Free Consultation"},"contact.free_consultation_desc":{uz:"Mutaxassislarimizdan bepul maslahat oling",ru:"Получите бесплатную консультацию от наших специалистов",en:"Get free consultation from our specialists"},"contact.free_measurement":{uz:"Bepul o'lchash",ru:"Бесплатный замер",en:"Free Measurement"},"contact.free_measurement_desc":{uz:"Uyingizga bepul o'lchash xizmati",ru:"Бесплатная услуга замера на дому",en:"Free home measurement service"},"contact.fast_installation":{uz:"Tez o'rnatish",ru:"Быстрая установка",en:"Fast Installation"},"contact.fast_installation_desc":{uz:"Professional o'rnatish xizmati",ru:"Профессиональная услуга установки",en:"Professional installation service"},"contact.address":{uz:"Manzil",ru:"Адрес",en:"Address"},"contact.address_detail":{uz:"Toshkent shahar, Chilonzor tumani",ru:"Город Ташкент, Чиланзарский район",en:"Tashkent city, Chilanzar district"},"contact.working_hours":{uz:"Ish vaqti",ru:"Время работы",en:"Working Hours"},"contact.back_to_product":{uz:"Mahsulotga qaytish",ru:"Вернуться к товару",en:"Back to Product"},"contact.cart_items":{uz:"Korzinkadagi mahsulotlar",ru:"Товары в корзине",en:"Cart Items"},"contact.selected_product":{uz:"Tanlangan mahsulot",ru:"Выбранный товар",en:"Selected Product"},"contact.dimensions":{uz:"O'lcham",ru:"Размер",en:"Dimensions"},"contact.color":{uz:"Rang",ru:"Цвет",en:"Color"},"contact.quantity":{uz:"Miqdor",ru:"Количество",en:"Quantity"},"contact.total":{uz:"Jami",ru:"Итого",en:"Total"},"contact.material":{uz:"Material",ru:"Материал",en:"Material"},"contact.security":{uz:"Xavfsizlik",ru:"Безопасность",en:"Security"},"contact.price":{uz:"Narx",ru:"Цена",en:"Price"},"contact.order_form":{uz:"Buyurtma formasi",ru:"Форма заказа",en:"Order Form"},"contact.name_placeholder":{uz:"Ismingiz",ru:"Ваше имя",en:"Your Name"},"contact.phone_placeholder":{uz:"Telefon raqamingiz",ru:"Ваш номер телефона",en:"Your Phone Number"},"contact.email_placeholder":{uz:"Email manzilingiz",ru:"Ваш email адрес",en:"Your Email Address"},"contact.delivery_address_placeholder":{uz:"Yetkazib berish manzili",ru:"Адрес доставки",en:"Delivery Address"},"contact.sending":{uz:"Yuborilmoqda...",ru:"Отправка...",en:"Sending..."},"contact.place_order":{uz:"Buyurtma berish",ru:"Разместить заказ",en:"Place Order"},"contact.send_message":{uz:"Xabar yuborish",ru:"Отправить сообщение",en:"Send Message"},"contact.address_street":{uz:"Bunyodkor ko'chasi, 1-uy",ru:"Улица Бунёдкор, дом 1",en:"Bunyodkor street, house 1"},"contact.working_hours_weekdays":{uz:"Dushanba - Shanba: 9:00 - 19:00",ru:"Понедельник - Суббота: 9:00 - 19:00",en:"Monday - Saturday: 9:00 - 19:00"},"contact.working_hours_weekend":{uz:"Yakshanba: 10:00 - 17:00",ru:"Воскресенье: 10:00 - 17:00",en:"Sunday: 10:00 - 17:00"},"contact.telegram_handle":{uz:"@eurodoor_uz",ru:"@eurodoor_uz",en:"@eurodoor_uz"},"contact.instagram_handle":{uz:"@eurodoor.uz",ru:"@eurodoor.uz",en:"@eurodoor.uz"},"contact.email_address":{uz:"info@eurodoor.uz",ru:"info@eurodoor.uz",en:"info@eurodoor.uz"},"contact.product_placeholder":{uz:"Mahsulot haqida qo'shimcha ma'lumot",ru:"Дополнительная информация о продукте",en:"Additional product information"},"contact.message_placeholder":{uz:"Xabaringizni yozing...",ru:"Напишите ваше сообщение...",en:"Write your message..."},"contact.send_button":{uz:"Xabar yuborish",ru:"Отправить сообщение",en:"Send Message"},"product.back_to_catalog":{uz:"Katalogga qaytish",ru:"Вернуться в каталог",en:"Back to Catalog"},"product.price":{uz:"Narx",ru:"Цена",en:"Price"},"product.ask_for_price":{uz:"Narxni so'rang",ru:"Узнать цену",en:"Ask for Price"},"product.contact_for_price":{uz:"Narx uchun aloqa qiling",ru:"Свяжитесь для цены",en:"Contact for Price"},"product.technical_specs":{uz:"Texnik xususiyatlar",ru:"Технические характеристики",en:"Technical Specifications"},"product.material":{uz:"Material",ru:"Материал",en:"Material"},"product.security":{uz:"Xavfsizlik",ru:"Безопасность",en:"Security"},"product.dimensions":{uz:"O'lchamlar",ru:"Размеры",en:"Dimensions"},"product.thickness":{uz:"Qalinlik",ru:"Толщина",en:"Thickness"},"product.lock":{uz:"Qulf",ru:"Замок",en:"Lock"},"product.features":{uz:"Xususiyatlar",ru:"Особенности",en:"Features"},"product.galvanized_body":{uz:"Galvanizlangan korpus",ru:"Оцинкованный корпус",en:"Galvanized Body"},"product.heat_sound_insulation":{uz:"Issiqlik va tovush izolyatsiyasi",ru:"Тепло- и звукоизоляция",en:"Heat and Sound Insulation"},"product.uv_resistant_paint":{uz:"UV chidamli bo'yoq",ru:"УФ-стойкая краска",en:"UV Resistant Paint"},"product.add_to_cart":{uz:"Korzinkaga qo'shish",ru:"Добавить в корзину",en:"Add to Cart"},"product.quantity":{uz:"Miqdor:",ru:"Количество:",en:"Quantity:"},"product.size":{uz:"O'lcham:",ru:"Размер:",en:"Size:"},"product.color":{uz:"Rang:",ru:"Цвет:",en:"Color:"},"product.standard_size":{uz:"Standart o'lcham",ru:"Стандартный размер",en:"Standard size"},"product.standard_color":{uz:"Standart rang",ru:"Стандартный цвет",en:"Standard color"},"product.custom_size":{uz:"Boshqa o'lcham",ru:"Другой размер",en:"Custom size"},"product.size_placeholder":{uz:"Masalan: 1900x750",ru:"Например: 1900x750",en:"Example: 1900x750"},"product.color_white":{uz:"Oq",ru:"Белый",en:"White"},"product.color_black":{uz:"Qora",ru:"Черный",en:"Black"},"product.color_gray":{uz:"Kulrang",ru:"Серый",en:"Gray"},"product.color_brown":{uz:"Jigarrang",ru:"Коричневый",en:"Brown"},"home.why_eurodoor":{uz:"Nima uchun Eurodoor?",ru:"Почему Eurodoor?",en:"Why Eurodoor?"},"home.experience_text":{uz:"Bizning tajribamiz va sifatimiz bilan eshiklar olamida yangi standartlar o'rnatamiz",ru:"Мы устанавливаем новые стандарты в мире дверей с нашим опытом и качеством",en:"We set new standards in the world of doors with our experience and quality"}},yy=S.createContext(void 0);function Qk({children:t}){const[e,r]=S.useState("uz");S.useEffect(()=>{const o=localStorage.getItem("selectedLanguage");o&&["uz","ru","en"].includes(o)?r(o):r("uz")},[]);const i={language:e,t:o=>Gk[o]?.[e]||o,changeLanguage:o=>{localStorage.setItem("selectedLanguage",o),r(o),console.log("Language changed to:",o)}};return c.jsx(yy.Provider,{value:i,children:t})}function nt(){const t=S.useContext(yy);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const vy=S.createContext(void 0),Ys=()=>{const t=S.useContext(vy);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Jk=({children:t})=>{const[e,r]=S.useState([]),[n,s]=S.useState(!1);S.useEffect(()=>{const f=localStorage.getItem("eurodoor-cart");if(f)try{r(JSON.parse(f))}catch(p){console.error("Korzinka ma'lumotlarini yuklashda xatolik:",p)}},[]),S.useEffect(()=>{localStorage.setItem("eurodoor-cart",JSON.stringify(e))},[e]);const i=f=>{r(p=>{const v=p.find(x=>x.id===f.id&&x.dimensions===f.dimensions&&x.color===f.color);return v?p.map(x=>x.id===v.id?{...x,quantity:x.quantity+1}:x):[...p,{...f,quantity:1}]})},o=f=>{r(p=>p.filter(v=>v.id!==f))},a=(f,p)=>{if(p<=0){o(f);return}r(v=>v.map(x=>x.id===f?{...x,quantity:p}:x))},l=()=>{r([])},u=e.reduce((f,p)=>f+p.quantity,0),d=e.reduce((f,p)=>f+p.price*p.quantity,0),h={items:e,totalItems:u,totalPrice:d,addToCart:i,removeFromCart:o,updateQuantity:a,clearCart:l,isCartOpen:n,setIsCartOpen:s};return c.jsx(vy.Provider,{value:h,children:t})},Yk="modulepreload",Xk=function(t){return"/"+t},lf={},Xs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(r.map(l=>{if(l=Xk(l),l in lf)return;lf[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Yk,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Zk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xs(async()=>{const{default:n}=await Promise.resolve().then(()=>$n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Mu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class e_ extends Mu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cf extends Mu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uf extends Mu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ic;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ic||(ic={}));var t_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class r_{constructor(e,{headers:r={},customFetch:n,region:s=ic.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Zk(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return t_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new e_(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new cf(h);if(!h.ok)throw new uf(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof uf||s instanceof cf?s.context:void 0}}})}}var Oe={},Du={},Zo={},Zs={},ea={},ta={},n_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},In=n_();const s_=In.fetch,xy=In.fetch.bind(In),wy=In.Headers,i_=In.Request,o_=In.Response,$n=Object.freeze(Object.defineProperty({__proto__:null,Headers:wy,Request:i_,Response:o_,default:xy,fetch:s_},Symbol.toStringTag,{value:"Module"})),a_=Ky($n);var ra={};Object.defineProperty(ra,"__esModule",{value:!0});let l_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ra.default=l_;var by=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});const c_=by(a_),u_=by(ra);let d_=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let d=null,h=null,f=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,v="OK")}catch{i.status===404&&b===""?(p=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d?.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&this.shouldThrowOnError)throw new u_.default(d)}return{error:d,data:h,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};ta.default=d_;var h_=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ea,"__esModule",{value:!0});const f_=h_(ta);let m_=class extends f_.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ea.default=m_;var p_=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});const g_=p_(ea);let y_=class extends g_.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zs.default=y_;var v_=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});const Yn=v_(Zs);let x_=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Zo.default=x_;var ky=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Du,"__esModule",{value:!0});const w_=ky(Zo),b_=ky(Zs);let k_=class _y{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new w_.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _y(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new b_.default({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Du.default=k_;var Un=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const Sy=Un(Du);Oe.PostgrestClient=Sy.default;const jy=Un(Zo);Oe.PostgrestQueryBuilder=jy.default;const Ny=Un(Zs);Oe.PostgrestFilterBuilder=Ny.default;const Py=Un(ea);Oe.PostgrestTransformBuilder=Py.default;const Cy=Un(ta);Oe.PostgrestBuilder=Cy.default;const Ty=Un(ra);Oe.PostgrestError=Ty.default;var __=Oe.default={PostgrestClient:Sy.default,PostgrestQueryBuilder:jy.default,PostgrestFilterBuilder:Ny.default,PostgrestTransformBuilder:Py.default,PostgrestBuilder:Cy.default,PostgrestError:Ty.default};const{PostgrestClient:S_,PostgrestQueryBuilder:Kj,PostgrestFilterBuilder:Gj,PostgrestTransformBuilder:Qj,PostgrestBuilder:Jj,PostgrestError:Yj}=__;class j_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const N_="2.15.5",P_=`realtime-js/${N_}`,C_="1.0.0",oc=1e4,T_=1e3,E_=100;var vs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vs||(vs={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var lt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lt||(lt={}));var ac;(function(t){t.websocket="websocket"})(ac||(ac={}));var Pr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pr||(Pr={}));class A_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ey{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const df=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=O_(o,t,e,s),i),{})},O_=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s?.type,o=r[t];return i&&!n.includes(i)?Ay(i,o):lc(o)},Ay=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return L_(e,r)}switch(t){case H.bool:return z_(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return R_(e);case H.json:case H.jsonb:return I_(e);case H.timestamp:return M_(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return lc(e);default:return lc(e)}},lc=t=>t,z_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},I_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ay(e,a))}return t},M_=t=>typeof t=="string"?t.replace(" ","T"):t,Oy=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class qa{constructor(e,r,n={},s=oc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hf||(hf={}));class xs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),x.length>0&&(l[u]=x)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ff;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ff||(ff={}));var ws;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ws||(ws={}));var St;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class $u{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qa(this,lt.join,this.params,this.timeout),this.rejoinTimer=new Ey(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xs(this),this.broadcastEndpointURL=Oy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ws.PRESENCE]&&this.bindings[ws.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(St.CHANNEL_ERROR,p)),this._onClose(()=>e?.(St.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e?.(St.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x?.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<b;g++){const m=x[g],{filter:{event:k,schema:w,table:_,filter:j}}=m,N=p&&p[g];if(N&&N.event===k&&N.schema===w&&N.table===_&&N.filter===j)y.push(Object.assign(Object.assign({},m),{id:N.id}));else{this.unsubscribe(),this.state=de.errored,e?.(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(St.SUBSCRIBED);return}}).receive("error",p=>{this.state=de.errored,e?.(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===de.joined&&e===ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new qa(this,lt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qa(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>E_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=lt;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,x,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,x,b,y,g,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,w=(v=p.filter)===null||v===void 0?void 0:v.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(w==="*"||w?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(g=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((m=r?.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:b,commit_timestamp:y,type:g,errors:m}=v;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$u.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lt.close,{},e)}_onError(e){this._on(lt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=df(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=df(e.columns,e.old_record)),r}}const Wa=()=>{},ji={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D_=[1e3,2e3,5e3,1e4],$_=1e4,U_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oc,this.transport=null,this.heartbeatIntervalMs=ji.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wa,this.ref=0,this.reconnectTimer=null,this.logger=Wa,this.conn=null,this.sendBuffer=[],this.serializer=new A_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Xs(async()=>{const{default:a}=await Promise.resolve().then(()=>$n);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ac.websocket}`,this.httpEndpoint=Oy(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return Pr.Connecting;case vs.open:return Pr.Open;case vs.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new $u(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ji.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(lt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([U_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:P_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(lt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ey(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ji.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:oc,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:ji.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Wa,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:h=>D_[h-1]||$_,this.encode=(u=e?.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Uu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class B_ extends Uu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cc extends Uu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var F_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const zy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xs(async()=>{const{default:n}=await Promise.resolve().then(()=>$n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},q_=()=>F_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xs(()=>Promise.resolve().then(()=>$n),void 0)).Response:Response}),uc=t=>{if(Array.isArray(t))return t.map(r=>uc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=uc(n)}),e},W_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Hr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Ha=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H_=(t,e,r)=>Hr(void 0,void 0,void 0,function*(){const n=yield q_();t instanceof n&&!r?.noResolveJson?t.json().then(s=>{const i=t.status||500,o=s?.statusCode||i+"";e(new B_(Ha(s),i,o))}).catch(s=>{e(new cc(Ha(s),s))}):e(new cc(Ha(t),t))}),K_=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!n?s:(W_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ei(t,e,r,n,s,i){return Hr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,K_(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>H_(l,a,n))})})}function No(t,e,r,n){return Hr(this,void 0,void 0,function*(){return ei(t,"GET",e,r,n)})}function gt(t,e,r,n,s){return Hr(this,void 0,void 0,function*(){return ei(t,"POST",e,n,s,r)})}function dc(t,e,r,n,s){return Hr(this,void 0,void 0,function*(){return ei(t,"PUT",e,n,s,r)})}function G_(t,e,r,n){return Hr(this,void 0,void 0,function*(){return ei(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ry(t,e,r,n,s){return Hr(this,void 0,void 0,function*(){return ei(t,"DELETE",e,n,s,r)})}var je=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Q_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class J_{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=zy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?dc:gt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(e,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:mf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield dc(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Uu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}update(e,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}copy(e,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return je(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}download(e,r){return je(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield No(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(he(a))return{data:null,error:a};throw a}})}info(e){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield No(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:uc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}exists(e){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield G_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n)&&n instanceof cc){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}list(e,r,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Q_),r),{prefix:e||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}listV2(e,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Y_="2.12.1",X_={"X-Client-Info":`storage-js/${Y_}`};var Qr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Z_{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},X_),r),this.fetch=zy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Qr(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return Qr(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Qr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Qr(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Qr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Qr(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}}class eS extends Z_{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new J_(this.url,this.headers,e,this.fetch)}}const tS="2.57.4";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const rS={"X-Client-Info":`supabase-js-${ns}/${tS}`},nS={headers:rS},sS={schema:"public"},iS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oS={};var aS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const lS=t=>{let e;return t?e=t:typeof fetch>"u"?e=xy:e=fetch,(...r)=>e(...r)},cS=()=>typeof Headers>"u"?wy:Headers,uS=(t,e,r)=>{const n=lS(r),s=cS();return(i,o)=>aS(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var dS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function hS(t){return t.endsWith("/")?t:t+"/"}function fS(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dS(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function mS(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Iy="2.71.1",en=30*1e3,hc=3,Ka=hc*en,pS="http://localhost:9999",gS="supabase.auth.token",yS={"X-Client-Info":`gotrue-js/${Iy}`},fc="X-Supabase-Api-Version",Ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xS=10*60*1e3;class Vu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wS extends Vu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bS(t){return D(t)&&t.name==="AuthApiError"}class My extends Vu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class mr extends Vu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Bt extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kS(t){return D(t)&&t.name==="AuthSessionMissingError"}class Ni extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ci extends mr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _S(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class pf extends mr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mc extends mr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ga(t){return D(t)&&t.name==="AuthRetryableFetchError"}class gf extends mr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pc extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yf=` 	
\r=`.split(""),SS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yf.length;e+=1)t[yf[e].charCodeAt(0)]=-2;for(let e=0;e<Po.length;e+=1)t[Po[e].charCodeAt(0)]=e;return t})();function vf(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Po[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Po[n]),e.queuedBits-=6}}function Dy(t,e,r){const n=SS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xf(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{PS(o,n,r)};for(let o=0;o<t.length;o+=1)Dy(t.charCodeAt(o),s,i);return e.join("")}function jS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}jS(n,e)}}function PS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function CS(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Dy(t.charCodeAt(s),r,n);return new Uint8Array(e)}function TS(t){const e=[];return NS(t,r=>e.push(r)),new Uint8Array(e)}function ES(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>vf(s,r,n)),vf(null,r,n),e.join("")}function AS(t){return Math.round(Date.now()/1e3)+t}function OS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",xr={tested:!1,writable:!1},$y=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xr.tested)return xr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xr.tested=!0,xr.writable=!0}catch{xr.tested=!0,xr.writable=!1}return xr.writable};function zS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Uy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xs(async()=>{const{default:n}=await Promise.resolve().then(()=>$n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},RS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},wr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ut=async(t,e)=>{await t.removeItem(e)};class na{constructor(){this.promise=new na.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}na.promiseConstructor=Promise;function Qa(t){const e=t.split(".");if(e.length!==3)throw new pc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!vS.test(e[n]))throw new pc("JWT not in base64url format");return{header:JSON.parse(xf(e[0])),payload:JSON.parse(xf(e[1])),signature:CS(e[2]),raw:{header:e[0],payload:e[1]}}}async function IS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LS(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function MS(t){return("0"+t.toString(16)).substr(-2)}function DS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,MS).join("")}async function $S(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function US(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await $S(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jr(t,e,r=!1){const n=DS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await tn(t,`${e}-code-verifier`,s);const i=await US(n);return[i,n===i?"plain":"s256"]}const VS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BS(t){const e=t.headers.get(fc);if(!e||!e.match(VS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(t){if(!WS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ja(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wf(t){return JSON.parse(JSON.stringify(t))}var HS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Nr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),KS=[502,503,504];async function bf(t){var e;if(!RS(t))throw new mc(Nr(t),0);if(KS.includes(t.status))throw new mc(Nr(t),t.status);let r;try{r=await t.json()}catch(i){throw new My(Nr(i),i)}let n;const s=BS(t);if(s&&s.getTime()>=Ly["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gf(Nr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Bt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gf(Nr(r),t.status,r.weak_password.reasons);throw new wS(Nr(r),t.status||500,n)}const GS=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const i=Object.assign({},n?.headers);i[fc]||(i[fc]=Ly["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await QS(t,e,r+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function QS(t,e,r,n,s,i){const o=GS(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new mc(Nr(l),0)}if(a.ok||await bf(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await bf(l)}}function kt(t){var e;let r=null;ZS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=AS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function kf(t){const e=kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function JS(t){return{data:t,error:null}}function YS(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=HS(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function XS(t){return t}function ZS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ya=["global","local","others"];var ej=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class tj{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Uy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ya[0]){if(Ya.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ya.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ej(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:YS,redirectTo:r?.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:XS});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Yr(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Yr(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Yr(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Yr(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Yr(e.userId),Yr(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}function _f(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function rj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xr={debug:!!(globalThis&&$y()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nj extends Vy{}async function sj(t,e,r){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rj();const ij={url:pS,storageKey:gS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sf(t,e,r){return await r()}const Zr={};class Vs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ij),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uy(s.fetch),this.lock=s.lock||Sf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:it()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sj:this.lock=Sf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$y()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_f(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_f(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Zr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Zr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Iy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=zS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),it()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_S(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new My("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Jr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:v},xform:kt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kt})}else throw new Pi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:kf})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:kf})}else throw new Pi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ni}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,h,f,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:g,options:m}=e;let k;if(it())if(typeof y=="object")k=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!m?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const w=new URL((r=m?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m?.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(n=m?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:b,error:y}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ES(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kt});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ni}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(D(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await wr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:kt});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ni}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:kt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ni}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Jr(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Pi("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Jr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:JS})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Bt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Pi("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ka:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await wr(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ja()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(D(r))return kS(r)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Bt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Jr(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Gt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Qa(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Bt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!it())throw new Ci("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ci(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ci("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pf("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ci("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=en&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await wr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(bS(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=OS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Jr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return it()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(D(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LS(async s=>(s>0&&await IS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ga(i)&&Date.now()+o-n<en})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),it()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await wr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await tn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o?.user)!==null&&e!==void 0?e:Ja()}else if(s&&!s.user&&!s.user){const o=await wr(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await Ut(this.storage,this.storageKey+"-user"),await tn(this.storage,this.storageKey,s)):s.user=Ja()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ka;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ka}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ga(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new na;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return Ga(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await tn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=wf(s);await tn(this.storage,this.storageKey,i)}else{const s=wf(r);await tn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),en);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/en);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${en}ms, refresh threshold is ${hc} ticks`),s<=hc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Qa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+xS>s)return n;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Qa(n);r?.allowExpired||FS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=qS(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,TS(`${a}.${l}`)))throw new pc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}Vs.nextInstanceID=0;const oj=Vs;class aj extends oj{constructor(e){super(e)}}var lj=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class cj{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=mS(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:sS,realtime:oS,auth:Object.assign(Object.assign({},iS),{storageKey:l}),global:nS},d=fS(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=uS(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new S_(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new eS(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new r_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return lj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new V_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uj=(t,e,r)=>new cj(t,e,r);function dj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hj="https://oathybjrmhtubbemjeyy.supabase.co",fj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9hdGh5YmpybWh0dWJiZW1qZXl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MjMzOTIsImV4cCI6MjA3Mjk5OTM5Mn0.GlKHHQj1nhDGwF78Fr7zlKytRxEwXwlyRTlgEX6d4io",A=uj(hj,fj,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"eurodoor-customer-panel"}}}),By=S.createContext(void 0),ti=()=>{const t=S.useContext(By);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},mj=({children:t})=>{const[e,r]=S.useState(null),[n,s]=S.useState(!0),i=async h=>{try{console.log("🔍 Checking customer existence for ID:",h);const{data:f,error:p}=await A.from("customers").select("id, name, email").eq("id",h).single();return console.log("📤 Customer existence check response:",{data:f,error:p}),p||!f?(console.log("🚫 Customer not found in database, signing out..."),console.log("🚫 Error details:",p),await A.auth.signOut(),r(null),!1):(console.log("✅ Customer found in database:",f),!0)}catch(f){return console.error("❌ Error checking customer existence:",f),!1}};S.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await A.auth.getSession();v?.user&&(console.log("🔍 Initial session check for user:",v.user.id),await i(v.user.id)&&r({id:v.user.id,email:v.user.email||"",name:v.user.user_metadata?.name,phone:v.user.user_metadata?.phone,created_at:v.user.created_at}))}catch(v){console.error("Session olishda xatolik:",v)}finally{s(!1)}})();const{data:{subscription:f}}=A.auth.onAuthStateChange(async(v,x)=>{if(console.log("🔄 Auth state change:",v,x?.user?.id),v==="SIGNED_OUT"){console.log("🚪 User signed out, clearing user state"),r(null),s(!1);return}x?.user?v==="SIGNED_IN"?(console.log("🔍 Auth state change - checking customer for:",x.user.id),await i(x.user.id)&&r({id:x.user.id,email:x.user.email||"",name:x.user.user_metadata?.name,phone:x.user.user_metadata?.phone,created_at:x.user.created_at})):r({id:x.user.id,email:x.user.email||"",name:x.user.user_metadata?.name,phone:x.user.user_metadata?.phone,created_at:x.user.created_at}):r(null),s(!1)}),p=A.channel("customer-deletion").on("postgres_changes",{event:"DELETE",schema:"public",table:"customers"},async v=>{console.log("🗑️ Customer deleted in real-time:",v.old),e&&e.id===v.old.id&&(console.log("🚫 Current user was deleted, signing out..."),await A.auth.signOut(),r(null))}).subscribe();return()=>{f.unsubscribe(),p.unsubscribe()}},[]);const d={user:e,loading:n,signUp:async(h,f,p,v)=>{try{s(!0),console.log("🚀 Starting signup process for:",{email:h,name:p,phone:v});const{data:x,error:b}=await A.auth.signUp({email:h,password:f,options:{data:{name:p,phone:v},emailRedirectTo:void 0}});if(console.log("📤 Supabase signup response:",{data:x,error:b}),b){if(console.error("❌ Signup error:",b),b.message.includes("already registered")||b.message.includes("User already registered")){console.log("🔄 User already exists, syncing with customers table..."),console.log("🔐 Attempting to sign in existing user...");const{data:y,error:g}=await A.auth.signInWithPassword({email:h,password:f});if(console.log("📤 Sign in response:",{existingUser:y,getUserError:g}),y?.user){console.log("👤 Found existing user:",y.user.id);const m={id:y.user.id,name:p||y.user.user_metadata?.name||"",phone:v||y.user.user_metadata?.phone||"",email:h};console.log("📋 Customer data to sync:",m),console.log("🔍 Checking if customer already exists in customers table...");const k=A.from("customers").select("id").eq("id",y.user.id).single(),w=new Promise((N,C)=>setTimeout(()=>C(new Error("Customer check timeout")),1e4)),{data:_,error:j}=await Promise.race([k,w]);if(console.log("📤 Customer existence check:",{existingCustomer:_,checkError:j}),j&&j.code==="PGRST116"){console.log("📝 Customer not found, inserting new customer...");const{data:N,error:C}=await A.from("customers").insert([m]).select();return console.log("📤 Insert response:",{insertResult:N,insertError:C}),C?(console.error("❌ Insert failed:",C),s(!1),{success:!1,error:"Mijoz ma'lumotlarini saqlashda xatolik"}):(console.log("✅ Customer inserted successfully:",N),s(!1),{success:!0})}else if(_){console.log("📝 Customer exists, updating customer data...");const{data:N,error:C}=await A.from("customers").update({name:m.name,phone:m.phone,email:m.email}).eq("id",y.user.id).select();return console.log("📤 Update response:",{updateResult:N,updateError:C}),C?(console.error("❌ Update failed:",C),s(!1),{success:!1,error:"Mijoz ma'lumotlarini yangilashda xatolik"}):(console.log("✅ Customer updated successfully:",N),s(!1),{success:!0})}else if(j&&j.message==="Customer check timeout"){console.error("❌ Customer check timeout, proceeding with insert..."),console.log("📝 Timeout occurred, inserting customer directly...");const{data:N,error:C}=await A.from("customers").insert([m]).select();return console.log("📤 Direct insert response:",{insertResult:N,insertError:C}),C?(console.error("❌ Direct insert failed:",C),s(!1),{success:!1,error:"Mijoz ma'lumotlarini saqlashda xatolik"}):(console.log("✅ Customer inserted successfully after timeout:",N),s(!1),{success:!0})}else{console.error("❌ Unexpected error checking customer existence:",j),console.log("🔄 Fallback: inserting customer directly...");const{data:N,error:C}=await A.from("customers").insert([m]).select();return console.log("📤 Fallback insert response:",{fallbackResult:N,fallbackError:C}),C?(console.error("❌ Fallback insert also failed:",C),s(!1),{success:!1,error:"Mijoz ma'lumotlarini saqlashda xatolik"}):(console.log("✅ Customer inserted via fallback:",N),s(!1),{success:!0})}}else return console.error("❌ Could not sign in existing user:",g),s(!1),{success:!1,error:"Foydalanuvchi mavjud, lekin parol noto'g'ri"}}return console.log("❌ Signup failed, setting loading to false"),s(!1),{success:!1,error:b.message}}if(x.user){console.log("👤 User created successfully:",x.user.id);try{console.log("📝 Adding customer to customers table...");const m={id:x.user.id,name:p||"",phone:v||"",email:h};console.log("📋 Customer data to insert:",m);const{data:k,error:w}=await A.from("customers").insert([m]).select();if(console.log("📤 Customer insert response:",{customerResult:k,customerError:w}),w){console.error("❌ Customer creation error:",w),console.error("❌ Error details:",{message:w.message,code:w.code,details:w.details,hint:w.hint}),console.log("🔄 Attempting fallback with upsert...");const{data:_,error:j}=await A.from("customers").upsert([m],{onConflict:"id"}).select();j?console.error("❌ Upsert also failed:",j):console.log("✅ Customer upserted successfully:",_)}else console.log("✅ Customer added to customers table successfully:",k)}catch(m){console.error("❌ Error adding customer to table:",m)}console.log("🔐 Attempting auto sign-in...");const{data:y,error:g}=await A.auth.signInWithPassword({email:h,password:f});console.log("📤 Auto sign-in response:",{signInData:y,signInError:g}),g?console.error("❌ Auto sign-in error:",g):console.log("✅ User auto-signed in successfully")}return{success:!0}}catch(x){return console.error("❌ Signup error:",x),{success:!1,error:x.message||"Ro'yxatdan o'tishda xatolik yuz berdi"}}finally{s(!1)}},signIn:async(h,f)=>{try{s(!0);const{data:p,error:v}=await A.auth.signInWithPassword({email:h,password:f});if(v){if(v.message.includes("Email not confirmed")||v.message.includes("email_not_confirmed"))try{const{error:x}=await A.auth.updateUser({data:{email_confirmed:!0}});if(!x){const{data:b,error:y}=await A.auth.signInWithPassword({email:h,password:f});if(!y)return{success:!0}}}catch(x){console.error("Update error:",x)}return{success:!1,error:v.message}}return{success:!0}}catch{return{success:!1,error:"Kirishda xatolik yuz berdi"}}finally{s(!1)}},signOut:async()=>{try{s(!0),console.log("🚪 Signing out user..."),await A.auth.signOut(),r(null),console.log("✅ User signed out successfully")}catch(h){console.error("❌ Chiqishda xatolik:",h)}finally{s(!1)}},updateProfile:async h=>{try{if(!e)return{success:!1,error:"Foydalanuvchi topilmadi"};const{error:f}=await A.auth.updateUser({data:h});return f?{success:!1,error:f.message}:(r(p=>p?{...p,...h}:null),{success:!0})}catch{return{success:!1,error:"Profil yangilashda xatolik"}}}};return c.jsx(By.Provider,{value:d,children:t})},pj=({id:t,type:e,title:r,message:n,duration:s=3e3,onClose:i})=>{S.useEffect(()=>{const l=setTimeout(()=>{i(t)},s);return()=>clearTimeout(l)},[t,s,i]);const o=()=>{switch(e){case"success":return c.jsx(jo,{className:"h-5 w-5 text-green-400"});case"error":return c.jsx(Rn,{className:"h-5 w-5 text-red-400"});case"info":return c.jsx(vt,{className:"h-5 w-5 text-blue-400"});default:return c.jsx(jo,{className:"h-5 w-5 text-green-400"})}},a=()=>{switch(e){case"success":return"bg-green-500/20 border-green-500/30";case"error":return"bg-red-500/20 border-red-500/30";case"info":return"bg-blue-500/20 border-blue-500/30";default:return"bg-green-500/20 border-green-500/30"}};return c.jsx(M.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3,ease:"easeOut"},className:`${a()} backdrop-blur-lg border rounded-xl p-4 shadow-xl max-w-sm w-full`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:o()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-white font-semibold text-sm",children:r}),n&&c.jsx("p",{className:"text-gray-300 text-xs mt-1",children:n})]}),c.jsx("button",{onClick:()=>i(t),className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:c.jsx(Rn,{className:"h-4 w-4"})})]})})},gj=({toasts:t,onClose:e})=>c.jsx("div",{className:"fixed top-4 right-4 z-[10000] space-y-2",children:c.jsx(Wr,{children:t.map(r=>c.jsx(M.div,{layout:!0,initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3,ease:"easeOut"},children:c.jsx(pj,{...r,onClose:e})},r.id))})}),Fy=S.createContext(void 0),ri=()=>{const t=S.useContext(Fy);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},yj=({children:t})=>{const[e,r]=S.useState([]),n=u=>{const d=Math.random().toString(36).substr(2,9),h={...u,id:d,onClose:s};r(f=>[...f,h])},s=u=>{r(d=>d.filter(h=>h.id!==u))},l={showToast:n,showSuccess:(u,d)=>{n({type:"success",title:u,message:d})},showError:(u,d)=>{n({type:"error",title:u,message:d})},showInfo:(u,d)=>{n({type:"info",title:u,message:d})}};return c.jsxs(Fy.Provider,{value:l,children:[t,c.jsx(gj,{toasts:e,onClose:s})]})};function jf(){const{language:t,changeLanguage:e}=nt(),[r,n]=S.useState(!1),s=S.useRef(null),i=[{code:"uz",name:"O'zbek",flag:"🇺🇿"},{code:"ru",name:"Русский",flag:"🇷🇺"},{code:"en",name:"English",flag:"🇺🇸"}],o=i.find(l=>l.code===t),a=i.filter(l=>l.code!==t);return S.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&n(!1)};return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r]),c.jsxs("div",{className:"flex items-center space-x-4",ref:s,children:[c.jsx("button",{onClick:()=>n(!r),className:"flex items-center text-white hover:text-gray-300 transition-colors",children:c.jsx("span",{className:"text-sm font-medium",children:o?.name})}),c.jsx(Wr,{children:r&&c.jsx(M.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.3},className:"flex items-center space-x-4 overflow-hidden",children:a.map((l,u)=>c.jsx(M.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1,duration:.2},onClick:()=>{e(l.code),n(!1)},className:"flex items-center space-x-1 text-white hover:text-gray-300 transition-colors",children:c.jsx("span",{className:"text-xs whitespace-nowrap",children:l.name})},l.code))})})]})}function vj({onNavigate:t}){const{items:e,totalItems:r,totalPrice:n,updateQuantity:s,removeFromCart:i,clearCart:o,isCartOpen:a,setIsCartOpen:l}=Ys(),{t:u}=nt();S.useEffect(()=>{const f=document.querySelector("header");f&&(a?f.classList.remove("backdrop-blur-sm"):f.classList.add("backdrop-blur-sm"))},[a]);const d=f=>new Intl.NumberFormat("uz-UZ",{style:"currency",currency:"UZS",minimumFractionDigits:0}).format(f),h=()=>{l(!1),t("contact")};return c.jsx(Wr,{children:a&&c.jsxs(c.Fragment,{children:[c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/30 cart-backdrop-blur z-[9998]",style:{backdropFilter:"blur(8px) !important",WebkitBackdropFilter:"blur(8px) !important"}}),c.jsxs(M.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed right-0 top-0 h-screen w-full md:w-2/5 bg-black/30 cart-modal-blur shadow-2xl z-[9999] flex flex-col border-l border-white/30",style:{backdropFilter:"blur(24px) saturate(150%) !important",WebkitBackdropFilter:"blur(24px) saturate(150%) !important"},children:[c.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-white/20",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white",children:[u("cart.title")," (",r,")"]}),c.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:c.jsx(Rn,{className:"h-5 w-5 text-white/80"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[c.jsx(gy,{className:"h-16 w-16 text-white/50 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:u("cart.empty")}),c.jsx("p",{className:"text-white/70 mb-6",children:u("cart.empty_desc")}),c.jsx("button",{onClick:()=>{l(!1),t("catalog")},className:"px-6 py-3 bg-gradient-to-r from-blue-500/30 to-purple-500/30 text-white rounded-xl hover:from-blue-500/40 hover:to-purple-500/40 transition-all duration-300 border border-blue-500/50 shadow-lg hover:shadow-xl transform hover:scale-105",children:u("cart.go_to_catalog")})]}):c.jsx("div",{className:"space-y-4",children:e.map(f=>c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4 p-4 bg-gradient-to-br from-black/40 to-black/20 cart-item-blur rounded-xl border border-white/30 hover:border-blue-500/50 transition-all duration-300",children:[c.jsx(Lu,{src:f.image,alt:f.name,className:"w-20 h-20 object-cover rounded-lg"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-sm font-medium text-white truncate",children:f.name}),f.dimensions&&c.jsxs("p",{className:"text-xs text-white/70",children:[u("cart.dimensions"),": ",f.dimensions]}),f.color&&c.jsxs("p",{className:"text-xs text-white/70",children:[u("cart.color"),": ",f.color]}),c.jsx("p",{className:"text-sm font-semibold text-blue-300",children:d(f.price)})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>s(f.id,f.quantity-1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:c.jsx(hy,{className:"h-4 w-4 text-white"})}),c.jsx("span",{className:"w-8 text-center text-sm font-medium text-white",children:f.quantity}),c.jsx("button",{onClick:()=>s(f.id,f.quantity+1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:c.jsx(fy,{className:"h-4 w-4 text-white"})}),c.jsx("button",{onClick:()=>i(f.id),className:"p-1 hover:bg-red-500/20 rounded-full transition-colors ml-2",children:c.jsx(qk,{className:"h-4 w-4 text-red-400"})})]})]},`${f.id}-${f.dimensions}-${f.color}`))})}),e.length>0&&c.jsxs("div",{className:"border-t border-white/20 p-8 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-lg font-semibold text-white",children:[u("cart.total"),":"]}),c.jsx("span",{className:"text-xl font-bold text-blue-300",children:d(n)})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 border border-white/30 text-white rounded-xl hover:bg-white/20 transition-all duration-300",children:u("cart.clear")}),c.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500/30 to-purple-500/30 text-white rounded-xl hover:from-blue-500/40 hover:to-purple-500/40 transition-all duration-300 border border-blue-500/50 shadow-lg hover:shadow-xl transform hover:scale-105",children:u("cart.checkout")})]})]})]})]})})}class xj{permission="default";isSupported=!1;lastNotificationTime={};notificationDebounceTime=1e3;globalSubscription=null;isWatching=!1;constructor(){this.isSupported="Notification"in window,this.permission=this.isSupported?Notification.permission:"denied"}async requestPermission(){if(!this.isSupported)return console.warn("Notifications are not supported in this browser"),!1;if(this.permission==="granted")return!0;try{const e=await Notification.requestPermission();return this.permission=e,e==="granted"}catch(e){return console.error("Error requesting notification permission:",e),!1}}async showNotification(e){if(console.log("🔔 showNotification called with data:",e),console.log("🔔 Permission status:",this.permission),console.log("🔔 Is supported:",this.isSupported),!this.isSupported||this.permission!=="granted"){console.warn("Cannot show notification: permission not granted or not supported"),console.warn("Permission:",this.permission,"Supported:",this.isSupported);return}try{const r=e.tag||`notification-${Date.now()}`;if(console.log("🔔 Using tag:",r),"serviceWorker"in navigator)try{const i=await navigator.serviceWorker.ready;if(i.active){console.log("🔔 Sending notification via Service Worker for background support"),i.active.postMessage({type:"SHOW_NOTIFICATION",data:{...e,tag:r,requireInteraction:!0,silent:!1,vibrate:[200,100,200]}}),console.log("✅ Notification sent via Service Worker");return}}catch(i){console.log("⚠️ Service Worker notification failed, falling back to direct notification:",i)}console.log("🔔 Creating browser notification directly");const n={body:e.body,icon:e.icon||"/favicon.ico",badge:e.badge||"/favicon.ico",tag:r,data:e.data,requireInteraction:!0,silent:!1};e.actions&&"actions"in Notification.prototype&&(n.actions=e.actions),console.log("🔔 Notification options:",n);const s=new Notification(e.title,n);console.log("🔔 Notification created:",s),s.onclick=()=>{console.log("🔔 Notification clicked"),window.focus(),s.close(),e.data?.orderNumber?(window.location.href="#orders",console.log(`🔔 Notification clicked - navigating to orders page for order: ${e.data.orderNumber}`)):(window.location.href="#orders",console.log("🔔 Notification clicked - navigating to orders page"))},s.onclose=()=>{console.log("🔔 Notification closed")},setTimeout(()=>{s.close()},15e3),console.log(`✅ Notification shown with tag: ${r}`)}catch(r){console.error("❌ Error showing notification:",r)}}async startGlobalOrderWatching(){if(this.isWatching){console.log("🔔 Already watching orders globally");return}try{console.log("🔔 Starting global order watching..."),console.log(`🔐 Notification permission: ${this.permission}`),this.globalSubscription=A.channel("global-orders-watching").on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},async e=>{console.log("📦 Global order status changed:",e),console.log("📦 Payload details:",{new:e.new,old:e.old,eventType:e.eventType});const r=e.new,n=e.old;r.status!==n.status?(console.log(`🔄 Status changed from ${n.status} to ${r.status} for order: ${r.order_number}`),console.log(`🔔 Permission status: ${this.permission}`),console.log(`🔔 Is supported: ${this.isSupported}`),await this.handleOrderStatusChange(r,r.order_number)):console.log("⚠️ Status did not change, skipping notification")}).subscribe(e=>{console.log(`📡 Global subscription status: ${e}`),e==="SUBSCRIBED"?(console.log("✅ Successfully subscribed to global orders"),this.isWatching=!0,this.startBackgroundSync()):e==="CHANNEL_ERROR"?console.error("❌ Global channel error"):e==="TIMED_OUT"&&console.error("⏰ Global subscription timed out")})}catch(e){console.error("Error starting global order watching:",e)}}async startBackgroundSync(){try{if("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype){const e=await navigator.serviceWorker.ready;if("periodicSync"in window.ServiceWorkerRegistration.prototype)try{await e.periodicSync.register("order-sync",{minInterval:6e4}),console.log("✅ Periodic background sync registered")}catch(r){console.log("⚠️ Periodic sync not supported:",r)}try{"sync"in e?(await e.sync.register("order-sync"),console.log("✅ Background sync registered")):console.log("⚠️ Background sync not supported")}catch(r){console.log("⚠️ Background sync failed:",r)}}}catch(e){console.error("❌ Error starting background sync:",e)}}stopGlobalOrderWatching(){this.globalSubscription&&(this.globalSubscription.unsubscribe(),this.globalSubscription=null,this.isWatching=!1,console.log("🔔 Stopped global order watching"))}async watchOrderStatus(e,r){try{console.log(`🔔 Watching order status for: ${e}`),console.log(`📱 Customer phone: ${r}`),console.log(`🔐 Notification permission: ${this.permission}`),this.isWatching||await this.startGlobalOrderWatching()}catch(n){console.error("Error watching order status:",n)}}async handleOrderStatusChange(e,r){console.log(`🔔 handleOrderStatusChange called for order: ${r}, status: ${e.status}`),console.log(`🔔 Current permission: ${this.permission}`),console.log(`🔔 Is supported: ${this.isSupported}`);const s={confirmed:{title:"✅ Buyurtma Tasdiqlandi!",body:`Sizning ${r} raqamli buyurtmangiz tasdiqlandi. Tez orada siz bilan bog'lanamiz.`,tag:`order-${r}-confirmed`},processing:{title:"🔄 Buyurtma Tayyorlanmoqda",body:`Sizning ${r} raqamli buyurtmangiz tayyorlanmoqda.`,tag:`order-${r}-processing`},shipped:{title:"🚚 Buyurtma Yuborildi",body:`Sizning ${r} raqamli buyurtmangiz yuborildi. Tez orada yetkazib beriladi.`,tag:`order-${r}-shipped`},delivered:{title:"🎉 Buyurtma Yetkazib Berildi!",body:`Sizning ${r} raqamli buyurtmangiz muvaffaqiyatli yetkazib berildi.`,tag:`order-${r}-delivered`},cancelled:{title:"❌ Buyurtma Bekor Qilindi",body:`Sizning ${r} raqamli buyurtmangiz bekor qilindi.`,tag:`order-${r}-cancelled`}}[e.status];if(console.log(`🔔 Message for status ${e.status}:`,s),s){const i=`${r}-${e.status}`,o=Date.now(),a=this.lastNotificationTime[i]||0;if(o-a<this.notificationDebounceTime){console.log(`⚠️ Skipping duplicate notification for ${i}`),console.log(`⚠️ Time difference: ${o-a}ms, debounce time: ${this.notificationDebounceTime}ms`);return}this.lastNotificationTime[i]=o,console.log(`✅ Showing notification for ${i}`),console.log("🔔 Notification data:",{...s,data:{orderNumber:r,status:e.status}});try{await this.showNotification({...s,data:{orderNumber:r,status:e.status},actions:[{action:"view",title:"Ko'rish",icon:"/icons/eye.png"},{action:"close",title:"Yopish",icon:"/icons/close.png"}]}),console.log(`✅ Notification sent successfully for ${i}`)}catch(l){console.error(`❌ Error sending notification for ${i}:`,l)}}else console.log(`⚠️ No message found for status: ${e.status}`)}async sendEmailNotification(e,r){console.log("📧 Email notification disabled due to CORS issues")}async registerServiceWorker(){if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js");console.log("✅ Service Worker registered:",e),"PushManager"in window?(console.log("✅ Push API supported"),await this.subscribeToPush(e)):console.log("❌ Push API not supported")}catch(e){console.error("❌ Service Worker registration failed:",e)}}async subscribeToPush(e){try{const r=await e.pushManager.getSubscription();if(r)console.log("✅ Push subscription already exists:",r),await this.sendSubscriptionToServer(r);else{console.log("🔔 Creating new push subscription...");const n=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array("BEl62iUYgUivxIkv69yViEuiBIa40HI0lF5AwyKcnxXs4VWXK8dTInu3FIni8kHUpcMWvqyJ8sY8qa4r8UXwcm8")});console.log("✅ Push subscription created:",n),await this.sendSubscriptionToServer(n)}}catch(r){console.error("❌ Push subscription failed:",r)}}async sendSubscriptionToServer(e){try{console.log("📤 Sending subscription to server..."),console.log("📤 Subscription details:",{endpoint:e.endpoint,keys:e.getKey?{p256dh:e.getKey("p256dh"),auth:e.getKey("auth")}:"No keys available"});const r=(await A.auth.getUser()).data.user;if(!r){console.error("❌ No authenticated user found");return}const{data:n,error:s}=await A.from("push_subscriptions").upsert({user_id:r.id,subscription:e.toJSON(),created_at:new Date().toISOString()},{onConflict:"user_id"});s?console.error("❌ Failed to save subscription:",s):console.log("✅ Subscription saved to server:",n)}catch(r){console.error("❌ Error sending subscription to server:",r)}}urlBase64ToUint8Array(e){const r="=".repeat((4-e.length%4)%4),n=(e+r).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(n),i=new Uint8Array(s.length);for(let o=0;o<s.length;++o)i[o]=s.charCodeAt(o);return i}async sendTestPushNotification(){try{console.log("🧪 Sending test push notification...");const{data:e,error:r}=await A.functions.invoke("test-push-notification",{body:{}});if(r)throw console.error("❌ Test push notification failed:",r),r;console.log("✅ Test push notification sent:",e)}catch(e){throw console.error("❌ Error sending test push notification:",e),e}}getPermissionStatus(){return this.permission}isNotificationSupported(){return this.isSupported}}const ze=new xj,wj={},bj=wj?.VITE_VAPID_PUBLIC_KEY||"BEl62iUYgUivxIkv69yViEuiBIa40HI0lF5AwyKcnxXs4VWXK8dTInu3FIni8kHUpcMWvqyJ8sY8qa4r8UXwcm8";function kj(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/-/g,"+").replace(/_/g,"/"),n=atob(r);return Uint8Array.from([...n].map(s=>s.charCodeAt(0)))}async function _j(t){if(console.log("🔔 Enabling push notifications for user:",t),!("serviceWorker"in navigator)||!("PushManager"in window))throw new Error("Push not supported");if(window.matchMedia("(display-mode: standalone)").matches||(console.warn("⚠️ PWA not installed. Ask user to Add to Home Screen."),Sj()),console.log("🔔 Requesting notification permission..."),await Notification.requestPermission()!=="granted")throw new Error("Permission denied");console.log("✅ Notification permission granted"),console.log("🔔 Registering Service Worker...");const n=await navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("✅ Service Worker registered:",n),console.log("🔔 Creating push subscription...");const s=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kj(bj)});console.log("✅ Push subscription created"),console.log("📱 Push endpoint:",s.endpoint),console.log("🔔 Saving subscription to server...");const{data:i,error:o}=await A.from("push_subscriptions").upsert({user_id:t,subscription:s.toJSON(),created_at:new Date().toISOString()},{onConflict:"user_id"});if(o)throw console.error("❌ Failed to save subscription:",o),o;return console.log("✅ Subscription saved to server:",i),{subscription:s,registration:n}}function Sj(){const t=document.createElement("div");t.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: #3b82f6;
    color: white;
    padding: 12px;
    text-align: center;
    z-index: 9999;
    font-size: 14px;
  `,t.innerHTML=`
    <div>📱 Push notifications work best when installed as an app</div>
    <div style="font-size: 12px; margin-top: 4px;">
      Tap Share → Add to Home Screen to install
    </div>
    <button onclick="this.parentElement.remove()" style="
      position: absolute;
      right: 8px;
      top: 8px;
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
    ">×</button>
  `,document.body.appendChild(t),setTimeout(()=>{t.parentElement&&t.remove()},1e4)}async function jj(){try{console.log("🧪 Testing push notification...");const{data:t,error:e}=await A.functions.invoke("test-push-notification",{body:{}});if(e)throw console.error("❌ Test push notification failed:",e),e;return console.log("✅ Test push notification sent:",t),t}catch(t){throw console.error("❌ Error testing push notification:",t),t}}function Nj(){return"serviceWorker"in navigator&&"PushManager"in window}function Pj({currentPage:t,onNavigate:e,onShowAuthModal:r}){const[n,s]=S.useState(!1),[i,o]=S.useState(!1),[a,l]=S.useState(!1),[u,d]=S.useState(!1),{t:h}=nt(),{totalItems:f,isCartOpen:p,setIsCartOpen:v}=Ys(),{user:x,signOut:b}=ti(),{showSuccess:y,showError:g}=ri(),m=async()=>{try{console.log("🔔 Manual test notification triggered"),console.log("🔔 Permission status:",Notification.permission),console.log("🔔 Is supported:","Notification"in window),await ze.showNotification({title:"🔔 Test Notification",body:"Bu test notification. Agar ko'rsangiz, notification ishlayapti!",tag:"test-notification-"+Date.now(),data:{orderNumber:"TEST-123"}}),y("Test notification yuborildi!")}catch(I){console.error("Test notification error:",I)}},k=async()=>{try{console.log("🧪 Manual test push notification triggered"),await jj(),y("Test push notification yuborildi!")}catch(I){console.error("Test push notification error:",I),g("Test push notification xatosi: "+I.message)}},w=async()=>{try{if(!x){g("Iltimos, avval tizimga kiring");return}if(!Nj()){g("Push notifications qo'llab-quvvatlanmaydi");return}console.log("🔔 Enabling push notifications..."),await _j(x.id),y("Push notifications yoqildi!")}catch(I){console.error("Enable push notification error:",I),g("Push notification xatosi: "+I.message)}};S.useEffect(()=>{const I=window.Telegram?.WebApp||window.location.href.includes("t.me")||window.location.href.includes("telegram.me")||navigator.userAgent.includes("TelegramBot");d(!!I)},[]),S.useEffect(()=>{if(n)return document.body.classList.add("overflow-hidden"),document.body.style.overflow="hidden",()=>{document.body.classList.remove("overflow-hidden"),document.body.style.overflow="auto"};document.body.classList.remove("overflow-hidden"),document.body.style.overflow="auto"},[n]),S.useEffect(()=>{const I=q=>{q.ctrlKey&&q.shiftKey&&q.key==="A"&&(q.preventDefault(),o(!i))};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[i]);const[_,j]=S.useState(0),N=()=>{j(I=>{const q=I+1;return q>=5?(o(!i),0):(setTimeout(()=>j(0),3e3),q)})},C=[{name:h("nav.catalog"),id:"catalog"},{name:h("nav.about"),id:"about"},{name:h("nav.contact"),id:"contact"},{name:h("nav.blog"),id:"blog"},...i?[{name:"Admin",id:"admin"}]:[]],O={hidden:{opacity:0,y:-20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"tween",ease:"easeOut",duration:.3,staggerChildren:.05,when:"beforeChildren"}},exit:{opacity:0,y:-5,scale:.98,transition:{duration:.4,ease:"easeInOut",staggerChildren:.03,when:"afterChildren"}}},ae={hidden:{opacity:0,y:10,scale:.9},show:{opacity:1,y:0,scale:1,transition:{type:"tween",ease:"easeOut",duration:.25}},exit:{opacity:0,y:3,scale:.95,transition:{duration:.3,ease:"easeInOut"}}},ue={hidden:{opacity:0,y:-12},show:{opacity:1,y:0,transition:{type:"spring",stiffness:500,damping:32}}};return c.jsxs(M.header,{variants:ue,initial:"hidden",animate:"show",className:`bg-white/3 backdrop-blur-sm border border-white/20 z-40 shadow-lg rounded-md overflow-visible ${u?"fixed top-0 left-0 right-0 m-4":"sticky top-0 m-4"}`,style:u?{top:"env(safe-area-inset-top, 0px)",marginTop:"env(safe-area-inset-top, 16px)",marginLeft:"env(safe-area-inset-left, 16px)",marginRight:"env(safe-area-inset-right, 16px)"}:{},children:[c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"flex items-center justify-between h-20 md:h-15",children:[c.jsx("div",{onClick:I=>{I.ctrlKey||I.shiftKey?N():(e("home"),window.scrollTo({top:0,left:0,behavior:"auto"}))},className:"cursor-pointer",children:c.jsx(Lu,{src:"https://iili.io/K2WCLJV.png",alt:"EURODOOR Logo",className:"h-8 w-auto"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[C.map(I=>{const q=t===I.id;return c.jsx("button",{onClick:()=>{e(I.id),window.scrollTo({top:0,left:0,behavior:"auto"})},"aria-current":q?"page":void 0,className:["text-sm font-medium transition-colors hover:text-white","border-b-2 border-transparent pb-1",q?"text-white border-white":"text-white"].join(" "),children:I.name},I.id)}),x?c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-1 px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-md transition-colors",children:[c.jsx(ys,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:x.name||x.email})]}),a&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[c.jsxs("button",{onClick:()=>{l(!1),e("profile")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(ys,{className:"h-4 w-4 mr-2"}),h("header.profile")]}),c.jsxs("button",{onClick:()=>{l(!1),e("orders")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(vt,{className:"h-4 w-4 mr-2"}),h("header.orders")]}),c.jsxs("button",{onClick:()=>{l(!1),m()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx("span",{className:"h-4 w-4 mr-2",children:"🔔"}),"Test Notification"]}),c.jsxs("button",{onClick:()=>{l(!1),w()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx("span",{className:"h-4 w-4 mr-2",children:"🔔"}),"Enable Push Notifications"]}),c.jsxs("button",{onClick:()=>{l(!1),k()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx("span",{className:"h-4 w-4 mr-2",children:"🧪"}),"Test Push Notification"]}),c.jsx("hr",{className:"my-1"}),c.jsxs("button",{onClick:()=>{l(!1),b(),y("Tizimdan chiqildi!","Muvaffaqiyatli tizimdan chiqdingiz")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(sf,{className:"h-4 w-4 mr-2"}),h("header.logout")]})]})]}):c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsxs("button",{onClick:()=>r("login"),className:"flex items-center space-x-1 px-3 py-1 text-sm text-white hover:text-gray-200 transition-colors",children:[c.jsx(nf,{className:"h-4 w-4"}),c.jsx("span",{children:h("header.login")})]}),c.jsxs("button",{onClick:()=>r("register"),className:"flex items-center space-x-1 px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-md transition-colors",children:[c.jsx(af,{className:"h-4 w-4"}),c.jsx("span",{children:h("header.register")})]})]}),c.jsxs("button",{onClick:()=>v(!p),className:"relative p-2 text-white hover:text-gray-200 transition-colors",children:[c.jsx(vt,{className:"h-6 w-6"}),f>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f})]}),c.jsx(jf,{})]}),c.jsx("button",{className:"md:hidden p-2 transition-all duration-300 hover:bg-white/10 rounded-lg","aria-expanded":n,"aria-controls":"mobile-nav","data-burger-button":!0,onClick:()=>s(I=>!I),children:c.jsx(M.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.3,ease:"easeOut"},children:n?c.jsx(Rn,{className:"h-6 w-6 text-white"}):c.jsx(Vk,{className:"h-6 w-6 text-white"})},n?"close":"menu")})]}),c.jsx(Wr,{children:n&&c.jsx(M.div,{id:"mobile-nav",variants:O,initial:"hidden",animate:"show",exit:"exit",className:"md:hidden py-4 border-t border-white/10","data-mobile-menu":!0,children:c.jsxs("nav",{className:"flex flex-col space-y-3",children:[C.map(I=>{const q=t===I.id;return c.jsx(M.button,{variants:ae,onClick:()=>{e(I.id),s(!1),window.scrollTo({top:0,left:0,behavior:"auto"})},className:["text-left px-2 py-2 text-sm font-medium transition-colors","hover:text-white rounded-md",q?"text-white":"text-gray-300"].join(" "),children:I.name},I.id)}),c.jsxs("div",{className:"px-2 py-2 border-t border-white/10 mt-4 pt-4",children:[c.jsxs("button",{onClick:()=>{v(!p),s(!1)},className:"flex items-center w-full px-2 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[c.jsx(vt,{className:"h-5 w-5 mr-3"}),c.jsx("span",{children:h("header.cart")}),f>0&&c.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f})]}),x?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{e("profile"),s(!1)},className:"flex items-center w-full px-2 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[c.jsx(ys,{className:"h-5 w-5 mr-3"}),c.jsx("span",{children:h("header.profile")})]}),c.jsxs("button",{onClick:()=>{e("orders"),s(!1)},className:"flex items-center w-full px-2 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[c.jsx(vt,{className:"h-5 w-5 mr-3"}),c.jsx("span",{children:h("header.orders")})]}),c.jsxs("button",{onClick:()=>{b(),s(!1),y("Tizimdan chiqildi!","Muvaffaqiyatli tizimdan chiqdingiz")},className:"flex items-center w-full px-2 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[c.jsx(sf,{className:"h-5 w-5 mr-3"}),c.jsx("span",{children:h("header.logout")})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{r("login"),s(!1)},className:"flex items-center w-full px-2 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[c.jsx(nf,{className:"h-5 w-5 mr-3"}),c.jsx("span",{children:h("header.login")})]}),c.jsxs("button",{onClick:()=>{r("register"),s(!1)},className:"flex items-center w-full px-2 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[c.jsx(af,{className:"h-5 w-5 mr-3"}),c.jsx("span",{children:h("header.register")})]})]})]}),c.jsx("div",{className:"px-2 py-2",children:c.jsx(jf,{})})]})},"mobile-nav")})]}),c.jsx(vj,{onNavigate:e})]})}function Xa({onNavigate:t}){const{t:e}=nt(),r=[{icon:Iu,title:e("home.security"),description:e("home.security_desc")},{icon:So,title:e("home.quality"),description:e("home.quality_desc")},{icon:Ru,title:e("home.delivery"),description:e("home.delivery_desc")}];return c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsx("section",{className:"relative h-[70vh] flex items-center justify-center overflow-hidden",children:c.jsx("div",{className:"relative container mx-auto px-4 h-full flex items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl text-white bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-8 border border-white/20 text-center shadow-2xl",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6 leading-tight bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:e("home.hero_title")}),c.jsx("p",{className:"text-xl mb-8 opacity-90 text-gray-100",children:e("home.hero_subtitle")}),c.jsxs("button",{onClick:()=>t("catalog"),className:"bg-gradient-to-r from-blue-500/30 to-purple-500/30 backdrop-blur-md text-white px-8 py-4 font-semibold rounded-xl hover:from-blue-500/40 hover:to-purple-500/40 transition-all duration-300 flex items-center gap-2 group border border-blue-500/50 shadow-lg hover:shadow-xl mx-auto transform hover:scale-105",children:[e("home.view_catalog"),c.jsx(Dk,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})})}),c.jsx("section",{className:"py-20 bg-gradient-to-b from-white/0 to-white/0 backdrop-blur-md",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:e("home.why_eurodoor")}),c.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:e("home.experience_text")})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((n,s)=>c.jsxs("div",{className:"text-center p-8 rounded-3xl hover:shadow-2xl transition-all duration-500 bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-white/20 shadow-lg hover:scale-105 hover:border-blue-500/50 group",children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500/30 to-purple-500/30 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-6 border border-white/30 group-hover:border-blue-500/50 transition-all duration-300",children:c.jsx(n.icon,{className:"h-10 w-10 text-white group-hover:text-blue-200 transition-colors duration-300"})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-4 group-hover:text-blue-100 transition-colors duration-300",children:n.title}),c.jsx("p",{className:"text-gray-200 group-hover:text-gray-100 transition-colors duration-300",children:n.description})]},s))})]})}),c.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-900/50 via-purple-900/50 to-slate-900/50 backdrop-blur-xl text-white",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-6 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:e("home.free_consultation")}),c.jsx("p",{className:"text-lg mb-8 opacity-90 text-gray-100",children:e("home.specialists_help")}),c.jsx("button",{onClick:()=>{t("contact"),window.scrollTo({top:0,left:0,behavior:"smooth"})},className:"bg-gradient-to-r from-blue-500/30 to-purple-500/30 backdrop-blur-md text-white px-8 py-4 font-semibold rounded-xl hover:from-blue-500/40 hover:to-purple-500/40 transition-all duration-300 border border-blue-500/50 shadow-lg hover:shadow-xl transform hover:scale-105",children:e("home.contact_button")})]})})]})}const Fi={async getAllProducts(t=!1){try{console.log("🔄 Fetching products...",t?"(force refresh)":"");const e=A.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});t&&e.gt("updated_at",new Date(0).toISOString());const{data:r,error:n}=await e;if(n)throw console.error("❌ Supabase error fetching products:",n),new Error(`Supabase error: ${n.message}`);return console.log("✅ Products fetched:",r?.length||0),r||[]}catch(e){throw console.error("❌ Error fetching products:",e),e}},async getProductById(t){try{const{data:e,error:r}=await A.from("products").select("*").eq("id",t).eq("is_active",!0).single();return r?(console.error("❌ Supabase error fetching product:",r),null):e}catch(e){return console.error("❌ Error fetching product:",e),null}},async getProductsByCategory(t){try{const{data:e,error:r}=await A.from("products").select("*").eq("category",t).eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw console.error("❌ Supabase error fetching products by category:",r),new Error(`Supabase error: ${r.message}`);return e||[]}catch(e){throw console.error("❌ Error fetching products by category:",e),e}},async getProductsByMaterial(t){try{const{data:e,error:r}=await A.from("products").select("*").ilike("material",`%${t}%`).eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw console.error("❌ Supabase error fetching products by material:",r),new Error(`Supabase error: ${r.message}`);return e||[]}catch(e){throw console.error("❌ Error fetching products by material:",e),e}},async searchProducts(t){try{const{data:e,error:r}=await A.from("products").select("*").or(`name.ilike.%${t}%,description.ilike.%${t}%,material.ilike.%${t}%`).eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw console.error("❌ Supabase error searching products:",r),new Error(`Supabase error: ${r.message}`);return e||[]}catch(e){throw console.error("❌ Error searching products:",e),e}},subscribeToProducts(t){return A.channel("products").on("postgres_changes",{event:"*",schema:"public",table:"products"},t).subscribe()}};function Cj({onNavigate:t}){const{t:e}=nt(),{addToCart:r}=Ys(),{showSuccess:n}=ri(),s=ay(),[i,o]=S.useState([]),[a,l]=S.useState(!0),[u,d]=S.useState(""),[h,f]=S.useState("all"),[p,v]=S.useState("all");S.useEffect(()=>{const w=async()=>{try{l(!0),console.log("🔄 Loading products...");const j=await Fi.getAllProducts();o(j),console.log("✅ Products loaded:",j.length)}catch(j){console.error("❌ Error loading products:",j),o([])}finally{l(!1)}};w();const _=Fi.subscribeToProducts(j=>{console.log("🔄 Products updated:",j),w()});return()=>{_.unsubscribe()}},[]),S.useEffect(()=>{const w=()=>{document.hidden||(console.log("🔄 Page became visible, reloading products..."),(async()=>{try{l(!0);const j=await Fi.getAllProducts(!0);o(j),console.log("✅ Products reloaded:",j.length)}catch(j){console.error("❌ Error reloading products:",j)}finally{l(!1)}})())};return document.addEventListener("visibilitychange",w),()=>{document.removeEventListener("visibilitychange",w)}},[]);const x=S.useMemo(()=>{let w=i;return u&&(w=w.filter(_=>_.name.toLowerCase().includes(u.toLowerCase())||_.material.toLowerCase().includes(u.toLowerCase())||_.description?.toLowerCase().includes(u.toLowerCase()))),h!=="all"&&(w=w.filter(_=>_.dimensions?.toLowerCase().includes(h.toLowerCase()))),p!=="all"&&(w=w.filter(_=>_.material.toLowerCase().includes(p.toLowerCase()))),w},[i,u,h,p]),b=S.useMemo(()=>["all",...new Set(i.map(_=>_.dimensions).filter(Boolean))],[i]),y=S.useMemo(()=>["all",...new Set(i.map(_=>_.material))],[i]),g=w=>{if(w.stock<=0){n("Xatolik!","Bu mahsulot omborda yo'q");return}const _={id:w.id,name:w.name,price:w.price,image:w.image||w.image_url||"",dimensions:w.dimensions,material:w.material,stock:w.stock};r(_),n("Mahsulot qo'shildi!",`${w.name} korzinkaga qo'shildi`)},m={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},k={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:s?{duration:0}:{type:"spring",stiffness:300,damping:20}}};return a?c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),c.jsx("p",{className:"text-white text-lg",children:"Mahsulotlar yuklanmoqda..."})]})})]}):c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsx("section",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl py-16 mx-4 rounded-3xl border border-white/20 shadow-2xl",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:e("catalog.title")}),c.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:e("catalog.description")})]})})}),c.jsx("section",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(py,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Mahsulot qidirish...",value:u,onChange:w=>d(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(my,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("select",{value:h,onChange:w=>f(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 appearance-none",children:b.map(w=>c.jsx("option",{value:w,className:"bg-gray-800 text-white",children:w==="all"?"Barcha o'lchamlar":w},w))})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("select",{value:p,onChange:w=>v(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 appearance-none",children:y.map(w=>c.jsx("option",{value:w,className:"bg-gray-800 text-white",children:w==="all"?"Barcha materiallar":w},w))})]})]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("p",{className:"text-gray-300",children:[x.length," ta mahsulot topildi"]})})]})}),c.jsx("section",{className:"container mx-auto px-4 pb-16",children:x.length===0?c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-8",children:[c.jsx(Ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Mahsulot topilmadi"}),c.jsx("p",{className:"text-gray-300",children:"Qidiruv shartlarini o'zgartiring yoki boshqa kategoriyani tanlang"})]})}):c.jsx(M.div,{variants:m,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(w=>c.jsxs(M.div,{variants:k,className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl shadow-xl overflow-hidden border border-white/20 hover:border-blue-500/50 transition-all duration-300 hover:scale-105 group",children:[c.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[c.jsx("img",{src:w.image||w.image_url||"https://picsum.photos/400/300?random=1",alt:w.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-blue-300 transition-colors",children:w.name}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Material:"}),c.jsx("span",{className:"ml-2",children:w.material})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Xavfsizlik:"}),c.jsx("span",{className:"ml-2",children:w.security})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"O'lcham:"}),c.jsx("span",{className:"ml-2",children:w.dimensions})]})]}),w.description&&c.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-2",children:w.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-white",children:[w.price.toLocaleString()," ",w.currency]}),c.jsxs("div",{className:"text-sm text-gray-300",children:["Qoldiq: ",w.stock," dona"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{console.log("🔍 CatalogPage: Navigating to product detail:",w.id),t("product-detail",w.id)},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",title:"Batafsil ko'rish",children:c.jsx(sc,{className:"w-5 h-5 text-white"})}),c.jsx("button",{onClick:()=>g(w),disabled:w.stock<=0,className:`p-2 rounded-lg transition-colors ${w.stock<=0?"bg-gray-500/20 cursor-not-allowed opacity-50":"bg-blue-500/20 hover:bg-blue-500/30"}`,title:w.stock<=0?"Omborda yo'q":"Korzinkaga qo'shish",children:c.jsx(vt,{className:"w-5 h-5 text-white"})})]})]})]})]},w.id))})})]})}function Tj({onNavigate:t}){const{t:e}=nt(),r=[{number:"10+",label:e("about.experience")},{number:"5000+",label:e("about.customers")},{number:"50+",label:e("about.models")},{number:"100%",label:e("about.quality")}],n=["ISO 9001:2015",e("about.gost_cert"),e("about.ce_mark"),e("about.fire_cert")];return c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"pointer-events-none fixed inset-0 z-0 bg-cover bg-center blur-[2px]",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("section",{className:"bg-white/0 rounded-2xl m-4 p-8 py-16",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-6",children:e("about.title")}),c.jsx("p",{className:"text-lg text-white leading-relaxed",children:e("about.description")})]})})}),c.jsx("section",{className:"py-16 bg-white/0 rounded-2xl m-4 p-8 text-white",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:r.map((s,i)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl md:text-4xl font-bold text-[#E32C27] mb-2",children:s.number}),c.jsx("div",{className:"text-sm text-gray-200",children:s.label})]},i))})})}),c.jsx("section",{className:"py-16 bg-white/0 m-4 rounded-2xl p-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:e("about.mission")}),c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsx("p",{children:e("about.mission_text")}),c.jsx("p",{children:e("about.doors_description")}),c.jsx("p",{children:e("about.customer_needs")})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Iu,{className:"h-6 w-6 text-[#E32C27] mt-1"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:e("about.security")}),c.jsx("p",{className:"text-sm text-white",children:e("about.highest_security")})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(So,{className:"h-6 w-6 text-[#E32C27] mt-1"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Sifat"}),c.jsx("p",{className:"text-sm text-white",children:"Premium materiallar va ishlov"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Hk,{className:"h-6 w-6 text-[#E32C27] mt-1"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Xizmat"}),c.jsx("p",{className:"text-sm text-white",children:"Professional yondashuv"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dy,{className:"h-6 w-6 text-[#E32C27] mt-1"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Yetkazib berish"}),c.jsx("p",{className:"text-sm text-white",children:"Toshkent bo'ylab bepul yetkazib berish"})]})]})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsx("div",{className:"bg-white/10 rounded-lg h-64 flex items-center justify-center",children:c.jsx(Lu,{src:"https://images.unsplash.com/photo-1629649933424-42da2426e3ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBkb29yJTIwc3RlZWx8ZW58MXx8fHwxNzU2MTA4MjM0fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:e("about.factory_alt"),className:"w-full h-full object-cover rounded-lg"})})})]})})}),c.jsx("section",{className:"py-16 bg-white/0 m-4 rounded-2xl p-8",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:e("about.certificates_standards")}),c.jsx("p",{className:"text-white max-w-2xl mx-auto",children:e("about.international_standards")})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map((s,i)=>c.jsxs("div",{className:"bg-white/10 rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-16 h-16 bg-[#D4AF37]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(So,{className:"h-8 w-8 text-[#E32C27]"})}),c.jsx("h3",{className:"font-semibold text-white",children:s})]},i))})]})}),c.jsx("section",{className:"py-16 bg-white/0qwwqwqqwwq m-4 rounded-2xl p-8 text-white",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold mb-6",children:e("about.partnership")}),c.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:e("about.partnership_desc")}),c.jsx("button",{onClick:()=>t("contact"),className:"bg-[#E32C27] text-white px-8 py-4 font-semibold rounded-lg hover:bg-[#F43737] transition-colors",children:e("about.contact_info")})]})})]})]})}const Ej={async createOrder(t){try{const r={order_number:`EURO-${Date.now().toString().slice(-6)}`,customer_name:t.customer_name,customer_phone:t.customer_phone,customer_email:t.customer_email,delivery_address:t.delivery_address,notes:t.notes,total_amount:t.total_amount,products:t.products,status:"pending"},{data:n,error:s}=await A.from("orders").insert([r]).select().single();if(s)throw console.error("❌ Supabase error creating order:",s),new Error(`Supabase error: ${s.message}`);return n}catch(e){throw console.error("❌ Error creating order:",e),e}},async getOrderByNumber(t){try{const{data:e,error:r}=await A.from("orders").select("*").eq("order_number",t).single();return r?(console.error("❌ Supabase error fetching order:",r),null):e}catch(e){return console.error("❌ Error fetching order:",e),null}},async getOrdersByCustomer(t){try{const{data:e,error:r}=await A.from("orders").select("*").eq("customer_phone",t).order("created_at",{ascending:!1});if(r)throw console.error("❌ Supabase error fetching customer orders:",r),new Error(`Supabase error: ${r.message}`);return e||[]}catch(e){throw console.error("❌ Error fetching customer orders:",e),e}},async getAllOrders(){try{const{data:t,error:e}=await A.from("orders").select("*").order("created_at",{ascending:!1});if(e)throw console.error("❌ Supabase error fetching all orders:",e),new Error(`Supabase error: ${e.message}`);return t||[]}catch(t){throw console.error("❌ Error fetching all orders:",t),t}},async updateOrderStatus(t,e){try{const{error:r}=await A.from("orders").update({status:e}).eq("id",t);if(r)throw console.error("❌ Supabase error updating order status:",r),new Error(`Supabase error: ${r.message}`);return!0}catch(r){throw console.error("❌ Error updating order status:",r),r}},async getOrderItems(t){try{const{data:e,error:r}=await A.from("order_items").select("*").eq("order_id",t).order("created_at",{ascending:!0});if(r)throw console.error("❌ Supabase error fetching order items:",r),new Error(`Supabase error: ${r.message}`);return e||[]}catch(e){throw console.error("❌ Error fetching order items:",e),e}},subscribeToOrders(t){return A.channel("orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},t).subscribe()}},Aj={async createCustomer(t){try{const{data:e,error:r}=await A.from("customers").insert([t]).select().single();if(r)throw console.error("❌ Supabase error creating customer:",r),new Error(`Supabase error: ${r.message}`);return e}catch(e){throw console.error("❌ Error creating customer:",e),e}},async getCustomerByPhone(t){try{const{data:e,error:r}=await A.from("customers").select("*").eq("phone",t).single();return r?(console.error("❌ Supabase error fetching customer:",r),null):e}catch(e){return console.error("❌ Error fetching customer:",e),null}},async updateCustomer(t,e){try{const{error:r}=await A.from("customers").update(e).eq("id",t);if(r)throw console.error("❌ Supabase error updating customer:",r),new Error(`Supabase error: ${r.message}`);return!0}catch(r){throw console.error("❌ Error updating customer:",r),r}},async upsertCustomer(t){try{let e=await this.getCustomerByPhone(t.phone);if(e)return await this.updateCustomer(e.id,t),{...e,...t};{const r=await this.createCustomer(t);if(!r)throw new Error("Failed to create customer");return r}}catch(e){throw console.error("❌ Error upserting customer:",e),e}},async getAllCustomers(){try{const{data:t,error:e}=await A.from("customers").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(e)throw console.error("❌ Supabase error fetching all customers:",e),new Error(`Supabase error: ${e.message}`);return t||[]}catch(t){throw console.error("❌ Error fetching all customers:",t),t}},subscribeToCustomers(t){return A.channel("customers").on("postgres_changes",{event:"*",schema:"public",table:"customers"},t).subscribe()}};function Oj({onNavigate:t}){const e=ay(),{t:r}=nt(),{items:n,totalPrice:s,clearCart:i}=Ys(),{user:o}=ti(),{showSuccess:a,showError:l}=ri(),[u,d]=S.useState(null),[h,f]=S.useState(!1);S.useEffect(()=>{const _=localStorage.getItem("selectedProduct");if(_)try{const j=JSON.parse(_);d(j),v(N=>({...N,product:j.name}))}catch(j){console.error("Error parsing selected product:",j)}},[]);const[p,v]=S.useState({name:o?.name||"",phone:o?.phone||"",email:o?.email||"",product:"",message:"",delivery_address:""}),[x,b]=S.useState("checking");S.useEffect(()=>{(async()=>{try{await ze.registerServiceWorker();const j=await ze.requestPermission();console.log(j?"✅ Notification permission granted":"❌ Notification permission denied")}catch(j){console.error("Error initializing notifications:",j)}})()},[]);const y=async _=>{_.preventDefault(),f(!0);try{const j=await Aj.upsertCustomer({name:p.name,phone:p.phone,email:p.email}),N=await Ej.createOrder({customer_name:p.name,customer_phone:p.phone,customer_email:p.email,delivery_address:p.delivery_address,notes:p.message,total_amount:n.length>0?s:u?.price||0,products:n.length>0?n:u?[{name:u.name,price:u.price,quantity:1,image:u.image,dimensions:u.dimensions,color:u.color,material:u.material}]:[]});if(N){const C={orderNumber:N.order_number,customerName:p.name,customerPhone:p.phone,totalAmount:n.length>0?s:u?.price||0};localStorage.setItem("lastOrderData",JSON.stringify(C));try{await ze.watchOrderStatus(N.order_number,p.phone),console.log("🔔 Order status watching started for:",N.order_number)}catch(O){console.error("Error starting order status watching:",O)}v({name:o?.name||"",phone:o?.phone||"",email:o?.email||"",product:"",message:"",delivery_address:""}),i(),d(null),localStorage.removeItem("selectedProduct"),t&&t("order-success")}}catch(j){console.error("❌ Error submitting order:",j),l("Xatolik yuz berdi!","Buyurtma yuborishda xatolik yuz berdi. Qaytadan urinib ko'ring.")}finally{f(!1)}},g=_=>{v({...p,[_.target.name]:_.target.value})},m=()=>{u&&t?(console.log("🔍 ContactPage: Navigating back to product detail:",u.id),t("product-detail",u.id)):t&&t("catalog")},k={hidden:{},show:{transition:e?{}:{when:"beforeChildren"}}},w={hidden:{opacity:0,y:40},show:{opacity:1,y:0,transition:e?{duration:0}:{duration:.9,ease:"easeOut"}}};return c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsxs(M.main,{variants:k,initial:"hidden",animate:"show",className:"relative",children:[!u&&c.jsx(M.section,{variants:w,className:"bg-white/10 backdrop-blur-xl rounded-2xl mx-4 py-16 shadow-2xl border border-white/20 mb-0",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:r("contact.title")}),c.jsx("p",{className:"text-lg text-white/90 max-w-2xl mx-auto",children:r("contact.description")})]})})}),u&&t&&c.jsx(M.section,{variants:w,className:"py-4",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("button",{onClick:m,className:"bg-white/20 backdrop-blur-xl text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-300 flex items-center gap-3 border border-white/30 shadow-lg hover:shadow-xl",children:[c.jsx(ly,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:r("contact.back_to_product")})]})})}),(n.length>0||u)&&c.jsx("section",{className:"py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/20 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(vt,{className:"h-5 w-5 text-white"}),c.jsx("h4",{className:"font-semibold text-white",children:n.length>0?`${r("contact.cart_items")} (${n.length})`:r("contact.selected_product")})]}),n.length>0?c.jsxs("div",{className:"space-y-4",children:[n.map((_,j)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:_.image,alt:_.name,className:"w-12 h-12 object-cover rounded-md"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:_.name}),c.jsxs("p",{className:"text-gray-300 text-sm",children:[_.dimensions&&`${r("contact.dimensions")}: ${_.dimensions}`,_.color&&` | ${r("contact.color")}: ${_.color}`]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-white font-semibold",children:[_.price.toLocaleString()," UZS"]}),c.jsxs("p",{className:"text-gray-300 text-sm",children:[r("contact.quantity"),": ",_.quantity]})]})]},j)),c.jsx("div",{className:"border-t border-white/20 pt-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-lg font-semibold text-white",children:[r("contact.total"),":"]}),c.jsxs("span",{className:"text-xl font-bold text-blue-400",children:[s.toLocaleString()," UZS"]})]})})]}):u?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ur,{className:"h-5 w-5 text-white"}),c.jsx("h4",{className:"font-semibold text-white",children:u.name})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-300",children:[r("contact.material"),":"]}),c.jsx("span",{className:"text-white",children:u.material})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-300",children:[r("contact.security"),":"]}),c.jsx("span",{className:"text-white",children:u.security})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-300",children:[r("contact.dimensions"),":"]}),c.jsx("span",{className:"text-white",children:u.dimensions})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-300",children:[r("contact.price"),":"]}),c.jsx("span",{className:"text-white font-semibold",children:u.price})]})]})]})}):null]})})}),c.jsx(M.div,{variants:w,className:"py-12 mt-0",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsxs(M.div,{variants:w,className:"w-full bg-white/10 backdrop-blur-xl rounded-2xl p-6 py-16 shadow-2xl border border-white/20",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:r(u?"contact.order_form":"contact.contact_form")}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsx("div",{children:c.jsx("input",{type:"text",placeholder:r("contact.name_placeholder"),value:p.name,onChange:_=>g(_),name:"name",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:border-white/40 transition-colors",required:!0})}),c.jsx("div",{children:c.jsx("input",{type:"tel",placeholder:r("contact.phone_placeholder"),value:p.phone,onChange:_=>g(_),name:"phone",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:border-white/40 transition-colors",required:!0})}),c.jsx("div",{children:c.jsx("input",{type:"email",placeholder:r("contact.email_placeholder"),value:p.email,onChange:_=>g(_),name:"email",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:border-white/40 transition-colors",required:!0})}),c.jsx("div",{children:c.jsx("input",{type:"text",placeholder:r("contact.delivery_address_placeholder"),value:p.delivery_address,onChange:_=>g(_),name:"delivery_address",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:border-white/40 transition-colors",required:!0})}),c.jsx("div",{children:c.jsx("textarea",{placeholder:r("contact.message_placeholder"),value:p.message,onChange:_=>g(_),name:"message",rows:4,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:border-white/40 transition-colors resize-none"})}),c.jsxs("button",{type:"submit",disabled:h,className:"w-full bg-white/20 text-white py-3 px-6 rounded-lg font-semibold hover:bg-white/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300 flex items-center justify-center gap-2",children:[c.jsx(of,{className:"h-5 w-5"}),h?r("contact.sending"):n.length>0?r("contact.place_order"):r(u?"contact.place_order":"contact.send_message")]})]})]}),c.jsxs(M.div,{variants:w,className:"w-full bg-white/10 backdrop-blur-xl rounded-2xl p-6 py-16 shadow-2xl border border-white/20",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:r("contact.contact_info")}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Xo,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-1",children:r("contact.phone")}),c.jsx("a",{href:"tel:+998901234567",className:"text-white hover:underline",children:"+998 90 123 45 67"})," ",c.jsx("br",{}),c.jsx("a",{href:"tel:+998912345678",className:"text-white hover:underline",children:"+998 91 234 56 78"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(of,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-1",children:r("contact.telegram")}),c.jsx("a",{href:"https://t.me/eurodoor_uz",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline",children:r("contact.telegram_handle")})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Uk,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-1",children:r("contact.instagram")}),c.jsx("a",{href:"https://instagram.com/eurodoor.uz",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline",children:r("contact.instagram_handle")})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(uy,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-1",children:r("contact.email")}),c.jsx("p",{className:"text-white",children:r("contact.email_address")})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(dy,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-1",children:r("contact.our_location")}),c.jsxs("p",{className:"text-white",children:[r("contact.address_detail"),", ",c.jsx("br",{}),r("contact.address_street")]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Ru,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-1",children:r("contact.working_hours")}),c.jsxs("p",{className:"text-white",children:[r("contact.working_hours_weekdays")," ",c.jsx("br",{}),r("contact.working_hours_weekend")]})]})]})]})]})]})})})]})]})}function zj({productId:t,onNavigate:e}){const{t:r,language:n}=nt(),{addToCart:s}=Ys(),{showSuccess:i}=ri();console.log("🎯 ProductDetailPage rendered with productId:",t),console.log("🎯 ProductDetailPage props:",{productId:t,onNavigate:!!e});const[o,a]=S.useState(null),[l,u]=S.useState(!0),[d,h]=S.useState(1);S.useEffect(()=>{const p=async()=>{try{console.log("🔄 Loading product with ID:",t),console.log("🔄 ProductId type:",typeof t),console.log("🔄 ProductId length:",t?.length),u(!0),console.log("🔄 Making direct Supabase call...");const{data:v,error:x}=await A.from("products").select("*").eq("id",t).eq("is_active",!0).single();console.log("📦 Direct Supabase response:",{data:v,error:x});const b=await Fi.getProductById(t);console.log("📦 API fetched product:",b),b?(a(b),console.log("✅ Product loaded successfully")):(console.error("❌ Product not found or inactive"),a(null))}catch(v){console.error("❌ Error loading product:",v),a(null)}finally{u(!1)}};t?(console.log("🎯 ProductId exists, loading product..."),p()):(console.log("❌ No productId provided"),u(!1))},[t]);const f=()=>{if(!o)return;if(o.stock<=0){i("Xatolik!","Bu mahsulot omborda yo'q");return}if(d>o.stock){i("Xatolik!",`Omborda faqat ${o.stock} dona mavjud`);return}const p={id:o.id,name:o.name,price:o.price,image:o.image||o.image_url||"",dimensions:o.dimensions,material:o.material,stock:o.stock};for(let v=0;v<d;v++)s(p);i("Mahsulot qo'shildi!",`${d} ta ${o.name} korzinkaga qo'shildi`)};return l?c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),c.jsx("p",{className:"text-white text-lg",children:"Mahsulot yuklanmoqda..."}),c.jsxs("p",{className:"text-white/60 text-sm mt-2",children:["Product ID: ",t]}),c.jsxs("p",{className:"text-white/60 text-sm",children:["Loading state: ",l?"true":"false"]})]})})]}):o?c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsx("div",{className:"relative z-10 p-4",children:c.jsxs("button",{onClick:()=>e("catalog"),className:"flex items-center gap-2 text-white hover:text-gray-300 transition-all duration-300 bg-white/10 backdrop-blur-xl px-4 py-2 rounded-xl border border-white/20 hover:border-blue-500/50 hover:bg-white/20",children:[c.jsx(ly,{className:"h-5 w-5"}),"Katalogga qaytish"]})}),c.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:o.name})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-white/20 shadow-2xl hover:border-blue-500/50 transition-all duration-300",children:c.jsx("img",{src:o.image||o.image_url||"https://picsum.photos/600/600?random=1",alt:o.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})})}),c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-sm rounded-2xl p-6 border border-green-500/30 shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"bg-green-500/30 border border-green-500/50 rounded-full p-2",children:c.jsx(So,{className:"h-5 w-5 text-green-300"})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Narx"})]}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("p",{className:"text-3xl font-bold text-green-300",children:[o.price.toLocaleString()," ",o.currency]}),c.jsx("p",{className:"text-gray-300 text-sm",children:o.currency==="USD"?"Dollar":"Sum"})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Batafsil ma'lumot uchun biz bilan bog'laning"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-xl hover:border-blue-500/50 transition-all duration-300",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[c.jsx(vt,{className:"h-5 w-5"}),"Korzinkaga qo'shish"]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Miqdor"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>h(Math.max(1,d-1)),className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-lg flex items-center justify-center transition-colors",children:c.jsx(hy,{className:"h-4 w-4 text-white"})}),c.jsx("span",{className:"w-16 text-center text-white font-semibold",children:d}),c.jsx("button",{onClick:()=>h(Math.min(o?.stock||1,d+1)),disabled:d>=(o?.stock||0),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${d>=(o?.stock||0)?"bg-gray-500/20 cursor-not-allowed opacity-50":"bg-white/20 hover:bg-white/30"}`,children:c.jsx(fy,{className:"h-4 w-4 text-white"})})]})]}),c.jsxs("button",{onClick:f,disabled:!o||o.stock<=0,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg ${!o||o.stock<=0?"bg-gray-500/20 text-gray-400 cursor-not-allowed border border-gray-500/50":"bg-gradient-to-r from-blue-500/30 to-purple-500/30 text-blue-300 hover:from-blue-500/40 hover:to-purple-500/40 border border-blue-500/50 hover:shadow-xl transform hover:scale-105"}`,children:[c.jsx(vt,{className:"h-5 w-5"}),!o||o.stock<=0?"Omborda yo'q":"Korzinkaga qo'shish"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-xl hover:border-blue-500/50 transition-all duration-300",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"bg-blue-500/30 border border-blue-500/50 rounded-full p-2",children:c.jsx(my,{className:"h-5 w-5 text-blue-300"})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Texnik xususiyatlar"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:"Material:"}),c.jsx("span",{className:"text-white font-semibold",children:o.material})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:"Xavfsizlik:"}),c.jsx("span",{className:"text-white font-semibold",children:o.security})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:"O'lcham:"}),c.jsx("span",{className:"text-white font-semibold",children:o.dimensions})]}),o.thickness&&c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:"Qalinlik:"}),c.jsxs("span",{className:"text-white font-semibold",children:[o.thickness,"mm"]})]}),o.lock_stages&&c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:"Qulf:"}),c.jsx("span",{className:"text-white font-semibold",children:o.lock_stages})]}),c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:"Omborda:"}),c.jsxs("span",{className:`font-semibold ${o.stock>0?"text-green-400":"text-red-400"}`,children:[o.stock," dona"]})]})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"bg-purple-500/30 border border-purple-500/50 rounded-full p-2",children:c.jsx(Iu,{className:"h-5 w-5 text-purple-300"})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Xususiyatlar"})]}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-gray-300",children:"Galvanizlangan korpus"})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-gray-300",children:"Issiqlik va tovush izolyatsiyasi"})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-gray-300",children:"UV chidamli bo'yoq"})]})]})]})]})]}),o.description&&c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-xl",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Tavsif"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:o.description})]})})]})})]}):c.jsxs("div",{className:"relative min-h-screen",children:[c.jsx("div",{className:"fixed inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://iili.io/KqAQo3g.jpg')"}}),c.jsx("div",{className:"fixed inset-0 bg-black/30"}),c.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Mahsulot topilmadi"}),c.jsx("p",{className:"text-gray-300 mb-2",children:"Kechirasiz, bu mahsulot mavjud emas"}),c.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Product ID: ",t]}),c.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Loading: ",l?"true":"false"]}),c.jsx("button",{onClick:()=>e("catalog"),className:"bg-blue-500/20 text-blue-300 px-6 py-3 rounded-lg font-semibold hover:bg-blue-500/30 transition-colors",children:"Katalogga qaytish"})]})})]})}const qy={async testOrderStatusChange(t,e){try{console.log(`🧪 Testing notification for order: ${t}, status: ${e}`);const{error:r}=await A.from("orders").update({status:e,updated_at:new Date().toISOString()}).eq("order_number",t);return r?(console.error("❌ Failed to update order status:",r),{success:!1,error:r.message}):(console.log("✅ Order status updated successfully"),{success:!0,message:"Order status updated"})}catch(r){return console.error("❌ Test notification error:",r),{success:!1,error:"Test failed"}}},async checkOrderExists(t){try{const{data:e,error:r}=await A.from("orders").select("*").eq("order_number",t).single();return r?(console.error("❌ Order not found:",r),{success:!1,error:"Order not found"}):(console.log("✅ Order found:",e),{success:!0,data:e})}catch(e){return console.error("❌ Check order error:",e),{success:!1,error:"Check failed"}}},async getAllOrders(){try{const{data:t,error:e}=await A.from("orders").select("*").order("created_at",{ascending:!1}).limit(10);return e?(console.error("❌ Failed to get orders:",e),{success:!1,error:e.message}):(console.log("✅ Orders retrieved:",t),{success:!0,data:t})}catch(t){return console.error("❌ Get orders error:",t),{success:!1,error:"Get orders failed"}}}};typeof window<"u"&&(window.testNotificationSystem=qy);const Rj=({orderNumber:t,customerName:e,customerPhone:r,totalAmount:n,onNavigate:s})=>{const{t:i}=nt(),[o,a]=S.useState({orderNumber:t||"",customerName:e||"",customerPhone:r||"",totalAmount:n||0});S.useEffect(()=>{const v=localStorage.getItem("lastOrderData");if(v){const x=JSON.parse(v);a(x)}},[]);const[l,u]=S.useState("checking");S.useEffect(()=>{(()=>{const x=ze.getPermissionStatus();u(x==="granted"?"granted":"denied")})()},[]);const d=async()=>{try{const v=await ze.requestPermission();u(v?"granted":"denied"),v&&(await ze.watchOrderStatus(o.orderNumber,o.customerPhone),console.log("🔔 Order status watching started from success page"))}catch(v){console.error("Error requesting notification permission:",v)}},h=async()=>{try{if(l!=="granted"){console.log("❌ Notification permission not granted");return}const v=await qy.testOrderStatusChange(o.orderNumber,"confirmed");v.success?console.log("✅ Test order status change successful"):console.error("❌ Test order status change failed:",v.error),await ze.showNotification({title:"✅ Test Notification",body:`Test notification for order ${o.orderNumber}. If you see this, notifications are working!`,tag:`test-${o.orderNumber}`,data:{orderNumber:o.orderNumber}}),console.log("✅ Test notification sent")}catch(v){console.error("Error sending test notification:",v)}},f=()=>{localStorage.removeItem("lastOrderData"),s("home")},p=()=>{localStorage.removeItem("lastOrderData"),s("catalog")};return c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 overflow-auto",children:c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 pt-28",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl w-full",children:[c.jsxs(M.div,{initial:{scale:.9},animate:{scale:1},transition:{delay:.2,duration:.5},className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 text-center",children:[c.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,duration:.5,type:"spring"},className:"flex justify-center mb-6",children:c.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(jo,{className:"w-12 h-12 text-green-600"})})}),c.jsx(M.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-3xl font-bold text-white mb-4",children:i("orderSuccess.title")}),c.jsx(M.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-gray-200 text-lg mb-8",children:i("orderSuccess.subtitle")}),c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 mb-8 text-left border border-white/10",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:i("orderSuccess.orderDetails")}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:i("orderSuccess.orderNumber")}),c.jsx("span",{className:"text-white font-bold text-lg",children:o.orderNumber})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:i("orderSuccess.customerName")}),c.jsx("span",{className:"text-white font-semibold",children:o.customerName})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:i("orderSuccess.phone")}),c.jsx("span",{className:"text-white font-semibold",children:o.customerPhone})]}),c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"text-gray-300 font-medium",children:i("orderSuccess.totalAmount")}),c.jsxs("span",{className:"text-green-400 font-bold text-xl",children:[o.totalAmount.toLocaleString()," so'm"]})]})]})]}),c.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"bg-blue-500/10 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-blue-400/20",children:[c.jsxs("div",{className:"flex items-center justify-center mb-3",children:[c.jsx(Xo,{className:"w-5 h-5 text-blue-400 mr-2"}),c.jsx("h4",{className:"text-lg font-semibold text-blue-300",children:i("orderSuccess.contactInfo")})]}),c.jsx("p",{className:"text-blue-200 text-center",children:i("orderSuccess.contactText")})]}),l!=="granted"&&c.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.95},className:"bg-yellow-500/10 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-yellow-400/20",children:[c.jsxs("div",{className:"flex items-center justify-center mb-3",children:[c.jsx(ef,{className:"w-5 h-5 text-yellow-400 mr-2"}),c.jsx("h4",{className:"text-lg font-semibold text-yellow-300",children:i("orderSuccess.notificationTitle")})]}),c.jsx("p",{className:"text-yellow-200 text-center mb-4",children:i("orderSuccess.notificationText")}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:d,className:"flex-1 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-200 font-semibold py-3 px-6 rounded-xl border border-yellow-400/30 transition-all duration-300 hover:scale-105",children:i("orderSuccess.enableNotifications")}),c.jsx("button",{onClick:h,className:"bg-blue-500/20 hover:bg-blue-500/30 text-blue-200 font-semibold py-3 px-4 rounded-xl border border-blue-400/30 transition-all duration-300 hover:scale-105",title:"Test notification",children:"🧪"})]})]}),l==="granted"&&c.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.95},className:"bg-green-500/10 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-green-400/20",children:[c.jsxs("div",{className:"flex items-center justify-center mb-3",children:[c.jsx(ef,{className:"w-5 h-5 text-green-400 mr-2"}),c.jsx("h4",{className:"text-lg font-semibold text-green-300",children:i("orderSuccess.notificationsEnabled")})]}),c.jsx("p",{className:"text-green-200 text-center",children:i("orderSuccess.notificationsEnabledText")})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs("button",{onClick:f,className:"flex items-center justify-center px-8 py-4 bg-white/10 backdrop-blur-sm border border-white/20 text-white rounded-2xl font-semibold hover:bg-white/20 hover:border-white/30 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 hover:scale-105",children:[c.jsx(cy,{className:"w-5 h-5 mr-2"}),i("orderSuccess.goHome")]}),c.jsxs("button",{onClick:p,className:"flex items-center justify-center px-8 py-4 bg-gradient-to-r from-emerald-500/20 to-green-500/20 backdrop-blur-sm border border-emerald-400/30 text-emerald-300 rounded-2xl font-semibold hover:from-emerald-500/30 hover:to-green-500/30 hover:border-emerald-400/50 hover:text-emerald-200 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 hover:scale-105",children:[c.jsx(gy,{className:"w-5 h-5 mr-2"}),i("orderSuccess.newOrder")]})]})]}),c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},className:"mt-8 text-center",children:c.jsx("p",{className:"text-gray-300 text-sm",children:i("orderSuccess.thankYou")})})]})})})},Za=[{key:"pending",label:"Kutilmoqda",icon:Ru,color:"text-yellow-600"},{key:"confirmed",label:"Tasdiqlangan",icon:jo,color:"text-blue-600"},{key:"processing",label:"Tayyorlanmoqda",icon:Ur,color:"text-purple-600"},{key:"shipped",label:"Yuborilgan",icon:Wk,color:"text-indigo-600"},{key:"delivered",label:"Yetkazilgan",icon:cy,color:"text-green-600"}];function Ij(){const[t,e]=S.useState(""),[r,n]=S.useState([]),[s,i]=S.useState(!1),[o,a]=S.useState(""),[l,u]=S.useState(null),{user:d}=ti(),{t:h}=nt();S.useEffect(()=>{if(d){(async()=>{try{const{data:m,error:k}=await A.from("orders").select("count").limit(1);k?console.error("❌ Supabase connection error:",k):console.log("✅ Supabase connection OK")}catch(m){console.error("❌ Supabase test error:",m)}})(),f();const g=A.channel("customer-orders-realtime",{config:{broadcast:{self:!0},presence:{key:"customer-orders"}}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},m=>{console.log("🆕 New order added:",m.new),console.log("🔄 Refreshing orders list..."),f()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},m=>{console.log("✏️ Order updated:",m.new),console.log("🔄 Payload details:",{new:m.new,old:m.old,eventType:m.eventType,schema:m.schema,table:m.table}),n(k=>k.map(w=>w.id===m.new.id?(console.log("✅ Updating order status:",m.new.status),u(new Date),{...w,...m.new}):w))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders"},m=>{console.log("🗑️ Order deleted:",m.old),console.log("🔄 Updating local state..."),n(k=>k.filter(w=>w.id!==m.old.id))}).subscribe(m=>{console.log("📡 Customer orders subscription status:",m),m==="SUBSCRIBED"?(console.log("✅ Successfully subscribed to customer orders real-time updates"),console.log("🎯 Real-time sync is now active for customer!")):m==="CHANNEL_ERROR"?(console.error("❌ Channel error in customer orders subscription"),console.error("❌ Real-time sync will not work!")):m==="TIMED_OUT"?(console.error("⏰ Customer orders subscription timed out"),console.error("❌ Real-time sync will not work!")):m==="CLOSED"?console.log("🔌 Customer orders subscription closed"):console.log("📡 Customer orders subscription status:",m)});return()=>{g.unsubscribe()}}},[d]);const f=async()=>{if(d)try{i(!0);const{data:y,error:g}=await A.from("orders").select("*").eq("customer_email",d.email).order("created_at",{ascending:!1});if(g)throw g;n(y||[])}catch(y){console.error("Buyurtmalarni yuklashda xatolik:",y),a("Buyurtmalarni yuklashda xatolik yuz berdi")}finally{i(!1)}},p=async()=>{if(t.trim())try{i(!0),a("");const{data:y,error:g}=await A.from("orders").select("*").or(`order_number.ilike.%${t}%,customer_phone.ilike.%${t}%,customer_email.ilike.%${t}%`).order("created_at",{ascending:!1});if(g)throw g;n(y||[]),!y||y.length===0?a("Buyurtma topilmadi"):console.log("✅ Orders loaded, real-time updates handled by global notification service")}catch(y){console.error("Qidiruvda xatolik:",y),a("Qidiruvda xatolik yuz berdi")}finally{i(!1)}},v=y=>Za.findIndex(g=>g.key===y),x=y=>new Date(y).toLocaleDateString("uz-UZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=y=>new Intl.NumberFormat("uz-UZ",{style:"currency",currency:"UZS",minimumFractionDigits:0}).format(y);return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Buyurtma Holatini Kuzatish"}),c.jsx("p",{className:"text-gray-300 text-lg",children:"Buyurtmalaringizning holatini real vaqtda kuzating"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 mb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(py,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Buyurtma raqami, telefon yoki email orqali qidiring",className:"w-full pl-10 pr-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:y=>y.key==="Enter"&&p()})]})}),c.jsx("button",{onClick:p,disabled:s||!t.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:s?"Qidirilmoqda...":"Qidirish"})]}),l&&c.jsxs("div",{className:"mt-4 flex items-center justify-center text-sm text-green-400",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Oxirgi yangilanish: ",l.toLocaleTimeString("uz-UZ")]})]}),o&&c.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mk,{className:"h-5 w-5 text-red-400 mr-2"}),c.jsx("p",{className:"text-red-300",children:o})]})}),c.jsx("div",{className:"space-y-6",children:r.map(y=>c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-1",children:["Buyurtma #",y.order_number]}),c.jsx("p",{className:"text-gray-300",children:x(y.created_at)})]}),c.jsx("div",{className:"mt-4 md:mt-0",children:c.jsx("span",{className:"text-2xl font-bold text-blue-400",children:b(y.total_amount)})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4 overflow-x-auto pb-2",children:Za.map((g,m)=>{const k=v(y.status),w=m<=k,_=m===k,j=g.icon;return c.jsxs("div",{className:"flex flex-col items-center min-w-0 flex-1",children:[c.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center mb-2 ${w?"bg-blue-600":"bg-gray-600"}`,children:c.jsx(j,{className:`h-4 w-4 md:h-5 md:w-5 ${w?"text-white":"text-gray-400"}`})}),c.jsx("span",{className:`text-xs text-center leading-tight hidden md:block ${w?"text-white":"text-gray-400"}`,children:g.label}),_&&c.jsx("span",{className:"text-xs text-center leading-tight text-blue-400 font-medium md:hidden mt-1",children:g.label})]},g.key)})}),c.jsxs("div",{className:"relative hidden md:block",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gray-600 rounded-full"}),c.jsx("div",{className:"absolute top-0 left-0 h-1 bg-blue-600 rounded-full transition-all duration-500",style:{width:`${v(y.status)/(Za.length-1)*100}%`}})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Mijoz Ma'lumotlari"}),c.jsxs("div",{className:"space-y-2 text-gray-300",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Ism:"})," ",y.customer_name]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Telefon:"})," ",y.customer_phone]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",y.customer_email]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Manzil:"})," ",y.delivery_address]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Mahsulotlar"}),c.jsx("div",{className:"space-y-2",children:y.products?.map((g,m)=>c.jsxs("div",{className:"text-gray-300",children:[c.jsx("p",{className:"font-medium",children:g.name}),c.jsxs("p",{className:"text-sm",children:["Miqdor: ",g.quantity," | Narx: ",b(g.price*g.quantity)]})]},m))})]})]}),y.notes&&c.jsxs("div",{className:"mt-6 p-4 bg-white/5 rounded-lg",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Qo'shimcha Izoh"}),c.jsx("p",{className:"text-gray-300",children:y.notes})]})]},y.id))}),r.length===0&&!s&&!o&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ur,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Buyurtmalar topilmadi"}),c.jsx("p",{className:"text-gray-300",children:"Buyurtma raqami, telefon yoki email orqali qidiring"})]})]})})})}function Lj({onNavigate:t}){const{user:e,updateProfile:r}=ti(),{t:n}=nt(),[s,i]=S.useState(!1),[o,a]=S.useState({name:"",phone:""});S.useEffect(()=>{e&&a({name:e.name||"",phone:e.phone||""})},[e]);const l=async()=>{try{const d=await r(o);d.success?(i(!1),alert("Profil muvaffaqiyatli yangilandi!")):alert("Xatolik: "+d.error)}catch{alert("Profil yangilashda xatolik yuz berdi")}},u=()=>{a({name:e?.name||"",phone:e?.phone||""}),i(!1)};return e?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-12 px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Mening Profilim"}),c.jsx("p",{className:"text-gray-300",children:"Shaxsiy ma'lumotlaringizni boshqaring"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Shaxsiy ma'lumotlar"}),s?c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[c.jsx(Fk,{className:"w-4 h-4"}),c.jsx("span",{children:"Saqlash"})]}),c.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[c.jsx(Rn,{className:"w-4 h-4"}),c.jsx("span",{children:"Bekor qilish"})]})]}):c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[c.jsx(Bk,{className:"w-4 h-4"}),c.jsx("span",{children:"Tahrirlash"})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:c.jsx(ys,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),s?c.jsx("input",{type:"text",value:o.name,onChange:d=>a({...o,name:d.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-white/40 transition-colors",placeholder:"Ismingizni kiriting"}):c.jsx("p",{className:"text-white font-medium",children:e.name||"Kiritilmagan"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:c.jsx(Xo,{className:"w-6 h-6 text-green-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon raqami"}),s?c.jsx("input",{type:"tel",value:o.phone,onChange:d=>a({...o,phone:d.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-white/40 transition-colors",placeholder:"+998 90 123 45 67"}):c.jsx("p",{className:"text-white font-medium",children:e.phone||"Kiritilmagan"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:c.jsx(uy,{className:"w-6 h-6 text-purple-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),c.jsx("p",{className:"text-white font-medium",children:e.email}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Email o'zgartirib bo'lmaydi"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:c.jsx($k,{className:"w-6 h-6 text-orange-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ro'yxatdan o'tgan sana"}),c.jsx("p",{className:"text-white font-medium",children:new Date(e.created_at).toLocaleDateString("uz-UZ",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})}),c.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tezkor amallar"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>t("orders"),className:"w-full flex items-center space-x-3 px-4 py-3 bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 rounded-lg transition-colors",children:[c.jsx(vt,{className:"w-5 h-5"}),c.jsx("span",{children:"Buyurtmalarim"})]}),c.jsxs("button",{onClick:()=>t("catalog"),className:"w-full flex items-center space-x-3 px-4 py-3 bg-green-600/20 hover:bg-green-600/30 text-green-300 rounded-lg transition-colors",children:[c.jsx(Ur,{className:"w-5 h-5"}),c.jsx("span",{children:"Mahsulotlar"})]})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Statistika"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-300",children:"Buyurtmalar soni"}),c.jsx("span",{className:"text-white font-semibold",children:"0"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-300",children:"Jami xarid"}),c.jsx("span",{className:"text-white font-semibold",children:"0 UZS"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-300",children:"A'zo bo'lgan"}),c.jsxs("span",{className:"text-white font-semibold",children:[Math.floor((Date.now()-new Date(e.created_at).getTime())/(1e3*60*60*24))," kun"]})]})]})]})]})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Profil ko'rish uchun tizimga kiring"}),c.jsx("button",{onClick:()=>t("home"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Bosh sahifaga qaytish"})]})})}function Mj({isLoading:t}){const[e,r]=S.useState(1);return S.useEffect(()=>{t||r(0)},[t]),!t&&e===0?null:c.jsx(Wr,{children:t&&c.jsx(M.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx(M.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"text-2xl font-bold mb-8 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Eurodoor"}),c.jsxs(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,duration:.3},className:"relative",children:[c.jsx("div",{className:"w-16 h-16 mx-auto border-4 border-white/20 border-t-blue-400 rounded-full animate-spin"}),c.jsx("div",{className:"absolute inset-0 w-16 h-16 mx-auto border-4 border-transparent border-r-purple-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),c.jsx(M.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},className:"text-white/70 mt-4 text-sm",children:"Yuklanmoqda..."})]})})})}function Dj({isOpen:t,onClose:e,mode:r,onModeChange:n}){const[s,i]=S.useState({phone:"",password:"",name:"",confirmPassword:""}),[o,a]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(""),[f,p]=S.useState(!1),{signIn:v,signUp:x}=ti(),{t:b}=nt(),{showSuccess:y}=ri(),g=k=>{const{name:w,value:_}=k.target;let j=_;if(w==="phone"){const N=_.replace(/[^\d+]/g,"");N.startsWith("998")?j="+"+N:N.startsWith("+998")?j=N:N.length>0&&!N.startsWith("+")&&(j="+998"+N)}i(N=>({...N,[w]:j})),h("")},m=async k=>{k.preventDefault(),h(""),p(!0);try{if(r==="login"){const _=`${s.phone.replace(/\D/g,"")}@eurodoor.uz`,j=await v(_,s.password);j.success?(y("Tizimga kirildi!","Muvaffaqiyatli tizimga kirdingiz"),e(),i({phone:"",password:"",name:"",confirmPassword:""}),h("")):j.error?.includes("Email not confirmed")||j.error?.includes("email_not_confirmed")?(y("Tizimga kirildi!","Muvaffaqiyatli tizimga kirdingiz"),e(),i({phone:"",password:"",name:"",confirmPassword:""}),h("")):h(j.error||b("auth.login_error"))}else{if(!s.name.trim()){h(b("auth.name_required"));return}if(!s.phone.trim()){h(b("auth.phone_required"));return}if(s.password.length<6){h(b("auth.password_min_length"));return}if(s.password!==s.confirmPassword){h(b("auth.passwords_not_match"));return}const _=`${s.phone.replace(/\D/g,"")}@eurodoor.uz`,j=await x(_,s.password,s.name,s.phone);j.success?(y("Ro'yxatdan o'tdingiz!","Muvaffaqiyatli ro'yxatdan o'tdingiz"),e(),i({phone:"",password:"",name:"",confirmPassword:""})):h(j.error||b("auth.register_error"))}}catch{h(b("auth.general_error"))}finally{p(!1)}};return t?c.jsx(Wr,{children:c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-[10001] flex items-center justify-center p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},onClick:e,children:c.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-lg shadow-xl w-full max-w-md",onClick:k=>k.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:b(r==="login"?"auth.login":"auth.register")}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors text-white",children:c.jsx(Rn,{className:"h-5 w-5 text-white"})})]}),c.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d&&c.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-md text-sm backdrop-blur-sm",children:d}),r==="register"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-white mb-1",children:[b("auth.name")," *"]}),c.jsxs("div",{className:"relative",children:[c.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-white/70"}),c.jsx("input",{type:"text",name:"name",value:s.name,onChange:g,placeholder:b("auth.name_placeholder"),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/30 rounded-md focus:ring-2 focus:ring-white/50 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm",required:!0})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-white mb-1",children:[b("auth.phone")," *"]}),c.jsxs("div",{className:"relative",children:[c.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-white/70"}),c.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:g,placeholder:b("auth.phone_placeholder"),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/30 rounded-md focus:ring-2 focus:ring-white/50 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm",required:!0})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-white mb-1",children:[b("auth.password")," *"]}),c.jsxs("div",{className:"relative",children:[c.jsx(rf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-white/70"}),c.jsx("input",{type:o?"text":"password",name:"password",value:s.password,onChange:g,placeholder:b("auth.password_placeholder"),className:"w-full pl-10 pr-12 py-2 bg-white/10 border border-white/30 rounded-md focus:ring-2 focus:ring-white/50 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm",required:!0}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white",children:o?c.jsx(tf,{className:"h-5 w-5"}):c.jsx(sc,{className:"h-5 w-5"})})]})]}),r==="register"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-white mb-1",children:[b("auth.confirm_password")," *"]}),c.jsxs("div",{className:"relative",children:[c.jsx(rf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-white/70"}),c.jsx("input",{type:l?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:g,placeholder:b("auth.confirm_password_placeholder"),className:"w-full pl-10 pr-12 py-2 bg-white/10 border border-white/30 rounded-md focus:ring-2 focus:ring-white/50 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm",required:!0}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white",children:l?c.jsx(tf,{className:"h-5 w-5"}):c.jsx(sc,{className:"h-5 w-5"})})]})]}),c.jsx("button",{type:"submit",disabled:f,className:"w-full bg-white/20 backdrop-blur-sm text-white py-2 px-4 rounded-md hover:bg-white/30 focus:ring-2 focus:ring-white/50 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-white/30",children:b(f?"auth.loading":r==="login"?"auth.login":"auth.register")})]}),c.jsx("div",{className:"px-6 pb-6",children:c.jsx("div",{className:"text-center text-sm text-white/80",children:r==="login"?c.jsxs(c.Fragment,{children:[b("auth.no_account")," ",c.jsx("button",{onClick:()=>n("register"),className:"text-white hover:text-white/80 font-medium",children:b("auth.register_link")})]}):c.jsxs(c.Fragment,{children:[b("auth.have_account")," ",c.jsx("button",{onClick:()=>n("login"),className:"text-white hover:text-white/80 font-medium",children:b("auth.login_link")})]})})})]})})}):null}function $j(){const t=()=>{const b=window.location.hash.replace("#",""),y=["home","catalog","about","contact","orders","profile","order-success","product-detail"];if(console.log("🔍 getInitialPage - hash:",b),console.log("🔍 getInitialPage - validPages:",y),b.startsWith("product-detail/"))return console.log("✅ getInitialPage - returning product-detail"),"product-detail";const g=y.includes(b);console.log("🔍 getInitialPage - isValidPage:",g);const m=g?b:"home";return console.log("🔍 getInitialPage - returning:",m),m},e=()=>{const b=window.location.hash.replace("#","");if(console.log("🔍 getProductIdFromHash - hash:",b),b.startsWith("product-detail/")){const y=b.split("/")[1];return console.log("🔍 getProductIdFromHash - extracted productId:",y),y}return console.log("🔍 getProductIdFromHash - no product ID found"),null},[r,n]=S.useState(t()),[s,i]=S.useState(null),[o,a]=S.useState(!0),[l,u]=S.useState(!1),[d,h]=S.useState("login"),[f,p]=S.useState(!1);S.useEffect(()=>{const b=window.Telegram?.WebApp||window.location.href.includes("t.me")||window.location.href.includes("telegram.me")||navigator.userAgent.includes("TelegramBot");p(!!b);const y=setTimeout(()=>{a(!1)},2e3);document.body.style.overflow="auto",document.body.classList.remove("overflow-hidden");const g=()=>{const w=t(),_=e();console.log("🔄 Hash changed to:",w),console.log("🔄 Product ID from hash:",_),n(w),w==="product-detail"&&_?(i({id:_}),console.log("✅ Set selectedProduct to:",{id:_})):i(null)},m=w=>{console.log("🔔 Service Worker message received:",w.data),w.data&&w.data.type==="NAVIGATE_TO_ORDERS"&&(console.log("🔔 Navigating to orders page from Service Worker"),v("orders"))},k=async()=>{try{console.log("🔔 Checking notification permission...");const w=ze.getPermissionStatus();console.log("🔔 Current permission status:",w),w==="granted"?(console.log("✅ Notification permission already granted"),await ze.registerServiceWorker(),console.log("✅ Service Worker registered"),await ze.startGlobalOrderWatching(),console.log("✅ Global order watching started")):w==="default"?(console.log("🔔 Requesting notification permission..."),await ze.requestPermission()?(console.log("✅ Notification permission granted"),await ze.registerServiceWorker(),await ze.startGlobalOrderWatching(),console.log("✅ Global order watching started")):console.log("❌ Notification permission denied")):console.log("❌ Notification permission denied by user")}catch(w){console.error("❌ Error initializing notifications:",w)}};return window.addEventListener("hashchange",g),navigator.serviceWorker?.addEventListener("message",m),k(),()=>{clearTimeout(y),window.removeEventListener("hashchange",g),navigator.serviceWorker?.removeEventListener("message",m),document.body.style.overflow="auto",document.body.classList.remove("overflow-hidden")}},[]),S.useEffect(()=>{const b=window.location.hash.replace("#","");if(console.log("🔍 Initial hash check:",b),b.startsWith("product-detail/")){const y=b.split("/")[1];console.log("🔍 Initial product ID:",y),i({id:y}),console.log("✅ Initial selectedProduct set to:",{id:y})}else i(null)},[]),S.useEffect(()=>{document.body.style.overflow="auto",document.body.classList.remove("overflow-hidden"),window.scrollTo({top:0,behavior:"smooth"})},[r]);const v=(b,y)=>{console.log("🔄 App: Navigating to page:",b,"productId:",y),console.log("🔄 App: Current state before navigation - currentPage:",r,"selectedProduct:",s),b==="product-detail"&&y?(console.log("🔄 App: Setting selectedProduct to:",{id:y}),i({id:y}),console.log("🔄 App: Setting currentPage to: product-detail"),n("product-detail"),window.location.hash=`product-detail/${y}`,console.log("✅ App: Product selected:",y),console.log("✅ App: Hash set to:",window.location.hash)):(n(b),i(null),window.location.hash=b,console.log("✅ App: Page set to:",b),b==="catalog"&&(console.log("🔄 Forcing catalog reload..."),setTimeout(()=>{n("catalog")},50))),console.log("🔍 Current page state:",b)},x=()=>{switch(console.log("🎯 Rendering page:",r),console.log("🎯 Current hash:",window.location.hash),console.log("🎯 Selected product:",s),r){case"home":return c.jsx(Xa,{onNavigate:v});case"catalog":return c.jsx(Cj,{onNavigate:v});case"about":return c.jsx(Tj,{onNavigate:v});case"contact":return c.jsx(Oj,{onNavigate:v});case"product-detail":const b=s?.id||e();return console.log("🎯 ProductDetail case - productId:",b,"selectedProduct:",s),console.log("🎯 Current hash:",window.location.hash),console.log("🎯 getProductIdFromHash result:",e()),console.log("🎯 selectedProduct?.id:",s?.id),console.log("🎯 getProductIdFromHash():",e()),b?(console.log("✅ Rendering ProductDetailPage with productId:",b),c.jsx(zj,{productId:b,onNavigate:v})):(console.log("❌ No productId found, showing error page"),console.log("❌ selectedProduct:",s),console.log("❌ getProductIdFromHash():",e()),c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Mahsulot topilmadi"}),c.jsxs("p",{className:"text-gray-300 mb-4",children:["Product ID: ",b||"undefined"]}),c.jsxs("p",{className:"text-gray-300 mb-4",children:["Current hash: ",window.location.hash]}),c.jsxs("p",{className:"text-gray-300 mb-4",children:["Selected product: ",s?JSON.stringify(s):"null"]}),c.jsxs("p",{className:"text-gray-300 mb-4",children:["getProductIdFromHash(): ",e()||"null"]}),c.jsx("button",{onClick:()=>v("catalog"),className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Katalogga qaytish"})]})}));case"order-success":return console.log("🎉 Rendering OrderSuccessPage!"),c.jsx(Rj,{onNavigate:v});case"orders":return c.jsx(Ij,{});case"profile":return c.jsx(Lj,{onNavigate:v});case"admin":return window.open("http://localhost:5175","_blank"),c.jsx(Xa,{onNavigate:v});default:return c.jsx(Xa,{onNavigate:v})}};return o?c.jsx(Mj,{isLoading:!0}):c.jsx(Qk,{children:c.jsx(mj,{children:c.jsx(Jk,{children:c.jsx(yj,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden",children:[c.jsx(Pj,{currentPage:r,onNavigate:v,onShowAuthModal:b=>{h(b),u(!0)}}),c.jsx(Wr,{mode:"wait",children:c.jsx(M.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`relative ${f?"pt-24":""}`,style:f?{paddingTop:"calc(env(safe-area-inset-top, 0px) + 80px)"}:{},children:x()},r)}),c.jsx(Dj,{isOpen:l,onClose:()=>u(!1),mode:d,onModeChange:h})]})})})})})}Dp(document.getElementById("root")).render(c.jsx(wc.StrictMode,{children:c.jsx($j,{})}));
