import{r as e,j as s,P as a,l as t,A as r,a as l,M as i,c as n,R as d,h as c}from"./react-vendor-OC9BnM2e.js";import{a as o,u as m,b as x}from"./catalog-B9v9_i5l.js";import{p as h}from"./lib-nofVMXM3.js";import"./vendor-DWqYTkxU.js";import"./components-SIUihzca.js";import"./animations-l-4DVOGa.js";import"./supabase-Ju67T4xf.js";function b({productId:b,onNavigate:u}){o();const{addToCart:g}=m(),{showSuccess:j}=x(),[p,f]=e.useState(null),[N,v]=e.useState(!0),[w,y]=e.useState(1),[k,z]=e.useState("");e.useEffect(()=>{b?(async()=>{try{v(!0);const e=await h.getProductById(b);e?(f(e),z(e.name)):(f(null),z(""))}catch(e){f(null)}finally{v(!1)}})():v(!1)},[b]);return N?s.jsxs("div",{className:"relative min-h-screen",children:[s.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/hero-bg.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),s.jsx("div",{className:"fixed inset-0 bg-black/30"}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg",children:"Mahsulot yuklanmoqda..."}),k&&s.jsx("p",{className:"text-white/80 text-sm mt-2",children:k})]})})]}):p?s.jsxs("div",{className:"relative min-h-screen",children:[s.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/hero-bg.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),s.jsx("div",{className:"fixed inset-0 bg-black/30"}),s.jsx("div",{className:"relative z-10 p-4",children:s.jsxs("button",{onClick:()=>u("catalog"),className:"flex items-center gap-2 text-white hover:text-gray-300 transition-all duration-300 bg-white/10 backdrop-blur-xl px-4 py-2 rounded-xl border border-white/20 hover:border-blue-500/50 hover:bg-white/20",children:[s.jsx(t,{className:"h-5 w-5"}),"Katalogga qaytish"]})}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:p.name})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-white/20 shadow-2xl hover:border-blue-500/50 transition-all duration-300",children:s.jsx("img",{src:p.image_url||"https://picsum.photos/600/600?random=1",alt:p.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})})}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-sm rounded-2xl p-6 border border-green-500/30 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"bg-green-500/30 border border-green-500/50 rounded-full p-2",children:s.jsx(r,{className:"h-5 w-5 text-green-300"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Narx"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("p",{className:"text-3xl font-bold text-green-300",children:[p.price.toLocaleString()," ",p.currency]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"USD"===p.currency?"Dollar":"Sum"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Batafsil ma'lumot uchun biz bilan bog'laning"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-xl hover:border-blue-500/50 transition-all duration-300",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(l,{className:"h-5 w-5"}),"Korzinkaga qo'shish"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Miqdor"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>y(Math.max(1,w-1)),className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-lg flex items-center justify-center transition-colors",children:s.jsx(i,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"w-16 text-center text-white font-semibold",children:w}),s.jsx("button",{onClick:()=>y(w+1),className:"w-10 h-10 rounded-lg flex items-center justify-center transition-colors bg-white/20 hover:bg-white/30",children:s.jsx(n,{className:"h-4 w-4 text-white"})})]})]}),s.jsxs("button",{onClick:()=>{if(!p)return;const e={id:p.id,name:p.name,price:p.price,image:p.image_url||"",dimensions:p.dimensions,material:p.material,stock:w};for(let s=0;s<w;s++)g(e);j("Mahsulot qo'shildi!",`${w} ta ${p.name} korzinkaga qo'shildi`)},disabled:!p,className:"w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg "+(p?"bg-gradient-to-r from-blue-500/30 to-purple-500/30 text-blue-300 hover:from-blue-500/40 hover:to-purple-500/40 border border-blue-500/50 hover:shadow-xl transform hover:scale-105":"bg-gray-500/20 text-gray-400 cursor-not-allowed border border-gray-500/50"),children:[s.jsx(l,{className:"h-5 w-5"}),p?"Korzinkaga qo'shish":"Mahsulot yuklanmoqda..."]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-xl hover:border-blue-500/50 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-blue-500/30 border border-blue-500/50 rounded-full p-2",children:s.jsx(d,{className:"h-5 w-5 text-blue-300"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Texnik xususiyatlar"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Material:"}),s.jsx("span",{className:"text-white font-semibold",children:p.material})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Xavfsizlik:"}),s.jsx("span",{className:"text-white font-semibold",children:p.security})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"O'lcham:"}),s.jsx("span",{className:"text-white font-semibold",children:p.dimensions})]}),p.thickness&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Qalinlik:"}),s.jsxs("span",{className:"text-white font-semibold",children:[p.thickness,"mm"]})]}),p.lock_stages&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Qulf:"}),s.jsx("span",{className:"text-white font-semibold",children:p.lock_stages})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Holat:"}),s.jsx("span",{className:"font-semibold text-green-400",children:"Mavjud"})]})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-purple-500/30 border border-purple-500/50 rounded-full p-2",children:s.jsx(c,{className:"h-5 w-5 text-purple-300"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Xususiyatlar"})]}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Galvanizlangan korpus"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Issiqlik va tovush izolyatsiyasi"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"UV chidamli bo'yoq"})]})]})]})]})]}),p.description&&s.jsx("div",{className:"mt-8",children:s.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-xl",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Tavsif"}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:p.description})]})})]})})]}):s.jsxs("div",{className:"relative min-h-screen",children:[s.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/hero-bg.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),s.jsx("div",{className:"fixed inset-0 bg-black/30"}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(a,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Mahsulot topilmadi"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Kechirasiz, bu mahsulot mavjud emas"}),s.jsx("button",{onClick:()=>u("catalog"),className:"bg-blue-500/20 text-blue-300 px-6 py-3 rounded-lg font-semibold hover:bg-blue-500/30 transition-colors",children:"Katalogga qaytish"})]})})]})}export{b as default};
